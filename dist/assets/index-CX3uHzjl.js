const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CustomChartView-CvU4ssdc.js","assets/CategoricalChart-tFIfmIef.js","assets/PieChart-T4taot8V.js","assets/BarChart-B6XFAM9C.js","assets/CashFlowReport-CB_kPfOO.js","assets/Legend-CEwn-U8V.js","assets/ExportModal-CE-ZSKft.js"])))=>i.map(i=>d[i]);
function L1(s,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in s)){const u=Object.getOwnPropertyDescriptor(r,o);u&&Object.defineProperty(s,o,u.get?u:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var T4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Em={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function U1(){if(Z0)return $l;Z0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:c,ref:o!==void 0?o:null,props:u}}return $l.Fragment=e,$l.jsx=n,$l.jsxs=n,$l}var ev;function P1(){return ev||(ev=1,Em.exports=U1()),Em.exports}var R=P1(),Tm={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function z1(){if(tv)return Ne;tv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function N(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,G={};function se(k,X,ne){this.props=k,this.context=X,this.refs=G,this.updater=ne||P}se.prototype.isReactComponent={},se.prototype.setState=function(k,X){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,X,"setState")},se.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ie(){}ie.prototype=se.prototype;function oe(k,X,ne){this.props=k,this.context=X,this.refs=G,this.updater=ne||P}var re=oe.prototype=new ie;re.constructor=oe,K(re,se.prototype),re.isPureReactComponent=!0;var Re=Array.isArray;function Ee(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function w(k,X,ne){var le=ne.ref;return{$$typeof:s,type:k,key:X,ref:le!==void 0?le:null,props:ne}}function O(k,X){return w(k.type,X,k.props)}function M(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function L(k){var X={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ne){return X[ne]})}var x=/\/+/g;function Ve(k,X){return typeof k=="object"&&k!==null&&k.key!=null?L(""+k.key):X.toString(36)}function et(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Ee,Ee):(k.status="pending",k.then(function(X){k.status==="pending"&&(k.status="fulfilled",k.value=X)},function(X){k.status==="pending"&&(k.status="rejected",k.reason=X)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Q(k,X,ne,le,Te){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var Ue=!1;if(k===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(k.$$typeof){case s:case e:Ue=!0;break;case v:return Ue=k._init,Q(Ue(k._payload),X,ne,le,Te)}}if(Ue)return Te=Te(k),Ue=le===""?"."+Ve(k,0):le,Re(Te)?(ne="",Ue!=null&&(ne=Ue.replace(x,"$&/")+"/"),Q(Te,X,ne,"",function(ns){return ns})):Te!=null&&(M(Te)&&(Te=O(Te,ne+(Te.key==null||k&&k.key===Te.key?"":(""+Te.key).replace(x,"$&/")+"/")+Ue)),X.push(Te)),1;Ue=0;var yt=le===""?".":le+":";if(Re(k))for(var ht=0;ht<k.length;ht++)le=k[ht],Ce=yt+Ve(le,ht),Ue+=Q(le,X,ne,Ce,Te);else if(ht=N(k),typeof ht=="function")for(k=ht.call(k),ht=0;!(le=k.next()).done;)le=le.value,Ce=yt+Ve(le,ht++),Ue+=Q(le,X,ne,Ce,Te);else if(Ce==="object"){if(typeof k.then=="function")return Q(et(k),X,ne,le,Te);throw X=String(k),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function te(k,X,ne){if(k==null)return k;var le=[],Te=0;return Q(k,le,"","",function(Ce){return X.call(ne,Ce,Te++)}),le}function pe(k){if(k._status===-1){var X=k._result;X=X(),X.then(function(ne){(k._status===0||k._status===-1)&&(k._status=1,k._result=ne)},function(ne){(k._status===0||k._status===-1)&&(k._status=2,k._result=ne)}),k._status===-1&&(k._status=0,k._result=X)}if(k._status===1)return k._result.default;throw k._result}var Pe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Be={map:te,forEach:function(k,X,ne){te(k,function(){X.apply(this,arguments)},ne)},count:function(k){var X=0;return te(k,function(){X++}),X},toArray:function(k){return te(k,function(X){return X})||[]},only:function(k){if(!M(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ne.Activity=T,Ne.Children=Be,Ne.Component=se,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=oe,Ne.StrictMode=r,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},Ne.cache=function(k){return function(){return k.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(k,X,ne){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var le=K({},k.props),Te=k.key;if(X!=null)for(Ce in X.key!==void 0&&(Te=""+X.key),X)!C.call(X,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&X.ref===void 0||(le[Ce]=X[Ce]);var Ce=arguments.length-2;if(Ce===1)le.children=ne;else if(1<Ce){for(var Ue=Array(Ce),yt=0;yt<Ce;yt++)Ue[yt]=arguments[yt+2];le.children=Ue}return w(k.type,Te,le)},Ne.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ne.createElement=function(k,X,ne){var le,Te={},Ce=null;if(X!=null)for(le in X.key!==void 0&&(Ce=""+X.key),X)C.call(X,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Te[le]=X[le]);var Ue=arguments.length-2;if(Ue===1)Te.children=ne;else if(1<Ue){for(var yt=Array(Ue),ht=0;ht<Ue;ht++)yt[ht]=arguments[ht+2];Te.children=yt}if(k&&k.defaultProps)for(le in Ue=k.defaultProps,Ue)Te[le]===void 0&&(Te[le]=Ue[le]);return w(k,Ce,Te)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(k){return{$$typeof:m,render:k}},Ne.isValidElement=M,Ne.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:pe}},Ne.memo=function(k,X){return{$$typeof:p,type:k,compare:X===void 0?null:X}},Ne.startTransition=function(k){var X=I.T,ne={};I.T=ne;try{var le=k(),Te=I.S;Te!==null&&Te(ne,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ee,Pe)}catch(Ce){Pe(Ce)}finally{X!==null&&ne.types!==null&&(X.types=ne.types),I.T=X}},Ne.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ne.use=function(k){return I.H.use(k)},Ne.useActionState=function(k,X,ne){return I.H.useActionState(k,X,ne)},Ne.useCallback=function(k,X){return I.H.useCallback(k,X)},Ne.useContext=function(k){return I.H.useContext(k)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(k,X){return I.H.useDeferredValue(k,X)},Ne.useEffect=function(k,X){return I.H.useEffect(k,X)},Ne.useEffectEvent=function(k){return I.H.useEffectEvent(k)},Ne.useId=function(){return I.H.useId()},Ne.useImperativeHandle=function(k,X,ne){return I.H.useImperativeHandle(k,X,ne)},Ne.useInsertionEffect=function(k,X){return I.H.useInsertionEffect(k,X)},Ne.useLayoutEffect=function(k,X){return I.H.useLayoutEffect(k,X)},Ne.useMemo=function(k,X){return I.H.useMemo(k,X)},Ne.useOptimistic=function(k,X){return I.H.useOptimistic(k,X)},Ne.useReducer=function(k,X,ne){return I.H.useReducer(k,X,ne)},Ne.useRef=function(k){return I.H.useRef(k)},Ne.useState=function(k){return I.H.useState(k)},Ne.useSyncExternalStore=function(k,X,ne){return I.H.useSyncExternalStore(k,X,ne)},Ne.useTransition=function(){return I.H.useTransition()},Ne.version="19.2.3",Ne}var nv;function wg(){return nv||(nv=1,Tm.exports=z1()),Tm.exports}var ee=wg();const Rg=rT(ee),A4=L1({__proto__:null,default:Rg},[ee]);var Am={exports:{}},Wl={},bm={exports:{}},Sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function j1(){return iv||(iv=1,(function(s){function e(Q,te){var pe=Q.length;Q.push(te);e:for(;0<pe;){var Pe=pe-1>>>1,Be=Q[Pe];if(0<o(Be,te))Q[Pe]=te,Q[pe]=Be,pe=Pe;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var te=Q[0],pe=Q.pop();if(pe!==te){Q[0]=pe;e:for(var Pe=0,Be=Q.length,k=Be>>>1;Pe<k;){var X=2*(Pe+1)-1,ne=Q[X],le=X+1,Te=Q[le];if(0>o(ne,pe))le<Be&&0>o(Te,ne)?(Q[Pe]=Te,Q[le]=pe,Pe=le):(Q[Pe]=ne,Q[X]=pe,Pe=X);else if(le<Be&&0>o(Te,pe))Q[Pe]=Te,Q[le]=pe,Pe=le;else break e}}return te}function o(Q,te){var pe=Q.sortIndex-te.sortIndex;return pe!==0?pe:Q.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();s.unstable_now=function(){return c.now()-m}}var g=[],p=[],v=1,T=null,A=3,N=!1,P=!1,K=!1,G=!1,se=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function re(Q){for(var te=n(p);te!==null;){if(te.callback===null)r(p);else if(te.startTime<=Q)r(p),te.sortIndex=te.expirationTime,e(g,te);else break;te=n(p)}}function Re(Q){if(K=!1,re(Q),!P)if(n(g)!==null)P=!0,Ee||(Ee=!0,L());else{var te=n(p);te!==null&&et(Re,te.startTime-Q)}}var Ee=!1,I=-1,C=5,w=-1;function O(){return G?!0:!(s.unstable_now()-w<C)}function M(){if(G=!1,Ee){var Q=s.unstable_now();w=Q;var te=!0;try{e:{P=!1,K&&(K=!1,ie(I),I=-1),N=!0;var pe=A;try{t:{for(re(Q),T=n(g);T!==null&&!(T.expirationTime>Q&&O());){var Pe=T.callback;if(typeof Pe=="function"){T.callback=null,A=T.priorityLevel;var Be=Pe(T.expirationTime<=Q);if(Q=s.unstable_now(),typeof Be=="function"){T.callback=Be,re(Q),te=!0;break t}T===n(g)&&r(g),re(Q)}else r(g);T=n(g)}if(T!==null)te=!0;else{var k=n(p);k!==null&&et(Re,k.startTime-Q),te=!1}}break e}finally{T=null,A=pe,N=!1}te=void 0}}finally{te?L():Ee=!1}}}var L;if(typeof oe=="function")L=function(){oe(M)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Ve=x.port2;x.port1.onmessage=M,L=function(){Ve.postMessage(null)}}else L=function(){se(M,0)};function et(Q,te){I=se(function(){Q(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var te=3;break;default:te=A}var pe=A;A=te;try{return Q()}finally{A=pe}},s.unstable_requestPaint=function(){G=!0},s.unstable_runWithPriority=function(Q,te){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pe=A;A=Q;try{return te()}finally{A=pe}},s.unstable_scheduleCallback=function(Q,te,pe){var Pe=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Pe+pe:Pe):pe=Pe,Q){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=pe+Be,Q={id:v++,callback:te,priorityLevel:Q,startTime:pe,expirationTime:Be,sortIndex:-1},pe>Pe?(Q.sortIndex=pe,e(p,Q),n(g)===null&&Q===n(p)&&(K?(ie(I),I=-1):K=!0,et(Re,pe-Pe))):(Q.sortIndex=Be,e(g,Q),P||N||(P=!0,Ee||(Ee=!0,L()))),Q},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(Q){var te=A;return function(){var pe=A;A=te;try{return Q.apply(this,arguments)}finally{A=pe}}}})(Sm)),Sm}var sv;function B1(){return sv||(sv=1,bm.exports=j1()),bm.exports}var wm={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function F1(){if(rv)return cn;rv=1;var s=wg();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:p,implementation:v}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cn.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,v)},cn.flushSync=function(g){var p=c.T,v=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=p,r.p=v,r.d.f()}},cn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},cn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},cn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,T=m(v,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:N}):v==="script"&&r.d.X(g,{crossOrigin:T,integrity:A,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},cn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},cn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,T=m(v,p.crossOrigin);r.d.L(g,v,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},cn.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},cn.requestFormReset=function(g){r.d.r(g)},cn.unstable_batchedUpdates=function(g,p){return g(p)},cn.useFormState=function(g,p,v){return c.H.useFormState(g,p,v)},cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},cn.version="19.2.3",cn}var av;function aT(){if(av)return wm.exports;av=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),wm.exports=F1(),wm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function q1(){if(ov)return Wl;ov=1;var s=B1(),e=wg(),n=aT();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case se:return"Profiler";case G:return"StrictMode";case Re:return"Suspense";case Ee:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case oe:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:Ve(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return Ve(t(i))}catch{}}return null}var et=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Pe=[],Be=-1;function k(t){return{current:t}}function X(t){0>Be||(t.current=Pe[Be],Pe[Be]=null,Be--)}function ne(t,i){Be++,Pe[Be]=t.current,t.current=i}var le=k(null),Te=k(null),Ce=k(null),Ue=k(null);function yt(t,i){switch(ne(Ce,i),ne(Te,t),ne(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?A0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=A0(i),t=b0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(le),ne(le,t)}function ht(){X(le),X(Te),X(Ce)}function ns(t){t.memoizedState!==null&&ne(Ue,t);var i=le.current,a=b0(i,t.type);i!==a&&(ne(Te,t),ne(le,a))}function Ls(t){Te.current===t&&(X(le),X(Te)),Ue.current===t&&(X(Ue),Kl._currentValue=pe)}var Us,Ai;function qn(t){if(Us===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Us=i&&i[1]||"",Ai=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Us+t+Ai}var is=!1;function ss(t,i){if(!t||is)return"";is=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var F=H}Reflect.construct(t,[],J)}else{try{J.call()}catch(H){F=H}t.call(J.prototype)}}else{try{throw Error()}catch(H){F=H}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&F&&typeof H.stack=="string")return[H.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var D=_.split(`
`),B=b.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===B.length)for(l=D.length-1,f=B.length-1;1<=l&&0<=f&&D[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==B[f]){var Y=`
`+D[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{is=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?qn(a):""}function Br(t,i){switch(t.tag){case 26:case 27:case 5:return qn(t.type);case 16:return qn("Lazy");case 13:return t.child!==i&&i!==null?qn("Suspense Fallback"):qn("Suspense");case 19:return qn("SuspenseList");case 0:case 15:return ss(t.type,!1);case 11:return ss(t.type.render,!1);case 1:return ss(t.type,!0);case 31:return qn("Activity");default:return""}}function Fr(t){try{var i="",a=null;do i+=Br(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var St=Object.prototype.hasOwnProperty,xt=s.unstable_scheduleCallback,bi=s.unstable_cancelCallback,$o=s.unstable_shouldYield,Ua=s.unstable_requestPaint,ce=s.unstable_now,he=s.unstable_getCurrentPriorityLevel,me=s.unstable_ImmediatePriority,Ie=s.unstable_UserBlockingPriority,ye=s.unstable_NormalPriority,Ye=s.unstable_LowPriority,At=s.unstable_IdlePriority,_t=s.log,Hn=s.unstable_setDisableYieldValue,Zt=null,vt=null;function Dt(t){if(typeof _t=="function"&&Hn(t),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(Zt,t)}catch{}}var ut=Math.clz32?Math.clz32:Pa,Ps=Math.log,Gn=Math.LN2;function Pa(t){return t>>>=0,t===0?32:31-(Ps(t)/Gn|0)|0}var xn=256,rs=262144,Vt=4194304;function Si(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Si(l):(_&=b,_!==0?f=Si(_):a||(a=b&~t,a!==0&&(f=Si(a))))):(b=l&~d,b!==0?f=Si(b):_!==0?f=Si(_):a||(a=l&~t,a!==0&&(f=Si(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function oi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Sf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ju(){var t=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),t}function Ri(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function qr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wf(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-ut(a),J=1<<Y;b[Y]=0,D[Y]=-1;var F=B[Y];if(F!==null)for(B[Y]=null,Y=0;Y<F.length;Y++){var H=F[Y];H!==null&&(H.lane&=-536870913)}a&=~J}l!==0&&Hr(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Hr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ut(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Wo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ut(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Jo(t,i){var a=i&-i;return a=(a&42)!==0?1:Gr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Gr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function as(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:K0(t.type))}function li(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var ui=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ui,Xt="__reactProps$"+ui,Ci="__reactContainer$"+ui,za="__reactEvents$"+ui,Rf="__reactListeners$"+ui,Fu="__reactHandles$"+ui,qu="__reactResources$"+ui,Ii="__reactMarker$"+ui;function ja(t){delete t[Lt],delete t[Xt],delete t[za],delete t[Rf],delete t[Fu]}function xi(t){var i=t[Lt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ci]||a[Lt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=D0(t);t!==null;){if(a=t[Lt])return a;t=D0(t)}return i}t=a,a=t.parentNode}return null}function Kn(t){if(t=t[Lt]||t[Ci]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Dn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Di(t){var i=t[qu];return i||(i=t[qu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ut(t){t[Ii]=!0}var Zo=new Set,el={};function Ni(t,i){Oi(t,i),Oi(t+"Capture",i)}function Oi(t,i){for(el[t]=i,t=0;t<i.length;t++)Zo.add(i[t])}var tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},il={};function Hu(t){return St.call(il,t)?!0:St.call(nl,t)?!1:tl.test(t)?il[t]=!0:(nl[t]=!0,!1)}function Ba(t,i,a){if(Hu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Nn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Pt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zs(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function nt(t){if(!t._valueTracker){var i=zs(t)?"checked":"value";t._valueTracker=sl(t,i,""+t[i])}}function Kr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=zs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qr=/[\n"\\]/g;function vn(t){return t.replace(Qr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Fa(t,i,a,l,f,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+$t(i)):t.value!==""+$t(i)&&(t.value=""+$t(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?rl(t,_,$t(i)):a!=null?rl(t,_,$t(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+$t(b):t.removeAttribute("name")}function Gu(t,i,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){nt(t);return}a=a!=null?""+$t(a):"",i=i!=null?""+$t(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),nt(t)}function rl(t,i,a){i==="number"&&Mi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function js(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+$t(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Ku(t,i,a){if(i!=null&&(i=""+$t(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+$t(a):""}function Bs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(et(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=$t(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),nt(t)}function En(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function al(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Qu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function ol(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&al(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&al(t,d,i[d])}function qa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(t){return Fs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ci(){}var ll=null;function Qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qs=null,ki=null;function Yr(t){var i=Kn(t);if(i&&(t=i.stateNode)){var a=t[Xt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Fa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Xt]||null;if(!f)throw Error(r(90));Fa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Kr(l)}break e;case"textarea":Ku(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&js(t,!!a.multiple,i,!1)}}}var Ga=!1;function Hs(t,i,a){if(Ga)return t(i,a);Ga=!0;try{var l=t(i);return l}finally{if(Ga=!1,(qs!==null||ki!==null)&&(Bc(),qs&&(i=qs,t=ki,ki=qs=null,Yr(i),t)))for(i=0;i<t.length;i++)Yr(t[i])}}function hi(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Xt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(Yn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Xr=!1}var Vi=null,ul=null,$r=null;function cl(){if($r)return $r;var t,i=ul,a=i.length,l,f="value"in Vi?Vi.value:Vi.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return $r=f.slice(t,1<l?1-l:void 0)}function Wr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function os(){return!0}function fi(){return!1}function en(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?os:fi,this.isPropagationStopped=fi,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),i}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=en(ls),Gs=T({},ls,{view:0,detail:0}),hl=en(Gs),Ks,Ka,Ui,Qa=T({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(Ks=t.screenX-Ui.screenX,Ka=t.screenY-Ui.screenY):Ka=Ks=0,Ui=t),Ks)},movementY:function(t){return"movementY"in t?t.movementY:Ka}}),fl=en(Qa),Jr=T({},Qa,{dataTransfer:0}),Xu=en(Jr),$u=T({},Gs,{relatedTarget:0}),Zr=en($u),dl=T({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Wu=en(dl),Ya=T({},ls,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ju=en(Ya),Zu=T({},ls,{data:0}),Pi=en(Zu),ec={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ic(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=nc[t])?!!i[t]:!1}function Qs(){return ic}var gn=T({},Gs,{key:function(t){if(t.key){var i=ec[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Wr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(t){return t.type==="keypress"?Wr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sc=en(gn),rc=T({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),us=en(rc),h=T({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),y=en(h),E=T({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=en(E),z=T({},Qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=en(z),ae=T({},ls,{newState:0,oldState:0}),Me=en(ae),Nt=[9,13,27,32],Je=Yn&&"CompositionEvent"in window,Et=null;Yn&&"documentMode"in document&&(Et=document.documentMode);var Xn=Yn&&"TextEvent"in window&&!Et,zi=Yn&&(!Je||Et&&8<Et&&11>=Et),di=" ",mi=!1;function ea(t,i){switch(t){case"keyup":return Nt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function aS(t,i){switch(t){case"compositionend":return Xa(i);case"keypress":return i.which!==32?null:(mi=!0,di);case"textInput":return t=i.data,t===di&&mi?null:t;default:return null}}function oS(t,i){if($a)return t==="compositionend"||!Je&&ea(t,i)?(t=cl(),$r=ul=Vi=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return zi&&i.locale!=="ko"?null:i.data;default:return null}}var lS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!lS[t.type]:i==="textarea"}function kp(t,i,a,l){qs?ki?ki.push(l):ki=[l]:qs=l,i=Yc(i,"onChange"),0<i.length&&(a=new Li("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ml=null,gl=null;function uS(t){p0(t,0)}function ac(t){var i=Dn(t);if(Kr(i))return t}function Vp(t,i){if(t==="change")return i}var Lp=!1;if(Yn){var Cf;if(Yn){var If="oninput"in document;if(!If){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),If=typeof Up.oninput=="function"}Cf=If}else Cf=!1;Lp=Cf&&(!document.documentMode||9<document.documentMode)}function Pp(){ml&&(ml.detachEvent("onpropertychange",zp),gl=ml=null)}function zp(t){if(t.propertyName==="value"&&ac(gl)){var i=[];kp(i,gl,t,Qn(t)),Hs(uS,i)}}function cS(t,i,a){t==="focusin"?(Pp(),ml=i,gl=a,ml.attachEvent("onpropertychange",zp)):t==="focusout"&&Pp()}function hS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ac(gl)}function fS(t,i){if(t==="click")return ac(i)}function dS(t,i){if(t==="input"||t==="change")return ac(i)}function mS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var On=typeof Object.is=="function"?Object.is:mS;function pl(t,i){if(On(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!St.call(i,f)||!On(t[f],i[f]))return!1}return!0}function jp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bp(t,i){var a=jp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jp(a)}}function Fp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Fp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function qp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Mi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Mi(t.document)}return i}function xf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var gS=Yn&&"documentMode"in document&&11>=document.documentMode,Wa=null,Df=null,yl=null,Nf=!1;function Hp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nf||Wa==null||Wa!==Mi(l)||(l=Wa,"selectionStart"in l&&xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&pl(yl,l)||(yl=l,l=Yc(Df,"onSelect"),0<l.length&&(i=new Li("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Wa)))}function ta(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ja={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},Of={},Gp={};Yn&&(Gp=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function na(t){if(Of[t])return Of[t];if(!Ja[t])return t;var i=Ja[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Gp)return Of[t]=i[a];return t}var Kp=na("animationend"),Qp=na("animationiteration"),Yp=na("animationstart"),pS=na("transitionrun"),yS=na("transitionstart"),_S=na("transitioncancel"),Xp=na("transitionend"),$p=new Map,Mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mf.push("scrollEnd");function gi(t,i){$p.set(t,i),Ni(i,[t])}var oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},$n=[],Za=0,kf=0;function lc(){for(var t=Za,i=kf=Za=0;i<t;){var a=$n[i];$n[i++]=null;var l=$n[i];$n[i++]=null;var f=$n[i];$n[i++]=null;var d=$n[i];if($n[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Wp(a,f,d)}}function uc(t,i,a,l){$n[Za++]=t,$n[Za++]=i,$n[Za++]=a,$n[Za++]=l,kf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Vf(t,i,a,l){return uc(t,i,a,l),cc(t)}function ia(t,i){return uc(t,null,null,i),cc(t)}function Wp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-ut(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function cc(t){if(50<zl)throw zl=0,Hd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var eo={};function vS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,i,a,l){return new vS(t,i,a,l)}function Lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cs(t,i){var a=t.alternate;return a===null?(a=Mn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Jp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function hc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Lf(t)&&(_=1);else if(typeof t=="string")_=S1(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=Mn(31,a,i,f),t.elementType=w,t.lanes=d,t;case K:return sa(a.children,f,d,i);case G:_=8,f|=24;break;case se:return t=Mn(12,a,i,f|2),t.elementType=se,t.lanes=d,t;case Re:return t=Mn(13,a,i,f),t.elementType=Re,t.lanes=d,t;case Ee:return t=Mn(19,a,i,f),t.elementType=Ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oe:_=10;break e;case ie:_=9;break e;case re:_=11;break e;case I:_=14;break e;case C:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=Mn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function sa(t,i,a,l){return t=Mn(7,t,l,i),t.lanes=a,t}function Uf(t,i,a){return t=Mn(6,t,null,i),t.lanes=a,t}function Zp(t){var i=Mn(18,null,null,0);return i.stateNode=t,i}function Pf(t,i,a){return i=Mn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ey=new WeakMap;function Wn(t,i){if(typeof t=="object"&&t!==null){var a=ey.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Fr(i)},ey.set(t,i),i)}return{value:t,source:i,stack:Fr(i)}}var to=[],no=0,fc=null,_l=0,Jn=[],Zn=0,Ys=null,ji=1,Bi="";function hs(t,i){to[no++]=_l,to[no++]=fc,fc=t,_l=i}function ty(t,i,a){Jn[Zn++]=ji,Jn[Zn++]=Bi,Jn[Zn++]=Ys,Ys=t;var l=ji;t=Bi;var f=32-ut(l)-1;l&=~(1<<f),a+=1;var d=32-ut(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,ji=1<<32-ut(i)+f|a<<f|l,Bi=d+t}else ji=1<<d|a<<f|l,Bi=t}function zf(t){t.return!==null&&(hs(t,1),ty(t,1,0))}function jf(t){for(;t===fc;)fc=to[--no],to[no]=null,_l=to[--no],to[no]=null;for(;t===Ys;)Ys=Jn[--Zn],Jn[Zn]=null,Bi=Jn[--Zn],Jn[Zn]=null,ji=Jn[--Zn],Jn[Zn]=null}function ny(t,i){Jn[Zn++]=ji,Jn[Zn++]=Bi,Jn[Zn++]=Ys,ji=i.id,Bi=i.overflow,Ys=t}var tn=null,dt=null,Qe=!1,Xs=null,ei=!1,Bf=Error(r(519));function $s(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(Wn(i,t)),Bf}function iy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Lt]=t,i[Xt]=l,a){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(a=0;a<Bl.length;a++)je(Bl[a],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),Gu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),Bs(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||E0(i.textContent,a)?(l.popover!=null&&(je("beforetoggle",i),je("toggle",i)),l.onScroll!=null&&je("scroll",i),l.onScrollEnd!=null&&je("scrollend",i),l.onClick!=null&&(i.onclick=ci),i=!0):i=!1,i||$s(t,!0)}function sy(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:tn=tn.return}}function io(t){if(t!==tn)return!1;if(!Qe)return sy(t),Qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||rm(t.type,t.memoizedProps)),a=!a),a&&dt&&$s(t),sy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=x0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=x0(t)}else i===27?(i=dt,cr(t.type)?(t=cm,cm=null,dt=t):dt=i):dt=tn?ni(t.stateNode.nextSibling):null;return!0}function ra(){dt=tn=null,Qe=!1}function Ff(){var t=Xs;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Xs=null),t}function vl(t){Xs===null?Xs=[t]:Xs.push(t)}var qf=k(null),aa=null,fs=null;function Ws(t,i,a){ne(qf,i._currentValue),i._currentValue=a}function ds(t){t._currentValue=qf.current,X(qf)}function Hf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Gf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var D=0;D<i.length;D++)if(b.context===i[D]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Hf(d.return,a,t),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Hf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function so(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var b=f.type;On(f.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(f===Ue.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Kl):t=[Kl])}f=f.return}t!==null&&Gf(i,t,a,l),i.flags|=262144}function dc(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function oa(t){aa=t,fs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return ry(aa,t)}function mc(t,i){return aa===null&&oa(t),ry(t,i)}function ry(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},fs===null){if(t===null)throw Error(r(308));fs=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else fs=fs.next=i;return a}var ES=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},TS=s.unstable_scheduleCallback,AS=s.unstable_NormalPriority,zt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new ES,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&TS(AS,function(){t.controller.abort()})}var Tl=null,Qf=0,ro=0,ao=null;function bS(t,i){if(Tl===null){var a=Tl=[];Qf=0,ro=$d(),ao={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Qf++,i.then(ay,ay),i}function ay(){if(--Qf===0&&Tl!==null){ao!==null&&(ao.status="fulfilled");var t=Tl;Tl=null,ro=0,ao=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function SS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var oy=Q.S;Q.S=function(t,i){H_=ce(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&bS(t,i),oy!==null&&oy(t,i)};var la=k(null);function Yf(){var t=la.current;return t!==null?t:ct.pooledCache}function gc(t,i){i===null?ne(la,la.current):ne(la,i.pool)}function ly(){var t=Yf();return t===null?null:{parent:zt._currentValue,pool:t}}var oo=Error(r(460)),Xf=Error(r(474)),pc=Error(r(542)),yc={then:function(){}};function uy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ci,ci),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,fy(t),t;default:if(typeof i.status=="string")i.then(ci,ci);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,fy(t),t}throw ca=i,oo}}function ua(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ca=a,oo):a}}var ca=null;function hy(){if(ca===null)throw Error(r(459));var t=ca;return ca=null,t}function fy(t){if(t===oo||t===pc)throw Error(r(483))}var lo=null,Al=0;function _c(t){var i=Al;return Al+=1,lo===null&&(lo=[]),cy(lo,t,i)}function bl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function vc(t,i){throw i.$$typeof===A?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function dy(t){function i(U,V){if(t){var j=U.deletions;j===null?(U.deletions=[V],U.flags|=16):j.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function f(U,V){return U=cs(U,V),U.index=0,U.sibling=null,U}function d(U,V,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<V?(U.flags|=67108866,V):j):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,V,j,$){return V===null||V.tag!==6?(V=Uf(j,U.mode,$),V.return=U,V):(V=f(V,j),V.return=U,V)}function D(U,V,j,$){var _e=j.type;return _e===K?Y(U,V,j.props.children,$,j.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===C&&ua(_e)===V.type)?(V=f(V,j.props),bl(V,j),V.return=U,V):(V=hc(j.type,j.key,j.props,null,U.mode,$),bl(V,j),V.return=U,V)}function B(U,V,j,$){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=Pf(j,U.mode,$),V.return=U,V):(V=f(V,j.children||[]),V.return=U,V)}function Y(U,V,j,$,_e){return V===null||V.tag!==7?(V=sa(j,U.mode,$,_e),V.return=U,V):(V=f(V,j),V.return=U,V)}function J(U,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Uf(""+V,U.mode,j),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case N:return j=hc(V.type,V.key,V.props,null,U.mode,j),bl(j,V),j.return=U,j;case P:return V=Pf(V,U.mode,j),V.return=U,V;case C:return V=ua(V),J(U,V,j)}if(et(V)||L(V))return V=sa(V,U.mode,j,null),V.return=U,V;if(typeof V.then=="function")return J(U,_c(V),j);if(V.$$typeof===oe)return J(U,mc(U,V),j);vc(U,V)}return null}function F(U,V,j,$){var _e=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return _e!==null?null:b(U,V,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case N:return j.key===_e?D(U,V,j,$):null;case P:return j.key===_e?B(U,V,j,$):null;case C:return j=ua(j),F(U,V,j,$)}if(et(j)||L(j))return _e!==null?null:Y(U,V,j,$,null);if(typeof j.then=="function")return F(U,V,_c(j),$);if(j.$$typeof===oe)return F(U,V,mc(U,j),$);vc(U,j)}return null}function H(U,V,j,$,_e){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return U=U.get(j)||null,b(V,U,""+$,_e);if(typeof $=="object"&&$!==null){switch($.$$typeof){case N:return U=U.get($.key===null?j:$.key)||null,D(V,U,$,_e);case P:return U=U.get($.key===null?j:$.key)||null,B(V,U,$,_e);case C:return $=ua($),H(U,V,j,$,_e)}if(et($)||L($))return U=U.get(j)||null,Y(V,U,$,_e,null);if(typeof $.then=="function")return H(U,V,j,_c($),_e);if($.$$typeof===oe)return H(U,V,j,mc(V,$),_e);vc(V,$)}return null}function de(U,V,j,$){for(var _e=null,$e=null,ge=V,Le=V=0,qe=null;ge!==null&&Le<j.length;Le++){ge.index>Le?(qe=ge,ge=null):qe=ge.sibling;var We=F(U,ge,j[Le],$);if(We===null){ge===null&&(ge=qe);break}t&&ge&&We.alternate===null&&i(U,ge),V=d(We,V,Le),$e===null?_e=We:$e.sibling=We,$e=We,ge=qe}if(Le===j.length)return a(U,ge),Qe&&hs(U,Le),_e;if(ge===null){for(;Le<j.length;Le++)ge=J(U,j[Le],$),ge!==null&&(V=d(ge,V,Le),$e===null?_e=ge:$e.sibling=ge,$e=ge);return Qe&&hs(U,Le),_e}for(ge=l(ge);Le<j.length;Le++)qe=H(ge,U,Le,j[Le],$),qe!==null&&(t&&qe.alternate!==null&&ge.delete(qe.key===null?Le:qe.key),V=d(qe,V,Le),$e===null?_e=qe:$e.sibling=qe,$e=qe);return t&&ge.forEach(function(gr){return i(U,gr)}),Qe&&hs(U,Le),_e}function Ae(U,V,j,$){if(j==null)throw Error(r(151));for(var _e=null,$e=null,ge=V,Le=V=0,qe=null,We=j.next();ge!==null&&!We.done;Le++,We=j.next()){ge.index>Le?(qe=ge,ge=null):qe=ge.sibling;var gr=F(U,ge,We.value,$);if(gr===null){ge===null&&(ge=qe);break}t&&ge&&gr.alternate===null&&i(U,ge),V=d(gr,V,Le),$e===null?_e=gr:$e.sibling=gr,$e=gr,ge=qe}if(We.done)return a(U,ge),Qe&&hs(U,Le),_e;if(ge===null){for(;!We.done;Le++,We=j.next())We=J(U,We.value,$),We!==null&&(V=d(We,V,Le),$e===null?_e=We:$e.sibling=We,$e=We);return Qe&&hs(U,Le),_e}for(ge=l(ge);!We.done;Le++,We=j.next())We=H(ge,U,Le,We.value,$),We!==null&&(t&&We.alternate!==null&&ge.delete(We.key===null?Le:We.key),V=d(We,V,Le),$e===null?_e=We:$e.sibling=We,$e=We);return t&&ge.forEach(function(V1){return i(U,V1)}),Qe&&hs(U,Le),_e}function lt(U,V,j,$){if(typeof j=="object"&&j!==null&&j.type===K&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case N:e:{for(var _e=j.key;V!==null;){if(V.key===_e){if(_e=j.type,_e===K){if(V.tag===7){a(U,V.sibling),$=f(V,j.props.children),$.return=U,U=$;break e}}else if(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===C&&ua(_e)===V.type){a(U,V.sibling),$=f(V,j.props),bl($,j),$.return=U,U=$;break e}a(U,V);break}else i(U,V);V=V.sibling}j.type===K?($=sa(j.props.children,U.mode,$,j.key),$.return=U,U=$):($=hc(j.type,j.key,j.props,null,U.mode,$),bl($,j),$.return=U,U=$)}return _(U);case P:e:{for(_e=j.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(U,V.sibling),$=f(V,j.children||[]),$.return=U,U=$;break e}else{a(U,V);break}else i(U,V);V=V.sibling}$=Pf(j,U.mode,$),$.return=U,U=$}return _(U);case C:return j=ua(j),lt(U,V,j,$)}if(et(j))return de(U,V,j,$);if(L(j)){if(_e=L(j),typeof _e!="function")throw Error(r(150));return j=_e.call(j),Ae(U,V,j,$)}if(typeof j.then=="function")return lt(U,V,_c(j),$);if(j.$$typeof===oe)return lt(U,V,mc(U,j),$);vc(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(a(U,V.sibling),$=f(V,j),$.return=U,U=$):(a(U,V),$=Uf(j,U.mode,$),$.return=U,U=$),_(U)):a(U,V)}return function(U,V,j,$){try{Al=0;var _e=lt(U,V,j,$);return lo=null,_e}catch(ge){if(ge===oo||ge===pc)throw ge;var $e=Mn(29,ge,null,U.mode);return $e.lanes=$,$e.return=U,$e}finally{}}}var ha=dy(!0),my=dy(!1),Js=!1;function $f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function er(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=cc(t),Wp(t,null,a),i}return uc(t,l,i,a),cc(t)}function Sl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Wo(t,a)}}function Jf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Zf=!1;function wl(){if(Zf){var t=ao;if(t!==null)throw t}}function Rl(t,i,a,l){Zf=!1;var f=t.updateQueue;Js=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var D=b,B=D.next;D.next=null,_===null?d=B:_.next=B,_=D;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==_&&(b===null?Y.firstBaseUpdate=B:b.next=B,Y.lastBaseUpdate=D))}if(d!==null){var J=f.baseState;_=0,Y=B=D=null,b=d;do{var F=b.lane&-536870913,H=F!==b.lane;if(H?(Fe&F)===F:(l&F)===F){F!==0&&F===ro&&(Zf=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var de=t,Ae=b;F=i;var lt=a;switch(Ae.tag){case 1:if(de=Ae.payload,typeof de=="function"){J=de.call(lt,J,F);break e}J=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Ae.payload,F=typeof de=="function"?de.call(lt,J,F):de,F==null)break e;J=T({},J,F);break e;case 2:Js=!0}}F=b.callback,F!==null&&(t.flags|=64,H&&(t.flags|=8192),H=f.callbacks,H===null?f.callbacks=[F]:H.push(F))}else H={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(B=Y=H,D=J):Y=Y.next=H,_|=F;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;H=b,b=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);Y===null&&(D=J),f.baseState=D,f.firstBaseUpdate=B,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),rr|=_,t.lanes=_,t.memoizedState=J}}function gy(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function py(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gy(a[t],i)}var uo=k(null),Ec=k(0);function yy(t,i){t=As,ne(Ec,t),ne(uo,i),As=t|i.baseLanes}function ed(){ne(Ec,As),ne(uo,uo.current)}function td(){As=Ec.current,X(uo),X(Ec)}var kn=k(null),ti=null;function tr(t){var i=t.alternate;ne(Ot,Ot.current&1),ne(kn,t),ti===null&&(i===null||uo.current!==null||i.memoizedState!==null)&&(ti=t)}function nd(t){ne(Ot,Ot.current),ne(kn,t),ti===null&&(ti=t)}function _y(t){t.tag===22?(ne(Ot,Ot.current),ne(kn,t),ti===null&&(ti=t)):nr()}function nr(){ne(Ot,Ot.current),ne(kn,kn.current)}function Vn(t){X(kn),ti===t&&(ti=null),X(Ot)}var Ot=k(0);function Tc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||lm(a)||um(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ms=0,ke=null,at=null,jt=null,Ac=!1,co=!1,fa=!1,bc=0,Cl=0,ho=null,wS=0;function wt(){throw Error(r(321))}function id(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!On(t[a],i[a]))return!1;return!0}function sd(t,i,a,l,f,d){return ms=d,ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?t_:vd,fa=!1,d=a(l,f),fa=!1,co&&(d=Ey(i,a,l,f)),vy(t),d}function vy(t){Q.H=Dl;var i=at!==null&&at.next!==null;if(ms=0,jt=at=ke=null,Ac=!1,Cl=0,ho=null,i)throw Error(r(300));t===null||Bt||(t=t.dependencies,t!==null&&dc(t)&&(Bt=!0))}function Ey(t,i,a,l){ke=t;var f=0;do{if(co&&(ho=null),Cl=0,co=!1,25<=f)throw Error(r(301));if(f+=1,jt=at=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=n_,d=i(a,l)}while(co);return d}function RS(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?Il(i):i,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(ke.flags|=1024),i}function rd(){var t=bc!==0;return bc=0,t}function ad(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function od(t){if(Ac){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ac=!1}ms=0,jt=at=ke=null,co=!1,Cl=bc=0,ho=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ke.memoizedState=jt=t:jt=jt.next=t,jt}function Mt(){if(at===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var i=jt===null?ke.memoizedState:jt.next;if(i!==null)jt=i,at=t;else{if(t===null)throw ke.alternate===null?Error(r(467)):Error(r(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},jt===null?ke.memoizedState=jt=t:jt=jt.next=t}return jt}function Sc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var i=Cl;return Cl+=1,ho===null&&(ho=[]),t=cy(ho,t,i),i=ke,(jt===null?i.memoizedState:jt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?t_:vd),t}function wc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===oe)return nn(t)}throw Error(r(438,String(t)))}function ld(t){var i=null,a=ke.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Sc(),ke.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function gs(t,i){return typeof i=="function"?i(t):i}function Rc(t){var i=Mt();return ud(i,at,t)}function ud(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var b=_=null,D=null,B=i,Y=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Fe&J)===J:(ms&J)===J){var F=B.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===ro&&(Y=!0);else if((ms&F)===F){B=B.next,F===ro&&(Y=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(b=D=J,_=d):D=D.next=J,ke.lanes|=F,rr|=F;J=B.action,fa&&a(d,J),d=B.hasEagerState?B.eagerState:a(d,J)}else F={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(b=D=F,_=d):D=D.next=F,ke.lanes|=J,rr|=J;B=B.next}while(B!==null&&B!==i);if(D===null?_=d:D.next=b,!On(d,t.memoizedState)&&(Bt=!0,Y&&(a=ao,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function cd(t){var i=Mt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);On(d,i.memoizedState)||(Bt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ty(t,i,a){var l=ke,f=Mt(),d=Qe;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!On((at||f).memoizedState,a);if(_&&(f.memoizedState=a,Bt=!0),f=f.queue,dd(Sy.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,fo(9,{destroy:void 0},by.bind(null,l,f,a,i),null),ct===null)throw Error(r(349));d||(ms&127)!==0||Ay(l,i,a)}return a}function Ay(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=ke.updateQueue,i===null?(i=Sc(),ke.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function by(t,i,a,l){i.value=a,i.getSnapshot=l,wy(i)&&Ry(t)}function Sy(t,i,a){return a(function(){wy(i)&&Ry(t)})}function wy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!On(t,a)}catch{return!0}}function Ry(t){var i=ia(t,2);i!==null&&wn(i,t,2)}function hd(t){var i=pn();if(typeof t=="function"){var a=t;if(t=a(),fa){Dt(!0);try{a()}finally{Dt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:t},i}function Cy(t,i,a,l){return t.baseState=a,ud(t,at,typeof l=="function"?l:gs)}function CS(t,i,a,l,f){if(xc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Iy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Iy(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var b=a(f,l),D=Q.S;D!==null&&D(_,b),xy(t,i,b)}catch(B){fd(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(f,l),xy(t,i,d)}catch(B){fd(t,i,B)}}function xy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Dy(t,i,l)},function(l){return fd(t,i,l)}):Dy(t,i,a)}function Dy(t,i,a){i.status="fulfilled",i.value=a,Ny(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Iy(t,a)))}function fd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ny(i),i=i.next;while(i!==l)}t.action=null}function Ny(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Oy(t,i){return i}function My(t,i){if(Qe){var a=ct.formState;if(a!==null){e:{var l=ke;if(Qe){if(dt){t:{for(var f=dt,d=ei;f.nodeType!==8;){if(!d){f=null;break t}if(f=ni(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){dt=ni(f.nextSibling),l=f.data==="F!";break e}}$s(l)}l=!1}l&&(i=a[0])}}return a=pn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oy,lastRenderedState:i},a.queue=l,a=Jy.bind(null,ke,l),l.dispatch=a,l=hd(!1),d=_d.bind(null,ke,!1,l.queue),l=pn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=CS.bind(null,ke,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function ky(t){var i=Mt();return Vy(i,at,t)}function Vy(t,i,a){if(i=ud(t,i,Oy)[0],t=Rc(gs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Il(i)}catch(_){throw _===oo?pc:_}else l=i;i=Mt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(ke.flags|=2048,fo(9,{destroy:void 0},IS.bind(null,f,a),null)),[l,d,t]}function IS(t,i){t.action=i}function Ly(t){var i=Mt(),a=at;if(a!==null)return Vy(i,a,t);Mt(),i=i.memoizedState,a=Mt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function fo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=ke.updateQueue,i===null&&(i=Sc(),ke.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Uy(){return Mt().memoizedState}function Cc(t,i,a,l){var f=pn();ke.flags|=t,f.memoizedState=fo(1|i,{destroy:void 0},a,l===void 0?null:l)}function Ic(t,i,a,l){var f=Mt();l=l===void 0?null:l;var d=f.memoizedState.inst;at!==null&&l!==null&&id(l,at.memoizedState.deps)?f.memoizedState=fo(i,d,a,l):(ke.flags|=t,f.memoizedState=fo(1|i,d,a,l))}function Py(t,i){Cc(8390656,8,t,i)}function dd(t,i){Ic(2048,8,t,i)}function xS(t){ke.flags|=4;var i=ke.updateQueue;if(i===null)i=Sc(),ke.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function zy(t){var i=Mt().memoizedState;return xS({ref:i,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function jy(t,i){return Ic(4,2,t,i)}function By(t,i){return Ic(4,4,t,i)}function Fy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function qy(t,i,a){a=a!=null?a.concat([t]):null,Ic(4,4,Fy.bind(null,i,t),a)}function md(){}function Hy(t,i){var a=Mt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&id(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Gy(t,i){var a=Mt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&id(i,l[1]))return l[0];if(l=t(),fa){Dt(!0);try{t()}finally{Dt(!1)}}return a.memoizedState=[l,i],l}function gd(t,i,a){return a===void 0||(ms&1073741824)!==0&&(Fe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=K_(),ke.lanes|=t,rr|=t,a)}function Ky(t,i,a,l){return On(a,i)?a:uo.current!==null?(t=gd(t,a,l),On(t,i)||(Bt=!0),t):(ms&42)===0||(ms&1073741824)!==0&&(Fe&261930)===0?(Bt=!0,t.memoizedState=a):(t=K_(),ke.lanes|=t,rr|=t,i)}function Qy(t,i,a,l,f){var d=te.p;te.p=d!==0&&8>d?d:8;var _=Q.T,b={};Q.T=b,_d(t,!1,i,a);try{var D=f(),B=Q.S;if(B!==null&&B(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=SS(D,l);xl(t,i,Y,Pn(t))}else xl(t,i,l,Pn(t))}catch(J){xl(t,i,{then:function(){},status:"rejected",reason:J},Pn())}finally{te.p=d,_!==null&&b.types!==null&&(_.types=b.types),Q.T=_}}function DS(){}function pd(t,i,a,l){if(t.tag!==5)throw Error(r(476));var f=Yy(t).queue;Qy(t,f,i,pe,a===null?DS:function(){return Xy(t),a(l)})}function Yy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Xy(t){var i=Yy(t);i.next===null&&(i=t.alternate.memoizedState),xl(t,i.next.queue,{},Pn())}function yd(){return nn(Kl)}function $y(){return Mt().memoizedState}function Wy(){return Mt().memoizedState}function NS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Pn();t=Zs(a);var l=er(i,t,a);l!==null&&(wn(l,i,a),Sl(l,i,a)),i={cache:Kf()},t.payload=i;return}i=i.return}}function OS(t,i,a){var l=Pn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},xc(t)?Zy(i,a):(a=Vf(t,i,a,l),a!==null&&(wn(a,t,l),e_(a,i,l)))}function Jy(t,i,a){var l=Pn();xl(t,i,a,l)}function xl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(xc(t))Zy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,On(b,_))return uc(t,i,f,0),ct===null&&lc(),!1}catch{}finally{}if(a=Vf(t,i,f,l),a!==null)return wn(a,t,l),e_(a,i,l),!0}return!1}function _d(t,i,a,l){if(l={lane:2,revertLane:$d(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},xc(t)){if(i)throw Error(r(479))}else i=Vf(t,a,l,2),i!==null&&wn(i,t,2)}function xc(t){var i=t.alternate;return t===ke||i!==null&&i===ke}function Zy(t,i){co=Ac=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function e_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Wo(t,a)}}var Dl={readContext:nn,use:wc,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};Dl.useEffectEvent=wt;var t_={readContext:nn,use:wc,useCallback:function(t,i){return pn().memoizedState=[t,i===void 0?null:i],t},useContext:nn,useEffect:Py,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Cc(4194308,4,Fy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Cc(4194308,4,t,i)},useInsertionEffect:function(t,i){Cc(4,2,t,i)},useMemo:function(t,i){var a=pn();i=i===void 0?null:i;var l=t();if(fa){Dt(!0);try{t()}finally{Dt(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=pn();if(a!==void 0){var f=a(i);if(fa){Dt(!0);try{a(i)}finally{Dt(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=OS.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var i=pn();return t={current:t},i.memoizedState=t},useState:function(t){t=hd(t);var i=t.queue,a=Jy.bind(null,ke,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:md,useDeferredValue:function(t,i){var a=pn();return gd(a,t,i)},useTransition:function(){var t=hd(!1);return t=Qy.bind(null,ke,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=ke,f=pn();if(Qe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ct===null)throw Error(r(349));(Fe&127)!==0||Ay(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Py(Sy.bind(null,l,d,t),[t]),l.flags|=2048,fo(9,{destroy:void 0},by.bind(null,l,d,a,i),null),a},useId:function(){var t=pn(),i=ct.identifierPrefix;if(Qe){var a=Bi,l=ji;a=(l&~(1<<32-ut(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=bc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=wS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:yd,useFormState:My,useActionState:My,useOptimistic:function(t){var i=pn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=_d.bind(null,ke,!0,a),a.dispatch=i,[t,i]},useMemoCache:ld,useCacheRefresh:function(){return pn().memoizedState=NS.bind(null,ke)},useEffectEvent:function(t){var i=pn(),a={impl:t};return i.memoizedState=a,function(){if((Ze&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},vd={readContext:nn,use:wc,useCallback:Hy,useContext:nn,useEffect:dd,useImperativeHandle:qy,useInsertionEffect:jy,useLayoutEffect:By,useMemo:Gy,useReducer:Rc,useRef:Uy,useState:function(){return Rc(gs)},useDebugValue:md,useDeferredValue:function(t,i){var a=Mt();return Ky(a,at.memoizedState,t,i)},useTransition:function(){var t=Rc(gs)[0],i=Mt().memoizedState;return[typeof t=="boolean"?t:Il(t),i]},useSyncExternalStore:Ty,useId:$y,useHostTransitionStatus:yd,useFormState:ky,useActionState:ky,useOptimistic:function(t,i){var a=Mt();return Cy(a,at,t,i)},useMemoCache:ld,useCacheRefresh:Wy};vd.useEffectEvent=zy;var n_={readContext:nn,use:wc,useCallback:Hy,useContext:nn,useEffect:dd,useImperativeHandle:qy,useInsertionEffect:jy,useLayoutEffect:By,useMemo:Gy,useReducer:cd,useRef:Uy,useState:function(){return cd(gs)},useDebugValue:md,useDeferredValue:function(t,i){var a=Mt();return at===null?gd(a,t,i):Ky(a,at.memoizedState,t,i)},useTransition:function(){var t=cd(gs)[0],i=Mt().memoizedState;return[typeof t=="boolean"?t:Il(t),i]},useSyncExternalStore:Ty,useId:$y,useHostTransitionStatus:yd,useFormState:Ly,useActionState:Ly,useOptimistic:function(t,i){var a=Mt();return at!==null?Cy(a,at,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ld,useCacheRefresh:Wy};n_.useEffectEvent=zy;function Ed(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Td={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Pn(),f=Zs(l);f.payload=i,a!=null&&(f.callback=a),i=er(t,f,l),i!==null&&(wn(i,t,l),Sl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Pn(),f=Zs(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=er(t,f,l),i!==null&&(wn(i,t,l),Sl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Pn(),l=Zs(a);l.tag=2,i!=null&&(l.callback=i),i=er(t,l,a),i!==null&&(wn(i,t,a),Sl(i,t,a))}};function i_(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!pl(a,l)||!pl(f,d):!0}function s_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Td.enqueueReplaceState(i,i.state,null)}function da(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function r_(t){oc(t)}function a_(t){console.error(t)}function o_(t){oc(t)}function Dc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function l_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ad(t,i,a){return a=Zs(a),a.tag=3,a.payload={element:null},a.callback=function(){Dc(t,i)},a}function u_(t){return t=Zs(t),t.tag=3,t}function c_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){l_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){l_(i,a,l),typeof f!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function MS(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&so(i,a,f,!0),a=kn.current,a!==null){switch(a.tag){case 31:case 13:return ti===null?Fc():a.alternate===null&&Rt===0&&(Rt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===yc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Qd(t,l,f)),!1;case 22:return a.flags|=65536,l===yc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Qd(t,l,f)),!1}throw Error(r(435,a.tag))}return Qd(t,l,f),Fc(),!1}if(Qe)return i=kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Bf&&(t=Error(r(422),{cause:l}),vl(Wn(t,a)))):(l!==Bf&&(i=Error(r(423),{cause:l}),vl(Wn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Wn(l,a),f=Ad(t.stateNode,l,f),Jf(t,f),Rt!==4&&(Rt=2)),!1;var d=Error(r(520),{cause:l});if(d=Wn(d,a),Pl===null?Pl=[d]:Pl.push(d),Rt!==4&&(Rt=2),i===null)return!0;l=Wn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Ad(a.stateNode,l,t),Jf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ar===null||!ar.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=u_(f),c_(f,t,a,l),Jf(a,f),!1}a=a.return}while(a!==null);return!1}var bd=Error(r(461)),Bt=!1;function sn(t,i,a,l){i.child=t===null?my(i,null,a,l):ha(i,t.child,a,l)}function h_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return oa(i),l=sd(t,i,a,_,d,f),b=rd(),t!==null&&!Bt?(ad(t,i,f),ps(t,i,f)):(Qe&&b&&zf(i),i.flags|=1,sn(t,i,l,f),i.child)}function f_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Lf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,d_(t,i,d,l,f)):(t=hc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Nd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(_,l)&&t.ref===i.ref)return ps(t,i,f)}return i.flags|=1,t=cs(d,l),t.ref=i.ref,t.return=i,i.child=t}function d_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(pl(d,l)&&t.ref===i.ref)if(Bt=!1,i.pendingProps=l=d,Nd(t,f))(t.flags&131072)!==0&&(Bt=!0);else return i.lanes=t.lanes,ps(t,i,f)}return Sd(t,i,a,l,f)}function m_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return g_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&gc(i,d!==null?d.cachePool:null),d!==null?yy(i,d):ed(),_y(i);else return l=i.lanes=536870912,g_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(gc(i,d.cachePool),yy(i,d),nr(),i.memoizedState=null):(t!==null&&gc(i,null),ed(),nr());return sn(t,i,f,a),i.child}function Nl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function g_(t,i,a,l,f){var d=Yf();return d=d===null?null:{parent:zt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&gc(i,null),ed(),_y(i),t!==null&&so(t,i,l,!0),i.childLanes=f,null}function Nc(t,i){return i=Mc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function p_(t,i,a){return ha(i,t.child,null,a),t=Nc(i,i.pendingProps),t.flags|=2,Vn(i),i.memoizedState=null,t}function kS(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Qe){if(l.mode==="hidden")return t=Nc(i,l),i.lanes=536870912,Nl(null,t);if(nd(i),(t=dt)?(t=I0(t,ei),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ys!==null?{id:ji,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},a=Zp(t),a.return=i,i.child=a,tn=i,dt=null)):t=null,t===null)throw $s(i);return i.lanes=536870912,null}return Nc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(nd(i),f)if(i.flags&256)i.flags&=-257,i=p_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Bt||so(t,i,a,!1),f=(a&t.childLanes)!==0,Bt||f){if(l=ct,l!==null&&(_=Jo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ia(t,_),wn(l,t,_),bd;Fc(),i=p_(t,i,a)}else t=d.treeContext,dt=ni(_.nextSibling),tn=i,Qe=!0,Xs=null,ei=!1,t!==null&&ny(i,t),i=Nc(i,l),i.flags|=4096;return i}return t=cs(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Oc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Sd(t,i,a,l,f){return oa(i),a=sd(t,i,a,l,void 0,f),l=rd(),t!==null&&!Bt?(ad(t,i,f),ps(t,i,f)):(Qe&&l&&zf(i),i.flags|=1,sn(t,i,a,f),i.child)}function y_(t,i,a,l,f,d){return oa(i),i.updateQueue=null,a=Ey(i,l,a,f),vy(t),l=rd(),t!==null&&!Bt?(ad(t,i,d),ps(t,i,d)):(Qe&&l&&zf(i),i.flags|=1,sn(t,i,a,d),i.child)}function __(t,i,a,l,f){if(oa(i),i.stateNode===null){var d=eo,_=a.contextType;typeof _=="object"&&_!==null&&(d=nn(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Td,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},$f(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?nn(_):eo,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Ed(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Td.enqueueReplaceState(d,d.state,null),Rl(i,l,d,f),wl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,D=da(a,b);d.props=D;var B=d.context,Y=a.contextType;_=eo,typeof Y=="object"&&Y!==null&&(_=nn(Y));var J=a.getDerivedStateFromProps;Y=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||B!==_)&&s_(i,d,l,_),Js=!1;var F=i.memoizedState;d.state=F,Rl(i,l,d,f),wl(),B=i.memoizedState,b||F!==B||Js?(typeof J=="function"&&(Ed(i,a,J,l),B=i.memoizedState),(D=Js||i_(i,a,D,l,F,B,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Wf(t,i),_=i.memoizedProps,Y=da(a,_),d.props=Y,J=i.pendingProps,F=d.context,B=a.contextType,D=eo,typeof B=="object"&&B!==null&&(D=nn(B)),b=a.getDerivedStateFromProps,(B=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||F!==D)&&s_(i,d,l,D),Js=!1,F=i.memoizedState,d.state=F,Rl(i,l,d,f),wl();var H=i.memoizedState;_!==J||F!==H||Js||t!==null&&t.dependencies!==null&&dc(t.dependencies)?(typeof b=="function"&&(Ed(i,a,b,l),H=i.memoizedState),(Y=Js||i_(i,a,Y,l,F,H,D)||t!==null&&t.dependencies!==null&&dc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=D,l=Y):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Oc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ha(i,t.child,null,f),i.child=ha(i,null,a,f)):sn(t,i,a,f),i.memoizedState=d.state,t=i.child):t=ps(t,i,f),t}function v_(t,i,a,l){return ra(),i.flags|=256,sn(t,i,a,l),i.child}var wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rd(t){return{baseLanes:t,cachePool:ly()}}function Cd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Un),t}function E_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Qe){if(f?tr(i):nr(),(t=dt)?(t=I0(t,ei),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ys!==null?{id:ji,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},a=Zp(t),a.return=i,i.child=a,tn=i,dt=null)):t=null,t===null)throw $s(i);return um(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(nr(),f=i.mode,b=Mc({mode:"hidden",children:b},f),l=sa(l,f,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Rd(a),l.childLanes=Cd(t,_,a),i.memoizedState=wd,Nl(null,l)):(tr(i),Id(i,b))}var D=t.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(d)i.flags&256?(tr(i),i.flags&=-257,i=xd(t,i,a)):i.memoizedState!==null?(nr(),i.child=t.child,i.flags|=128,i=null):(nr(),b=l.fallback,f=i.mode,l=Mc({mode:"visible",children:l.children},f),b=sa(b,f,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,ha(i,t.child,null,a),l=i.child,l.memoizedState=Rd(a),l.childLanes=Cd(t,_,a),i.memoizedState=wd,i=Nl(null,l));else if(tr(i),um(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(r(419)),l.stack="",l.digest=_,vl({value:l,source:null,stack:null}),i=xd(t,i,a)}else if(Bt||so(t,i,a,!1),_=(a&t.childLanes)!==0,Bt||_){if(_=ct,_!==null&&(l=Jo(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,ia(t,l),wn(_,t,l),bd;lm(b)||Fc(),i=xd(t,i,a)}else lm(b)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,dt=ni(b.nextSibling),tn=i,Qe=!0,Xs=null,ei=!1,t!==null&&ny(i,t),i=Id(i,l.children),i.flags|=4096);return i}return f?(nr(),b=l.fallback,f=i.mode,D=t.child,B=D.sibling,l=cs(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?b=cs(B,b):(b=sa(b,f,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,Nl(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Rd(a):(f=b.cachePool,f!==null?(D=zt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=ly(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=Cd(t,_,a),i.memoizedState=wd,Nl(t.child,l)):(tr(i),a=t.child,t=a.sibling,a=cs(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Id(t,i){return i=Mc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Mc(t,i){return t=Mn(22,t,null,i),t.lanes=0,t}function xd(t,i,a){return ha(i,t.child,null,a),t=Id(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function T_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Hf(t.return,i,a)}function Dd(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function A_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Ot.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,ne(Ot,_),sn(t,i,l,a),l=Qe?_l:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&T_(t,a,i);else if(t.tag===19)T_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Tc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Dd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Tc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Dd(i,!0,a,null,d,l);break;case"together":Dd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ps(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),rr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(so(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=cs(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=cs(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Nd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&dc(t)))}function VS(t,i,a){switch(i.tag){case 3:yt(i,i.stateNode.containerInfo),Ws(i,zt,t.memoizedState.cache),ra();break;case 27:case 5:ns(i);break;case 4:yt(i,i.stateNode.containerInfo);break;case 10:Ws(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,nd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(tr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?E_(t,i,a):(tr(i),t=ps(t,i,a),t!==null?t.sibling:null);tr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(so(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return A_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ne(Ot,Ot.current),l)break;return null;case 22:return i.lanes=0,m_(t,i,a,i.pendingProps);case 24:Ws(i,zt,t.memoizedState.cache)}return ps(t,i,a)}function b_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Bt=!0;else{if(!Nd(t,a)&&(i.flags&128)===0)return Bt=!1,VS(t,i,a);Bt=(t.flags&131072)!==0}else Bt=!1,Qe&&(i.flags&1048576)!==0&&ty(i,_l,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ua(i.elementType),i.type=t,typeof t=="function")Lf(t)?(l=da(t,l),i.tag=1,i=__(null,i,t,l,a)):(i.tag=0,i=Sd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===re){i.tag=11,i=h_(null,i,t,l,a);break e}else if(f===I){i.tag=14,i=f_(null,i,t,l,a);break e}}throw i=Ve(t)||t,Error(r(306,i,""))}}return i;case 0:return Sd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=da(l,i.pendingProps),__(t,i,l,f,a);case 3:e:{if(yt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Wf(t,i),Rl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ws(i,zt,l),l!==d.cache&&Gf(i,[zt],a,!0),wl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=v_(t,i,l,a);break e}else if(l!==f){f=Wn(Error(r(424)),i),vl(f),i=v_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=ni(t.firstChild),tn=i,Qe=!0,Xs=null,ei=!0,a=my(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ra(),l===f){i=ps(t,i,a);break e}sn(t,i,l,a)}i=i.child}return i;case 26:return Oc(t,i),t===null?(a=k0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Qe||(a=i.type,t=i.pendingProps,l=Xc(Ce.current).createElement(a),l[Lt]=i,l[Xt]=t,rn(l,a,t),Ut(l),i.stateNode=l):i.memoizedState=k0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ns(i),t===null&&Qe&&(l=i.stateNode=N0(i.type,i.pendingProps,Ce.current),tn=i,ei=!0,f=dt,cr(i.type)?(cm=f,dt=ni(l.firstChild)):dt=f),sn(t,i,i.pendingProps.children,a),Oc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Qe&&((f=l=dt)&&(l=h1(l,i.type,i.pendingProps,ei),l!==null?(i.stateNode=l,tn=i,dt=ni(l.firstChild),ei=!1,f=!0):f=!1),f||$s(i)),ns(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,rm(f,d)?l=null:_!==null&&rm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=sd(t,i,RS,null,null,a),Kl._currentValue=f),Oc(t,i),sn(t,i,l,a),i.child;case 6:return t===null&&Qe&&((t=a=dt)&&(a=f1(a,i.pendingProps,ei),a!==null?(i.stateNode=a,tn=i,dt=null,t=!0):t=!1),t||$s(i)),null;case 13:return E_(t,i,a);case 4:return yt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ha(i,null,l,a):sn(t,i,l,a),i.child;case 11:return h_(t,i,i.type,i.pendingProps,a);case 7:return sn(t,i,i.pendingProps,a),i.child;case 8:return sn(t,i,i.pendingProps.children,a),i.child;case 12:return sn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ws(i,i.type,l.value),sn(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,oa(i),f=nn(f),l=l(f),i.flags|=1,sn(t,i,l,a),i.child;case 14:return f_(t,i,i.type,i.pendingProps,a);case 15:return d_(t,i,i.type,i.pendingProps,a);case 19:return A_(t,i,a);case 31:return kS(t,i,a);case 22:return m_(t,i,a,i.pendingProps);case 24:return oa(i),l=nn(zt),t===null?(f=Yf(),f===null&&(f=ct,d=Kf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},$f(i),Ws(i,zt,f)):((t.lanes&a)!==0&&(Wf(t,i),Rl(i,null,null,a),wl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ws(i,zt,l)):(l=d.cache,Ws(i,zt,l),l!==f.cache&&Gf(i,[zt],a,!0))),sn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ys(t){t.flags|=4}function Od(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if($_())t.flags|=8192;else throw ca=yc,Xf}else t.flags&=-16777217}function S_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!z0(i))if($_())t.flags|=8192;else throw ca=yc,Xf}function kc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ju():536870912,t.lanes|=i,yo|=i)}function Ol(t,i){if(!Qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function mt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function LS(t,i,a){var l=i.pendingProps;switch(jf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(i),null;case 1:return mt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ds(zt),ht(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(io(i)?ys(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ff())),mt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(ys(i),d!==null?(mt(i),S_(i,d)):(mt(i),Od(i,f,null,l,a))):d?d!==t.memoizedState?(ys(i),mt(i),S_(i,d)):(mt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ys(i),mt(i),Od(i,f,t,l,a)),null;case 27:if(Ls(i),a=Ce.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ys(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return mt(i),null}t=le.current,io(i)?iy(i):(t=N0(f,l,a),i.stateNode=t,ys(i))}return mt(i),null;case 5:if(Ls(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ys(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return mt(i),null}if(d=le.current,io(i))iy(i);else{var _=Xc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Lt]=i,d[Xt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(rn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ys(i)}}return mt(i),Od(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ys(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=Ce.current,io(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=tn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Lt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||E0(t.nodeValue,a)),t||$s(i,!0)}else t=Xc(t).createTextNode(l),t[Lt]=i,i.stateNode=t}return mt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=io(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Lt]=i}else ra(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),t=!1}else a=Ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Vn(i),i):(Vn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return mt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=io(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Lt]=i}else ra(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),f=!1}else f=Ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Vn(i),i):(Vn(i),null)}return Vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),kc(i,i.updateQueue),mt(i),null);case 4:return ht(),t===null&&em(i.stateNode.containerInfo),mt(i),null;case 10:return ds(i.type),mt(i),null;case 19:if(X(Ot),l=i.memoizedState,l===null)return mt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Ol(l,!1);else{if(Rt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Tc(t),d!==null){for(i.flags|=128,Ol(l,!1),t=d.updateQueue,i.updateQueue=t,kc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Jp(a,t),a=a.sibling;return ne(Ot,Ot.current&1|2),Qe&&hs(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&ce()>zc&&(i.flags|=128,f=!0,Ol(l,!1),i.lanes=4194304)}else{if(!f)if(t=Tc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,kc(i,t),Ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Qe)return mt(i),null}else 2*ce()-l.renderingStartTime>zc&&a!==536870912&&(i.flags|=128,f=!0,Ol(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ce(),t.sibling=null,a=Ot.current,ne(Ot,f?a&1|2:a&1),Qe&&hs(i,l.treeForkCount),t):(mt(i),null);case 22:case 23:return Vn(i),td(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(mt(i),i.subtreeFlags&6&&(i.flags|=8192)):mt(i),a=i.updateQueue,a!==null&&kc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&X(la),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ds(zt),mt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function US(t,i){switch(jf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ds(zt),ht(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ls(i),null;case 31:if(i.memoizedState!==null){if(Vn(i),i.alternate===null)throw Error(r(340));ra()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ra()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(Ot),null;case 4:return ht(),null;case 10:return ds(i.type),null;case 22:case 23:return Vn(i),td(),t!==null&&X(la),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ds(zt),null;case 25:return null;default:return null}}function w_(t,i){switch(jf(i),i.tag){case 3:ds(zt),ht();break;case 26:case 27:case 5:Ls(i);break;case 4:ht();break;case 31:i.memoizedState!==null&&Vn(i);break;case 13:Vn(i);break;case 19:X(Ot);break;case 10:ds(i.type);break;case 22:case 23:Vn(i),td(),t!==null&&X(la);break;case 24:ds(zt)}}function Ml(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){st(i,i.return,b)}}function ir(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=i;var D=a,B=b;try{B()}catch(Y){st(f,D,Y)}}}l=l.next}while(l!==d)}}catch(Y){st(i,i.return,Y)}}function R_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{py(i,a)}catch(l){st(t,t.return,l)}}}function C_(t,i,a){a.props=da(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){st(t,i,l)}}function kl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){st(t,i,f)}}function Fi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){st(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){st(t,i,f)}else a.current=null}function I_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){st(t,t.return,f)}}function Md(t,i,a){try{var l=t.stateNode;r1(l,t.type,a,i),l[Xt]=i}catch(f){st(t,t.return,f)}}function x_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&cr(t.type)||t.tag===4}function kd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&cr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ci));else if(l!==4&&(l===27&&cr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Vd(t,i,a),t=t.sibling;t!==null;)Vd(t,i,a),t=t.sibling}function Vc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&cr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Vc(t,i,a),t=t.sibling;t!==null;)Vc(t,i,a),t=t.sibling}function D_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);rn(i,l,a),i[Lt]=t,i[Xt]=a}catch(d){st(t,t.return,d)}}var _s=!1,Ft=!1,Ld=!1,N_=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function PS(t,i){if(t=t.containerInfo,im=nh,t=qp(t),xf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,D=-1,B=0,Y=0,J=t,F=null;t:for(;;){for(var H;J!==a||f!==0&&J.nodeType!==3||(b=_+f),J!==d||l!==0&&J.nodeType!==3||(D=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(H=J.firstChild)!==null;)F=J,J=H;for(;;){if(J===t)break t;if(F===a&&++B===f&&(b=_),F===d&&++Y===l&&(D=_),(H=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=H}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(sm={focusedElem:t,selectionRange:a},nh=!1,Wt=i;Wt!==null;)if(i=Wt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Wt=t;else for(;Wt!==null;){switch(i=Wt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=da(a.type,f);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){st(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)om(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":om(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Wt=t;break}Wt=i.return}}function O_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Es(t,a),l&4&&Ml(5,a);break;case 1:if(Es(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){st(a,a.return,_)}else{var f=da(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){st(a,a.return,_)}}l&64&&R_(a),l&512&&kl(a,a.return);break;case 3:if(Es(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{py(t,i)}catch(_){st(a,a.return,_)}}break;case 27:i===null&&l&4&&D_(a);case 26:case 5:Es(t,a),i===null&&l&4&&I_(a),l&512&&kl(a,a.return);break;case 12:Es(t,a);break;case 31:Es(t,a),l&4&&V_(t,a);break;case 13:Es(t,a),l&4&&L_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=QS.bind(null,a),d1(t,a))));break;case 22:if(l=a.memoizedState!==null||_s,!l){i=i!==null&&i.memoizedState!==null||Ft,f=_s;var d=Ft;_s=l,(Ft=i)&&!d?Ts(t,a,(a.subtreeFlags&8772)!==0):Es(t,a),_s=f,Ft=d}break;case 30:break;default:Es(t,a)}}function M_(t){var i=t.alternate;i!==null&&(t.alternate=null,M_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ja(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,Tn=!1;function vs(t,i,a){for(a=a.child;a!==null;)k_(t,i,a),a=a.sibling}function k_(t,i,a){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Zt,a)}catch{}switch(a.tag){case 26:Ft||Fi(a,i),vs(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ft||Fi(a,i);var l=Tt,f=Tn;cr(a.type)&&(Tt=a.stateNode,Tn=!1),vs(t,i,a),ql(a.stateNode),Tt=l,Tn=f;break;case 5:Ft||Fi(a,i);case 6:if(l=Tt,f=Tn,Tt=null,vs(t,i,a),Tt=l,Tn=f,Tt!==null)if(Tn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(a.stateNode)}catch(d){st(a,i,d)}else try{Tt.removeChild(a.stateNode)}catch(d){st(a,i,d)}break;case 18:Tt!==null&&(Tn?(t=Tt,R0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),wo(t)):R0(Tt,a.stateNode));break;case 4:l=Tt,f=Tn,Tt=a.stateNode.containerInfo,Tn=!0,vs(t,i,a),Tt=l,Tn=f;break;case 0:case 11:case 14:case 15:ir(2,a,i),Ft||ir(4,a,i),vs(t,i,a);break;case 1:Ft||(Fi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&C_(a,i,l)),vs(t,i,a);break;case 21:vs(t,i,a);break;case 22:Ft=(l=Ft)||a.memoizedState!==null,vs(t,i,a),Ft=l;break;default:vs(t,i,a)}}function V_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{wo(t)}catch(a){st(i,i.return,a)}}}function L_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wo(t)}catch(a){st(i,i.return,a)}}function zS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new N_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new N_),i;default:throw Error(r(435,t.tag))}}function Lc(t,i){var a=zS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=YS.bind(null,t,l);l.then(f,f)}})}function An(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(cr(b.type)){Tt=b.stateNode,Tn=!1;break e}break;case 5:Tt=b.stateNode,Tn=!1;break e;case 3:case 4:Tt=b.stateNode.containerInfo,Tn=!0;break e}b=b.return}if(Tt===null)throw Error(r(160));k_(d,_,f),Tt=null,Tn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)U_(i,t),i=i.sibling}var pi=null;function U_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(i,t),bn(t),l&4&&(ir(3,t,t.return),Ml(3,t),ir(5,t,t.return));break;case 1:An(i,t),bn(t),l&512&&(Ft||a===null||Fi(a,a.return)),l&64&&_s&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=pi;if(An(i,t),bn(t),l&512&&(Ft||a===null||Fi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ii]||d[Lt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),rn(d,l,a),d[Lt]=t,Ut(d),l=d;break e;case"link":var _=U0("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),rn(d,l,a),f.head.appendChild(d);break;case"meta":if(_=U0("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=f.createElement(l),rn(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Lt]=t,Ut(d),l=d}t.stateNode=l}else P0(f,t.type,t.stateNode);else t.stateNode=L0(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?P0(f,t.type,t.stateNode):L0(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Md(t,t.memoizedProps,a.memoizedProps)}break;case 27:An(i,t),bn(t),l&512&&(Ft||a===null||Fi(a,a.return)),a!==null&&l&4&&Md(t,t.memoizedProps,a.memoizedProps);break;case 5:if(An(i,t),bn(t),l&512&&(Ft||a===null||Fi(a,a.return)),t.flags&32){f=t.stateNode;try{En(f,"")}catch(de){st(t,t.return,de)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Md(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Ld=!0);break;case 6:if(An(i,t),bn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){st(t,t.return,de)}}break;case 3:if(Jc=null,f=pi,pi=$c(i.containerInfo),An(i,t),pi=f,bn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wo(i.containerInfo)}catch(de){st(t,t.return,de)}Ld&&(Ld=!1,P_(t));break;case 4:l=pi,pi=$c(t.stateNode.containerInfo),An(i,t),bn(t),pi=l;break;case 12:An(i,t),bn(t);break;case 31:An(i,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 13:An(i,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pc=ce()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=_s,Y=Ft;if(_s=B||f,Ft=Y||D,An(i,t),Ft=Y,_s=B,bn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||D||_s||Ft||ma(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=D.stateNode;var J=D.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(de){st(D,D.return,de)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(de){st(D,D.return,de)}}}else if(i.tag===18){if(a===null){D=i;try{var H=D.stateNode;f?C0(H,!0):C0(D.stateNode,!1)}catch(de){st(D,D.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lc(t,a))));break;case 19:An(i,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 30:break;case 21:break;default:An(i,t),bn(t)}}function bn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(x_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=kd(t);Vc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(En(_,""),a.flags&=-33);var b=kd(t);Vc(t,b,_);break;case 3:case 4:var D=a.stateNode.containerInfo,B=kd(t);Vd(t,B,D);break;default:throw Error(r(161))}}catch(Y){st(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function P_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;P_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Es(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)O_(t,i.alternate,i),i=i.sibling}function ma(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ir(4,i,i.return),ma(i);break;case 1:Fi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&C_(i,i.return,a),ma(i);break;case 27:ql(i.stateNode);case 26:case 5:Fi(i,i.return),ma(i);break;case 22:i.memoizedState===null&&ma(i);break;case 30:ma(i);break;default:ma(i)}t=t.sibling}}function Ts(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ts(f,d,a),Ml(4,d);break;case 1:if(Ts(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){st(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)gy(D[f],b)}catch(B){st(l,l.return,B)}}a&&_&64&&R_(d),kl(d,d.return);break;case 27:D_(d);case 26:case 5:Ts(f,d,a),a&&l===null&&_&4&&I_(d),kl(d,d.return);break;case 12:Ts(f,d,a);break;case 31:Ts(f,d,a),a&&_&4&&V_(f,d);break;case 13:Ts(f,d,a),a&&_&4&&L_(f,d);break;case 22:d.memoizedState===null&&Ts(f,d,a),kl(d,d.return);break;case 30:break;default:Ts(f,d,a)}i=i.sibling}}function Ud(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&El(a))}function Pd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&El(t))}function yi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)z_(t,i,a,l),i=i.sibling}function z_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:yi(t,i,a,l),f&2048&&Ml(9,i);break;case 1:yi(t,i,a,l);break;case 3:yi(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&El(t)));break;case 12:if(f&2048){yi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){st(i,i.return,D)}}else yi(t,i,a,l);break;case 31:yi(t,i,a,l);break;case 13:yi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?yi(t,i,a,l):Vl(t,i):d._visibility&2?yi(t,i,a,l):(d._visibility|=2,mo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Ud(_,i);break;case 24:yi(t,i,a,l),f&2048&&Pd(i.alternate,i);break;default:yi(t,i,a,l)}}function mo(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,b=a,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:mo(d,_,b,D,f),Ml(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?mo(d,_,b,D,f):Vl(d,_):(Y._visibility|=2,mo(d,_,b,D,f)),f&&B&2048&&Ud(_.alternate,_);break;case 24:mo(d,_,b,D,f),f&&B&2048&&Pd(_.alternate,_);break;default:mo(d,_,b,D,f)}i=i.sibling}}function Vl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Vl(a,l),f&2048&&Ud(l.alternate,l);break;case 24:Vl(a,l),f&2048&&Pd(l.alternate,l);break;default:Vl(a,l)}i=i.sibling}}var Ll=8192;function go(t,i,a){if(t.subtreeFlags&Ll)for(t=t.child;t!==null;)j_(t,i,a),t=t.sibling}function j_(t,i,a){switch(t.tag){case 26:go(t,i,a),t.flags&Ll&&t.memoizedState!==null&&w1(a,pi,t.memoizedState,t.memoizedProps);break;case 5:go(t,i,a);break;case 3:case 4:var l=pi;pi=$c(t.stateNode.containerInfo),go(t,i,a),pi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ll,Ll=16777216,go(t,i,a),Ll=l):go(t,i,a));break;default:go(t,i,a)}}function B_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ul(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Wt=l,q_(l,t)}B_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)F_(t),t=t.sibling}function F_(t){switch(t.tag){case 0:case 11:case 15:Ul(t),t.flags&2048&&ir(9,t,t.return);break;case 3:Ul(t);break;case 12:Ul(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Uc(t)):Ul(t);break;default:Ul(t)}}function Uc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Wt=l,q_(l,t)}B_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ir(8,i,i.return),Uc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Uc(i));break;default:Uc(i)}t=t.sibling}}function q_(t,i){for(;Wt!==null;){var a=Wt;switch(a.tag){case 0:case 11:case 15:ir(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Wt=l;else e:for(a=t;Wt!==null;){l=Wt;var f=l.sibling,d=l.return;if(M_(l),l===a){Wt=null;break e}if(f!==null){f.return=d,Wt=f;break e}Wt=d}}}var jS={getCacheForType:function(t){var i=nn(zt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return nn(zt).controller.signal}},BS=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ct=null,ze=null,Fe=0,it=0,Ln=null,sr=!1,po=!1,zd=!1,As=0,Rt=0,rr=0,ga=0,jd=0,Un=0,yo=0,Pl=null,Sn=null,Bd=!1,Pc=0,H_=0,zc=1/0,jc=null,ar=null,Qt=0,or=null,_o=null,bs=0,Fd=0,qd=null,G_=null,zl=0,Hd=null;function Pn(){return(Ze&2)!==0&&Fe!==0?Fe&-Fe:Q.T!==null?$d():Bu()}function K_(){if(Un===0)if((Fe&536870912)===0||Qe){var t=rs;rs<<=1,(rs&3932160)===0&&(rs=262144),Un=t}else Un=536870912;return t=kn.current,t!==null&&(t.flags|=32),Un}function wn(t,i,a){(t===ct&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(vo(t,0),lr(t,Fe,Un,!1)),qr(t,a),((Ze&2)===0||t!==ct)&&(t===ct&&((Ze&2)===0&&(ga|=a),Rt===4&&lr(t,Fe,Un,!1)),qi(t))}function Q_(t,i,a){if((Ze&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||oi(t,i),f=l?HS(t,i):Kd(t,i,!0),d=l;do{if(f===0){po&&!l&&lr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!FS(a)){f=Kd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;f=Pl;var D=b.current.memoizedState.isDehydrated;if(D&&(vo(b,_).flags|=256),_=Kd(b,_,!1),_!==2){if(zd&&!D){b.errorRecoveryDisabledLanes|=d,ga|=d,f=4;break e}d=Sn,Sn=f,d!==null&&(Sn===null?Sn=d:Sn.push.apply(Sn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){vo(t,0),lr(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:lr(l,i,Un,!sr);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=Pc+300-ce(),10<f)){if(lr(l,i,Un,!sr),wi(l,0,!0)!==0)break e;bs=i,l.timeoutHandle=S0(Y_.bind(null,l,a,Sn,jc,Bd,i,Un,ga,yo,sr,d,"Throttled",-0,0),f);break e}Y_(l,a,Sn,jc,Bd,i,Un,ga,yo,sr,d,null,-0,0)}}break}while(!0);qi(t)}function Y_(t,i,a,l,f,d,_,b,D,B,Y,J,F,H){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},j_(i,d,J);var de=(d&62914560)===d?Pc-ce():(d&4194048)===d?H_-ce():0;if(de=R1(J,de),de!==null){bs=d,t.cancelPendingCommit=de(n0.bind(null,t,i,d,a,l,f,_,b,D,Y,J,null,F,H)),lr(t,d,_,!B);return}}n0(t,i,d,a,l,f,_,b,D)}function FS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!On(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function lr(t,i,a,l){i&=~jd,i&=~ga,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-ut(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Hr(t,a,i)}function Bc(){return(Ze&6)===0?(jl(0),!1):!0}function Gd(){if(ze!==null){if(it===0)var t=ze.return;else t=ze,fs=aa=null,od(t),lo=null,Al=0,t=ze;for(;t!==null;)w_(t.alternate,t),t=t.return;ze=null}}function vo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,l1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),bs=0,Gd(),ct=t,ze=a=cs(t.current,null),Fe=i,it=0,Ln=null,sr=!1,po=oi(t,i),zd=!1,yo=Un=jd=ga=rr=Rt=0,Sn=Pl=null,Bd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-ut(l),d=1<<f;i|=t[f],l&=~d}return As=i,lc(),a}function X_(t,i){ke=null,Q.H=Dl,i===oo||i===pc?(i=hy(),it=3):i===Xf?(i=hy(),it=4):it=i===bd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ln=i,ze===null&&(Rt=1,Dc(t,Wn(i,t.current)))}function $_(){var t=kn.current;return t===null?!0:(Fe&4194048)===Fe?ti===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?t===ti:!1}function W_(){var t=Q.H;return Q.H=Dl,t===null?Dl:t}function J_(){var t=Q.A;return Q.A=jS,t}function Fc(){Rt=4,sr||(Fe&4194048)!==Fe&&kn.current!==null||(po=!0),(rr&134217727)===0&&(ga&134217727)===0||ct===null||lr(ct,Fe,Un,!1)}function Kd(t,i,a){var l=Ze;Ze|=2;var f=W_(),d=J_();(ct!==t||Fe!==i)&&(jc=null,vo(t,i)),i=!1;var _=Rt;e:do try{if(it!==0&&ze!==null){var b=ze,D=Ln;switch(it){case 8:Gd(),_=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(i=!0);var B=it;if(it=0,Ln=null,Eo(t,b,D,B),a&&po){_=0;break e}break;default:B=it,it=0,Ln=null,Eo(t,b,D,B)}}qS(),_=Rt;break}catch(Y){X_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,fs=aa=null,Ze=l,Q.H=f,Q.A=d,ze===null&&(ct=null,Fe=0,lc()),_}function qS(){for(;ze!==null;)Z_(ze)}function HS(t,i){var a=Ze;Ze|=2;var l=W_(),f=J_();ct!==t||Fe!==i?(jc=null,zc=ce()+500,vo(t,i)):po=oi(t,i);e:do try{if(it!==0&&ze!==null){i=ze;var d=Ln;t:switch(it){case 1:it=0,Ln=null,Eo(t,i,d,1);break;case 2:case 9:if(uy(d)){it=0,Ln=null,e0(i);break}i=function(){it!==2&&it!==9||ct!==t||(it=7),qi(t)},d.then(i,i);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:uy(d)?(it=0,Ln=null,e0(i)):(it=0,Ln=null,Eo(t,i,d,7));break;case 5:var _=null;switch(ze.tag){case 26:_=ze.memoizedState;case 5:case 27:var b=ze;if(_?z0(_):b.stateNode.complete){it=0,Ln=null;var D=b.sibling;if(D!==null)ze=D;else{var B=b.return;B!==null?(ze=B,qc(B)):ze=null}break t}}it=0,Ln=null,Eo(t,i,d,5);break;case 6:it=0,Ln=null,Eo(t,i,d,6);break;case 8:Gd(),Rt=6;break e;default:throw Error(r(462))}}GS();break}catch(Y){X_(t,Y)}while(!0);return fs=aa=null,Q.H=l,Q.A=f,Ze=a,ze!==null?0:(ct=null,Fe=0,lc(),Rt)}function GS(){for(;ze!==null&&!$o();)Z_(ze)}function Z_(t){var i=b_(t.alternate,t,As);t.memoizedProps=t.pendingProps,i===null?qc(t):ze=i}function e0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=y_(a,i,i.pendingProps,i.type,void 0,Fe);break;case 11:i=y_(a,i,i.pendingProps,i.type.render,i.ref,Fe);break;case 5:od(i);default:w_(a,i),i=ze=Jp(i,As),i=b_(a,i,As)}t.memoizedProps=t.pendingProps,i===null?qc(t):ze=i}function Eo(t,i,a,l){fs=aa=null,od(i),lo=null,Al=0;var f=i.return;try{if(MS(t,f,i,a,Fe)){Rt=1,Dc(t,Wn(a,t.current)),ze=null;return}}catch(d){if(f!==null)throw ze=f,d;Rt=1,Dc(t,Wn(a,t.current)),ze=null;return}i.flags&32768?(Qe||l===1?t=!0:po||(Fe&536870912)!==0?t=!1:(sr=t=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),t0(i,t)):qc(i)}function qc(t){var i=t;do{if((i.flags&32768)!==0){t0(i,sr);return}t=i.return;var a=LS(i.alternate,i,As);if(a!==null){ze=a;return}if(i=i.sibling,i!==null){ze=i;return}ze=i=t}while(i!==null);Rt===0&&(Rt=5)}function t0(t,i){do{var a=US(t.alternate,t);if(a!==null){a.flags&=32767,ze=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ze=t;return}ze=t=a}while(t!==null);Rt=6,ze=null}function n0(t,i,a,l,f,d,_,b,D){t.cancelPendingCommit=null;do Hc();while(Qt!==0);if((Ze&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=kf,wf(t,a,d,_,b,D),t===ct&&(ze=ct=null,Fe=0),_o=i,or=t,bs=a,Fd=d,qd=f,G_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,XS(ye,function(){return o0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=te.p,te.p=2,_=Ze,Ze|=4;try{PS(t,i,a)}finally{Ze=_,te.p=f,Q.T=l}}Qt=1,i0(),s0(),r0()}}function i0(){if(Qt===1){Qt=0;var t=or,i=_o,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=te.p;te.p=2;var f=Ze;Ze|=4;try{U_(i,t);var d=sm,_=qp(t.containerInfo),b=d.focusedElem,D=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Fp(b.ownerDocument.documentElement,b)){if(D!==null&&xf(b)){var B=D.start,Y=D.end;if(Y===void 0&&(Y=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(Y,b.value.length);else{var J=b.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var H=F.getSelection(),de=b.textContent.length,Ae=Math.min(D.start,de),lt=D.end===void 0?Ae:Math.min(D.end,de);!H.extend&&Ae>lt&&(_=lt,lt=Ae,Ae=_);var U=Bp(b,Ae),V=Bp(b,lt);if(U&&V&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==V.node||H.focusOffset!==V.offset)){var j=J.createRange();j.setStart(U.node,U.offset),H.removeAllRanges(),Ae>lt?(H.addRange(j),H.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),H.addRange(j))}}}}for(J=[],H=b;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var $=J[b];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}nh=!!im,sm=im=null}finally{Ze=f,te.p=l,Q.T=a}}t.current=i,Qt=2}}function s0(){if(Qt===2){Qt=0;var t=or,i=_o,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=te.p;te.p=2;var f=Ze;Ze|=4;try{O_(t,i.alternate,i)}finally{Ze=f,te.p=l,Q.T=a}}Qt=3}}function r0(){if(Qt===4||Qt===3){Qt=0,Ua();var t=or,i=_o,a=bs,l=G_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Qt=5:(Qt=0,_o=or=null,a0(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ar=null),as(a),i=i.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Zt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,f=te.p,te.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{Q.T=i,te.p=f}}(bs&3)!==0&&Hc(),qi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Hd?zl++:(zl=0,Hd=t):zl=0,jl(0)}}function a0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,El(i)))}function Hc(){return i0(),s0(),r0(),o0()}function o0(){if(Qt!==5)return!1;var t=or,i=Fd;Fd=0;var a=as(bs),l=Q.T,f=te.p;try{te.p=32>a?32:a,Q.T=null,a=qd,qd=null;var d=or,_=bs;if(Qt=0,_o=or=null,bs=0,(Ze&6)!==0)throw Error(r(331));var b=Ze;if(Ze|=4,F_(d.current),z_(d,d.current,_,a),Ze=b,jl(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Zt,d)}catch{}return!0}finally{te.p=f,Q.T=l,a0(t,i)}}function l0(t,i,a){i=Wn(a,i),i=Ad(t.stateNode,i,2),t=er(t,i,2),t!==null&&(qr(t,2),qi(t))}function st(t,i,a){if(t.tag===3)l0(t,t,a);else for(;i!==null;){if(i.tag===3){l0(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ar===null||!ar.has(l))){t=Wn(a,t),a=u_(2),l=er(i,a,2),l!==null&&(c_(a,l,i,t),qr(l,2),qi(l));break}}i=i.return}}function Qd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new BS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(zd=!0,f.add(a),t=KS.bind(null,t,i,a),i.then(t,t))}function KS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ct===t&&(Fe&a)===a&&(Rt===4||Rt===3&&(Fe&62914560)===Fe&&300>ce()-Pc?(Ze&2)===0&&vo(t,0):jd|=a,yo===Fe&&(yo=0)),qi(t)}function u0(t,i){i===0&&(i=ju()),t=ia(t,i),t!==null&&(qr(t,i),qi(t))}function QS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),u0(t,a)}function YS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),u0(t,a)}function XS(t,i){return xt(t,i)}var Gc=null,To=null,Yd=!1,Kc=!1,Xd=!1,ur=0;function qi(t){t!==To&&t.next===null&&(To===null?Gc=To=t:To=To.next=t),Kc=!0,Yd||(Yd=!0,WS())}function jl(t,i){if(!Xd&&Kc){Xd=!0;do for(var a=!1,l=Gc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-ut(42|t)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,d0(l,d))}else d=Fe,d=wi(l,l===ct?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||oi(l,d)||(a=!0,d0(l,d));l=l.next}while(a);Xd=!1}}function $S(){c0()}function c0(){Kc=Yd=!1;var t=0;ur!==0&&o1()&&(t=ur);for(var i=ce(),a=null,l=Gc;l!==null;){var f=l.next,d=h0(l,i);d===0?(l.next=null,a===null?Gc=f:a.next=f,f===null&&(To=a)):(a=l,(t!==0||(d&3)!==0)&&(Kc=!0)),l=f}Qt!==0&&Qt!==5||jl(t),ur!==0&&(ur=0)}function h0(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ut(d),b=1<<_,D=f[_];D===-1?((b&a)===0||(b&l)!==0)&&(f[_]=Sf(b,i)):D<=i&&(t.expiredLanes|=b),d&=~b}if(i=ct,a=Fe,a=wi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(it===2||it===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&bi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||oi(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&bi(l),as(a)){case 2:case 8:a=Ie;break;case 32:a=ye;break;case 268435456:a=At;break;default:a=ye}return l=f0.bind(null,t),a=xt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&bi(l),t.callbackPriority=2,t.callbackNode=null,2}function f0(t,i){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Hc()&&t.callbackNode!==a)return null;var l=Fe;return l=wi(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Q_(t,l,i),h0(t,ce()),t.callbackNode!=null&&t.callbackNode===a?f0.bind(null,t):null)}function d0(t,i){if(Hc())return null;Q_(t,i,!0)}function WS(){u1(function(){(Ze&6)!==0?xt(me,$S):c0()})}function $d(){if(ur===0){var t=ro;t===0&&(t=xn,xn<<=1,(xn&261888)===0&&(xn=256)),ur=t}return ur}function m0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ha(""+t)}function g0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function JS(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=m0((f[Xt]||null).action),_=l.submitter;_&&(i=(i=_[Xt]||null)?m0(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new Li("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ur!==0){var D=_?g0(f,_):new FormData(f);pd(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=_?g0(f,_):new FormData(f),pd(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Wd=0;Wd<Mf.length;Wd++){var Jd=Mf[Wd],ZS=Jd.toLowerCase(),e1=Jd[0].toUpperCase()+Jd.slice(1);gi(ZS,"on"+e1)}gi(Kp,"onAnimationEnd"),gi(Qp,"onAnimationIteration"),gi(Yp,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(pS,"onTransitionRun"),gi(yS,"onTransitionStart"),gi(_S,"onTransitionCancel"),gi(Xp,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function p0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],D=b.instance,B=b.currentTarget;if(b=b.listener,D!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=B;try{d(f)}catch(Y){oc(Y)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(b=l[_],D=b.instance,B=b.currentTarget,b=b.listener,D!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=B;try{d(f)}catch(Y){oc(Y)}f.currentTarget=null,d=D}}}}function je(t,i){var a=i[za];a===void 0&&(a=i[za]=new Set);var l=t+"__bubble";a.has(l)||(y0(i,t,2,!1),a.add(l))}function Zd(t,i,a){var l=0;i&&(l|=4),y0(a,t,l,i)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function em(t){if(!t[Qc]){t[Qc]=!0,Zo.forEach(function(a){a!=="selectionchange"&&(t1.has(a)||Zd(a,!1,t),Zd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Qc]||(i[Qc]=!0,Zd("selectionchange",!1,i))}}function y0(t,i,a,l){switch(K0(i)){case 2:var f=x1;break;case 8:f=D1;break;default:f=gm}a=f.bind(null,i,a,t),f=void 0,!Xr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function tm(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=xi(b),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Hs(function(){var B=d,Y=Qn(a),J=[];e:{var F=$p.get(t);if(F!==void 0){var H=Li,de=t;switch(t){case"keypress":if(Wr(a)===0)break e;case"keydown":case"keyup":H=sc;break;case"focusin":de="focus",H=Zr;break;case"focusout":de="blur",H=Zr;break;case"beforeblur":case"afterblur":H=Zr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=y;break;case Kp:case Qp:case Yp:H=Wu;break;case Xp:H=S;break;case"scroll":case"scrollend":H=hl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=us;break;case"toggle":case"beforetoggle":H=Me}var Ae=(i&4)!==0,lt=!Ae&&(t==="scroll"||t==="scrollend"),U=Ae?F!==null?F+"Capture":null:F;Ae=[];for(var V=B,j;V!==null;){var $=V;if(j=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||j===null||U===null||($=hi(V,U),$!=null&&Ae.push(Fl(V,$,j))),lt)break;V=V.return}0<Ae.length&&(F=new H(F,de,null,a,Y),J.push({event:F,listeners:Ae}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",F&&a!==ll&&(de=a.relatedTarget||a.fromElement)&&(xi(de)||de[Ci]))break e;if((H||F)&&(F=Y.window===Y?Y:(F=Y.ownerDocument)?F.defaultView||F.parentWindow:window,H?(de=a.relatedTarget||a.toElement,H=B,de=de?xi(de):null,de!==null&&(lt=u(de),Ae=de.tag,de!==lt||Ae!==5&&Ae!==27&&Ae!==6)&&(de=null)):(H=null,de=B),H!==de)){if(Ae=fl,$="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=us,$="onPointerLeave",U="onPointerEnter",V="pointer"),lt=H==null?F:Dn(H),j=de==null?F:Dn(de),F=new Ae($,V+"leave",H,a,Y),F.target=lt,F.relatedTarget=j,$=null,xi(Y)===B&&(Ae=new Ae(U,V+"enter",de,a,Y),Ae.target=j,Ae.relatedTarget=lt,$=Ae),lt=$,H&&de)t:{for(Ae=n1,U=H,V=de,j=0,$=U;$;$=Ae($))j++;$=0;for(var _e=V;_e;_e=Ae(_e))$++;for(;0<j-$;)U=Ae(U),j--;for(;0<$-j;)V=Ae(V),$--;for(;j--;){if(U===V||V!==null&&U===V.alternate){Ae=U;break t}U=Ae(U),V=Ae(V)}Ae=null}else Ae=null;H!==null&&_0(J,F,H,Ae,!1),de!==null&&lt!==null&&_0(J,lt,de,Ae,!0)}}e:{if(F=B?Dn(B):window,H=F.nodeName&&F.nodeName.toLowerCase(),H==="select"||H==="input"&&F.type==="file")var $e=Vp;else if(Mp(F))if(Lp)$e=dS;else{$e=hS;var ge=cS}else H=F.nodeName,!H||H.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&qa(B.elementType)&&($e=Vp):$e=fS;if($e&&($e=$e(t,B))){kp(J,$e,a,Y);break e}ge&&ge(t,F,B),t==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&rl(F,"number",F.value)}switch(ge=B?Dn(B):window,t){case"focusin":(Mp(ge)||ge.contentEditable==="true")&&(Wa=ge,Df=B,yl=null);break;case"focusout":yl=Df=Wa=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,Hp(J,a,Y);break;case"selectionchange":if(gS)break;case"keydown":case"keyup":Hp(J,a,Y)}var Le;if(Je)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else $a?ea(t,a)&&(qe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(qe="onCompositionStart");qe&&(zi&&a.locale!=="ko"&&($a||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&$a&&(Le=cl()):(Vi=Y,ul="value"in Vi?Vi.value:Vi.textContent,$a=!0)),ge=Yc(B,qe),0<ge.length&&(qe=new Pi(qe,t,null,a,Y),J.push({event:qe,listeners:ge}),Le?qe.data=Le:(Le=Xa(a),Le!==null&&(qe.data=Le)))),(Le=Xn?aS(t,a):oS(t,a))&&(qe=Yc(B,"onBeforeInput"),0<qe.length&&(ge=new Pi("onBeforeInput","beforeinput",null,a,Y),J.push({event:ge,listeners:qe}),ge.data=Le)),JS(J,t,B,a,Y)}p0(J,i)})}function Fl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Yc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=hi(t,a),f!=null&&l.unshift(Fl(t,f,d)),f=hi(t,i),f!=null&&l.push(Fl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function n1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _0(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,D=b.alternate,B=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||B===null||(D=B,f?(B=hi(a,d),B!=null&&_.unshift(Fl(a,B,D))):f||(B=hi(a,d),B!=null&&_.push(Fl(a,B,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var i1=/\r\n?/g,s1=/\u0000|\uFFFD/g;function v0(t){return(typeof t=="string"?t:""+t).replace(i1,`
`).replace(s1,"")}function E0(t,i){return i=v0(i),v0(t)===i}function ot(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&En(t,""+l);break;case"className":Nn(t,"class",l);break;case"tabIndex":Nn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(t,a,l);break;case"style":ol(t,l,d);break;case"data":if(i!=="object"){Nn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ha(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ot(t,i,"name",f.name,f,null),ot(t,i,"formEncType",f.formEncType,f,null),ot(t,i,"formMethod",f.formMethod,f,null),ot(t,i,"formTarget",f.formTarget,f,null)):(ot(t,i,"encType",f.encType,f,null),ot(t,i,"method",f.method,f,null),ot(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ha(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ci);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":je("beforetoggle",t),je("toggle",t),Ba(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yu.get(a)||a,Ba(t,a,l))}}function nm(t,i,a,l,f,d){switch(a){case"style":ol(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Xt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ba(t,a,l)}}}function rn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ot(t,i,d,_,a,null)}}f&&ot(t,i,"srcSet",a.srcSet,a,null),l&&ot(t,i,"src",a.src,a,null);return;case"input":je("invalid",t);var b=d=_=f=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":_=Y;break;case"checked":D=Y;break;case"defaultChecked":B=Y;break;case"value":d=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:ot(t,i,l,Y,a,null)}}Gu(t,d,b,D,B,_,f,!1);return;case"select":je("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:ot(t,i,f,b,a,null)}i=d,a=_,t.multiple=!!l,i!=null?js(t,!!l,i,!1):a!=null&&js(t,!!l,a,!0);return;case"textarea":je("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:ot(t,i,_,b,a,null)}Bs(t,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ot(t,i,D,l,a,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<Bl.length;l++)je(Bl[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ot(t,i,B,l,a,null)}return;default:if(qa(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&nm(t,i,Y,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&ot(t,i,b,l,a,null))}function r1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,D=null,B=null,Y=null;for(H in a){var J=a[H];if(a.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty(H)||ot(t,i,H,null,l,J)}}for(var F in l){var H=l[F];if(J=a[F],l.hasOwnProperty(F)&&(H!=null||J!=null))switch(F){case"type":d=H;break;case"name":f=H;break;case"checked":B=H;break;case"defaultChecked":Y=H;break;case"value":_=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==J&&ot(t,i,F,H,l,J)}}Fa(t,_,b,D,B,Y,d,f);return;case"select":H=_=b=F=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":H=D;default:l.hasOwnProperty(d)||ot(t,i,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==D&&ot(t,i,f,d,l,D)}i=b,a=_,l=H,F!=null?js(t,!!a,F,!1):!!l!=!!a&&(i!=null?js(t,!!a,i,!0):js(t,!!a,a?[]:"",!1));return;case"textarea":H=F=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ot(t,i,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":F=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&ot(t,i,_,f,l,d)}Ku(t,F,H);return;case"option":for(var de in a)if(F=a[de],a.hasOwnProperty(de)&&F!=null&&!l.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:ot(t,i,de,null,l,F)}for(D in l)if(F=l[D],H=a[D],l.hasOwnProperty(D)&&F!==H&&(F!=null||H!=null))switch(D){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:ot(t,i,D,F,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)F=a[Ae],a.hasOwnProperty(Ae)&&F!=null&&!l.hasOwnProperty(Ae)&&ot(t,i,Ae,null,l,F);for(B in l)if(F=l[B],H=a[B],l.hasOwnProperty(B)&&F!==H&&(F!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:ot(t,i,B,F,l,H)}return;default:if(qa(i)){for(var lt in a)F=a[lt],a.hasOwnProperty(lt)&&F!==void 0&&!l.hasOwnProperty(lt)&&nm(t,i,lt,void 0,l,F);for(Y in l)F=l[Y],H=a[Y],!l.hasOwnProperty(Y)||F===H||F===void 0&&H===void 0||nm(t,i,Y,F,l,H);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&ot(t,i,U,null,l,F);for(J in l)F=l[J],H=a[J],!l.hasOwnProperty(J)||F===H||F==null&&H==null||ot(t,i,J,F,l,H)}function T0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function a1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&T0(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>b)break;var Y=D.transferSize,J=D.initiatorType;Y&&T0(J)&&(D=D.responseEnd,_+=Y*(D<b?1:(b-B)/(D-B)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var im=null,sm=null;function Xc(t){return t.nodeType===9?t:t.ownerDocument}function A0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function rm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var am=null;function o1(){var t=window.event;return t&&t.type==="popstate"?t===am?!1:(am=t,!0):(am=null,!1)}var S0=typeof setTimeout=="function"?setTimeout:void 0,l1=typeof clearTimeout=="function"?clearTimeout:void 0,w0=typeof Promise=="function"?Promise:void 0,u1=typeof queueMicrotask=="function"?queueMicrotask:typeof w0<"u"?function(t){return w0.resolve(null).then(t).catch(c1)}:S0;function c1(t){setTimeout(function(){throw t})}function cr(t){return t==="head"}function R0(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),wo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ql(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,ql(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[Ii]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&ql(t.ownerDocument.body);a=f}while(a);wo(i)}function C0(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function om(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":om(a),ja(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function h1(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ii])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ni(t.nextSibling),t===null)break}return null}function f1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ni(t.nextSibling),t===null))return null;return t}function I0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ni(t.nextSibling),t===null))return null;return t}function lm(t){return t.data==="$?"||t.data==="$~"}function um(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function d1(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ni(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var cm=null;function x0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return ni(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function D0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function N0(t,i,a){switch(i=Xc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function ql(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ja(t)}var ii=new Map,O0=new Set;function $c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ss=te.d;te.d={f:m1,r:g1,D:p1,C:y1,L:_1,m:v1,X:T1,S:E1,M:A1};function m1(){var t=Ss.f(),i=Bc();return t||i}function g1(t){var i=Kn(t);i!==null&&i.tag===5&&i.type==="form"?Xy(i):Ss.r(t)}var Ao=typeof document>"u"?null:document;function M0(t,i,a){var l=Ao;if(l&&typeof i=="string"&&i){var f=vn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),O0.has(f)||(O0.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),rn(i,"link",t),Ut(i),l.head.appendChild(i)))}}function p1(t){Ss.D(t),M0("dns-prefetch",t,null)}function y1(t,i){Ss.C(t,i),M0("preconnect",t,i)}function _1(t,i,a){Ss.L(t,i,a);var l=Ao;if(l&&t&&i){var f='link[rel="preload"][as="'+vn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+vn(a.imageSizes)+'"]')):f+='[href="'+vn(t)+'"]';var d=f;switch(i){case"style":d=bo(t);break;case"script":d=So(t)}ii.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),ii.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Hl(d))||i==="script"&&l.querySelector(Gl(d))||(i=l.createElement("link"),rn(i,"link",t),Ut(i),l.head.appendChild(i)))}}function v1(t,i){Ss.m(t,i);var a=Ao;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+vn(l)+'"][href="'+vn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=So(t)}if(!ii.has(d)&&(t=T({rel:"modulepreload",href:t},i),ii.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Gl(d)))return}l=a.createElement("link"),rn(l,"link",t),Ut(l),a.head.appendChild(l)}}}function E1(t,i,a){Ss.S(t,i,a);var l=Ao;if(l&&t){var f=Di(l).hoistableStyles,d=bo(t);i=i||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Hl(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=ii.get(d))&&hm(t,a);var D=_=l.createElement("link");Ut(D),rn(D,"link",t),D._p=new Promise(function(B,Y){D.onload=B,D.onerror=Y}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Wc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function T1(t,i){Ss.X(t,i);var a=Ao;if(a&&t){var l=Di(a).hoistableScripts,f=So(t),d=l.get(f);d||(d=a.querySelector(Gl(f)),d||(t=T({src:t,async:!0},i),(i=ii.get(f))&&fm(t,i),d=a.createElement("script"),Ut(d),rn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function A1(t,i){Ss.M(t,i);var a=Ao;if(a&&t){var l=Di(a).hoistableScripts,f=So(t),d=l.get(f);d||(d=a.querySelector(Gl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=ii.get(f))&&fm(t,i),d=a.createElement("script"),Ut(d),rn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function k0(t,i,a,l){var f=(f=Ce.current)?$c(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=bo(a.href),a=Di(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=bo(a.href);var d=Di(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Hl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),ii.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ii.set(t,a),d||b1(f,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=So(a),a=Di(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function bo(t){return'href="'+vn(t)+'"'}function Hl(t){return'link[rel="stylesheet"]['+t+"]"}function V0(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function b1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),rn(i,"link",a),Ut(i),t.head.appendChild(i))}function So(t){return'[src="'+vn(t)+'"]'}function Gl(t){return"script[async]"+t}function L0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+vn(a.href)+'"]');if(l)return i.instance=l,Ut(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ut(l),rn(l,"style",f),Wc(l,a.precedence,t),i.instance=l;case"stylesheet":f=bo(a.href);var d=t.querySelector(Hl(f));if(d)return i.state.loading|=4,i.instance=d,Ut(d),d;l=V0(a),(f=ii.get(f))&&hm(l,f),d=(t.ownerDocument||t).createElement("link"),Ut(d);var _=d;return _._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),rn(d,"link",l),i.state.loading|=4,Wc(d,a.precedence,t),i.instance=d;case"script":return d=So(a.src),(f=t.querySelector(Gl(d)))?(i.instance=f,Ut(f),f):(l=a,(f=ii.get(d))&&(l=T({},a),fm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ut(f),rn(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Wc(l,a.precedence,t));return i.instance}function Wc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function hm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function fm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Jc=null;function U0(t,i,a){if(Jc===null){var l=new Map,f=Jc=new Map;f.set(a,l)}else f=Jc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Ii]||d[Lt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function P0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function S1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function z0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function w1(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=bo(l.href),d=i.querySelector(Hl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Zc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Ut(d);return}d=i.ownerDocument||i,l=V0(l),(f=ii.get(f))&&hm(l,f),d=d.createElement("link"),Ut(d);var _=d;_._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),rn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Zc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var dm=0;function R1(t,i){return t.stylesheets&&t.count===0&&th(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&th(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&dm===0&&(dm=62500*a1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&th(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>dm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)th(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var eh=null;function th(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,eh=new Map,i.forEach(C1,t),eh=null,Zc.call(t))}function C1(t,i){if(!(i.state.loading&4)){var a=eh.get(t);if(a)var l=a.get(null);else{a=new Map,eh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Zc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Kl={$$typeof:oe,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function I1(t,i,a,l,f,d,_,b,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function j0(t,i,a,l,f,d,_,b,D,B,Y,J){return t=new I1(t,i,a,_,D,B,Y,J,b),i=1,d===!0&&(i|=24),d=Mn(3,null,null,i),t.current=d,d.stateNode=t,i=Kf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},$f(d),t}function B0(t){return t?(t=eo,t):eo}function F0(t,i,a,l,f,d){f=B0(f),l.context===null?l.context=f:l.pendingContext=f,l=Zs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=er(t,l,i),a!==null&&(wn(a,t,i),Sl(a,t,i))}function q0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function mm(t,i){q0(t,i),(t=t.alternate)&&q0(t,i)}function H0(t){if(t.tag===13||t.tag===31){var i=ia(t,67108864);i!==null&&wn(i,t,67108864),mm(t,67108864)}}function G0(t){if(t.tag===13||t.tag===31){var i=Pn();i=Gr(i);var a=ia(t,i);a!==null&&wn(a,t,i),mm(t,i)}}var nh=!0;function x1(t,i,a,l){var f=Q.T;Q.T=null;var d=te.p;try{te.p=2,gm(t,i,a,l)}finally{te.p=d,Q.T=f}}function D1(t,i,a,l){var f=Q.T;Q.T=null;var d=te.p;try{te.p=8,gm(t,i,a,l)}finally{te.p=d,Q.T=f}}function gm(t,i,a,l){if(nh){var f=pm(l);if(f===null)tm(t,i,l,ih,a),Q0(t,l);else if(O1(f,t,i,a,l))l.stopPropagation();else if(Q0(t,l),i&4&&-1<N1.indexOf(t)){for(;f!==null;){var d=Kn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Si(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var D=1<<31-ut(_);b.entanglements[1]|=D,_&=~D}qi(d),(Ze&6)===0&&(zc=ce()+500,jl(0))}}break;case 31:case 13:b=ia(d,2),b!==null&&wn(b,d,2),Bc(),mm(d,2)}if(d=pm(l),d===null&&tm(t,i,l,ih,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else tm(t,i,l,null,a)}}function pm(t){return t=Qn(t),ym(t)}var ih=null;function ym(t){if(ih=null,t=xi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=c(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ih=t,null}function K0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(he()){case me:return 2;case Ie:return 8;case ye:case Ye:return 32;case At:return 268435456;default:return 32}default:return 32}}var _m=!1,hr=null,fr=null,dr=null,Ql=new Map,Yl=new Map,mr=[],N1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q0(t,i){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(i.pointerId)}}function Xl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Kn(i),i!==null&&H0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function O1(t,i,a,l,f){switch(i){case"focusin":return hr=Xl(hr,t,i,a,l,f),!0;case"dragenter":return fr=Xl(fr,t,i,a,l,f),!0;case"mouseover":return dr=Xl(dr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ql.set(d,Xl(Ql.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Yl.set(d,Xl(Yl.get(d)||null,t,i,a,l,f)),!0}return!1}function Y0(t){var i=xi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){t.blockedOn=i,li(t.priority,function(){G0(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,li(t.priority,function(){G0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=pm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ll=l,a.target.dispatchEvent(l),ll=null}else return i=Kn(a),i!==null&&H0(i),t.blockedOn=a,!1;i.shift()}return!0}function X0(t,i,a){sh(t)&&a.delete(i)}function M1(){_m=!1,hr!==null&&sh(hr)&&(hr=null),fr!==null&&sh(fr)&&(fr=null),dr!==null&&sh(dr)&&(dr=null),Ql.forEach(X0),Yl.forEach(X0)}function rh(t,i){t.blockedOn===i&&(t.blockedOn=null,_m||(_m=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,M1)))}var ah=null;function $0(t){ah!==t&&(ah=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ah===t&&(ah=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(ym(l||a)===null)continue;break}var d=Kn(a);d!==null&&(t.splice(i,3),i-=3,pd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function wo(t){function i(D){return rh(D,t)}hr!==null&&rh(hr,t),fr!==null&&rh(fr,t),dr!==null&&rh(dr,t),Ql.forEach(i),Yl.forEach(i);for(var a=0;a<mr.length;a++){var l=mr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<mr.length&&(a=mr[0],a.blockedOn===null);)Y0(a),a.blockedOn===null&&mr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Xt]||null;if(typeof d=="function")_||$0(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Xt]||null)b=_.formAction;else if(ym(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),$0(a)}}}function W0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function vm(t){this._internalRoot=t}oh.prototype.render=vm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Pn();F0(a,l,t,i,null,null)},oh.prototype.unmount=vm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;F0(t.current,2,null,t,null,null),Bc(),i[Ci]=null}};function oh(t){this._internalRoot=t}oh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Bu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<mr.length&&i!==0&&i<mr[a].priority;a++);mr.splice(a,0,t),a===0&&Y0(t)}};var J0=e.version;if(J0!=="19.2.3")throw Error(r(527,J0,"19.2.3"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var k1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{Zt=lh.inject(k1),vt=lh}catch{}}return Wl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",f=r_,d=a_,_=o_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=j0(t,1,!1,null,null,a,l,null,f,d,_,W0),t[Ci]=i.current,em(t),new vm(i)},Wl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,f="",d=r_,_=a_,b=o_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=j0(t,1,!0,i,a??null,l,f,D,d,_,b,W0),i.context=B0(null),a=i.current,l=Pn(),l=Gr(l),f=Zs(l),f.callback=null,er(a,f,l),a=l,i.current.lanes=a,qr(i,a),qi(i),t[Ci]=i.current,em(t),new oh(i)},Wl.version="19.2.3",Wl}var lv;function H1(){if(lv)return Am.exports;lv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Am.exports=q1(),Am.exports}var G1=H1();const K1=rT(G1),Q1="modulepreload",Y1=function(s){return"/"+s},uv={},Ma=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=c(n.map(p=>{if(p=Y1(p),p in uv)return;uv[p]=!0;const v=p.endsWith(".css"),T=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${T}`))return;const A=document.createElement("link");if(A.rel=v?"stylesheet":Q1,v||(A.as="script"),A.crossOrigin="",A.href=p,g&&A.setAttribute("nonce",g),document.head.appendChild(A),v)return new Promise((N,P)=>{A.addEventListener("load",N),A.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return o.then(c=>{for(const m of c||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})},oT=ee.createContext(null),X1=()=>{const s=ee.useContext(oT);if(!s)throw new Error("useToast must be used within ToastProvider");return s},$1=()=>Math.random().toString(36).substring(2,9),W1={success:"bg-green-500 text-white",error:"bg-red-500 text-white",warning:"bg-amber-500 text-white",info:"bg-blue-500 text-white"},J1={success:"",error:"",warning:"",info:""},Z1=({children:s})=>{const[e,n]=ee.useState([]),r=ee.useCallback(c=>{n(m=>m.filter(g=>g.id!==c))},[]),o=ee.useCallback((c,m="info",g=3e3)=>{const p=$1(),v={id:p,message:c,type:m,duration:g};n(T=>[...T,v]),g>0&&setTimeout(()=>r(p),g)},[r]),u={showToast:o,success:c=>o(c,"success"),error:c=>o(c,"error",5e3),warning:c=>o(c,"warning",4e3),info:c=>o(c,"info")};return R.jsxs(oT.Provider,{value:u,children:[s,R.jsx("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2 max-w-sm",children:e.map(c=>R.jsxs("div",{className:`
              ${W1[c.type]}
              px-4 py-3 rounded-lg shadow-lg
              flex items-center gap-3
              animate-slide-in
              cursor-pointer
              transition-opacity hover:opacity-90
            `,onClick:()=>r(c.id),role:"alert",children:[R.jsx("span",{className:"text-lg font-bold",children:J1[c.type]}),R.jsx("span",{className:"text-sm font-medium",children:c.message})]},c.id))}),R.jsx("style",{children:`
        @keyframes slide-in {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
      `})]})};var ew=(s=>(s.ENTRADA="Entrada",s.SAIDA="Saida",s))(ew||{}),ri=(s=>(s.NONE="none",s.HAS_BUT_NOT_ATTACHED="has_but_not_attached",s.ATTACHED="attached",s.LOST="lost",s.NOT_REQUIRED="not_required",s))(ri||{}),_i=(s=>(s.NAO_DEDUTIVEL="nao_dedutivel",s.SAUDE="saude",s.EDUCACAO="educacao",s.LIVRO_CAIXA="livro_caixa",s.CARNE_LEAO="carne_leao",s.ALUGUEL="aluguel",s.BEM_DIREITO="bem_direito",s.ATIVIDADE_RURAL="atividade_rural",s.OUTRA="outra",s))(_i||{});const lT=s=>s.type==="Entrada"||s.type==="Entrada",cv=s=>s.type==="Saida"||s.type==="Saida"||s.type==="Sada",tw=()=>{};var hv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},nw=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],c=s[n++],m=s[n++],g=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],c=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},cT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],c=o+1<s.length,m=c?s[o+1]:0,g=o+2<s.length,p=g?s[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|p>>6,N=p&63;g||(N=64,c||(A=64)),r.push(n[v],n[T],n[A],n[N])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(uT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):nw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const p=o<s.length?n[s.charAt(o)]:64;++o;const T=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||p==null||T==null)throw new iw;const A=u<<2|m>>4;if(r.push(A),p!==64){const N=m<<4&240|p>>2;if(r.push(N),T!==64){const P=p<<6&192|T;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class iw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sw=function(s){const e=uT(s);return cT.encodeByteArray(e,!0)},Dh=function(s){return sw(s).replace(/\./g,"")},hT=function(s){try{return cT.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=()=>rw().__FIREBASE_DEFAULTS__,ow=()=>{if(typeof process>"u"||typeof hv>"u")return;const s=hv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},lw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&hT(s[1]);return e&&JSON.parse(e)},Wh=()=>{try{return tw()||aw()||ow()||lw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},fT=s=>{var e,n;return(n=(e=Wh())==null?void 0:e.emulatorHosts)==null?void 0:n[s]},dT=s=>{const e=fT(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mT=()=>{var s;return(s=Wh())==null?void 0:s.config},gT=s=>{var e;return(e=Wh())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cg(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Dh(JSON.stringify(n)),Dh(JSON.stringify(c)),""].join(".")}const lu={};function cw(){const s={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?s.emulator.push(e):s.prod.push(e);return s}function hw(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let fv=!1;function Ig(s,e){if(typeof window>"u"||typeof document>"u"||!kr(window.location.host)||lu[s]===e||lu[s]||fv)return;lu[s]=e;function n(A){return`__firebase__banner__${A}`}const r="__firebase__banner",u=cw().prod.length>0;function c(){const A=document.getElementById(r);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,N){A.setAttribute("width","24"),A.setAttribute("id",N),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{fv=!0,c()},A}function v(A,N){A.setAttribute("id",N),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=hw(r),N=n("text"),P=document.getElementById(N)||document.createElement("span"),K=n("learnmore"),G=document.getElementById(K)||document.createElement("a"),se=n("preprendIcon"),ie=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const oe=A.element;m(oe),v(G,K);const re=p();g(ie,se),oe.append(ie,P,G,re),document.body.appendChild(oe)}u?(P.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function dw(){var e;const s=(e=Wh())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function pw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yw(){const s=mn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function _w(){return!dw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vw(){try{return typeof indexedDB=="object"}catch{return!1}}function Ew(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="FirebaseError";class ts extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Tw,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iu.prototype.create)}}class Iu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?Aw(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new ts(o,m,r)}}function Aw(s,e){return s.replace(bw,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const bw=/\{\$([^}]+)}/g;function Sw(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function wa(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],c=e[o];if(dv(u)&&dv(c)){if(!wa(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function dv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nu(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function iu(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function ww(s,e){const n=new Rw(s,e);return n.subscribe.bind(n)}class Rw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Cw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Rm),o.error===void 0&&(o.error=Rm),o.complete===void 0&&(o.complete=Rm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cw(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Rm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(s){return s&&s._delegate?s._delegate:s}class Cr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Dw(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xw(s){return s===_a?void 0:s}function Dw(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Iw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(He||(He={}));const Ow={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},Mw=He.INFO,kw={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},Vw=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=kw[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xg{constructor(e){this.name=e,this._logLevel=Mw,this._logHandler=Vw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ow[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const Lw=(s,e)=>e.some(n=>s instanceof n);let mv,gv;function Uw(){return mv||(mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pw(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yT=new WeakMap,Gm=new WeakMap,_T=new WeakMap,Cm=new WeakMap,Dg=new WeakMap;function zw(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",c)},u=()=>{n(Ar(s.result)),o()},c=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&yT.set(n,s)}).catch(()=>{}),Dg.set(e,s),e}function jw(s){if(Gm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",c),s.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",c),s.addEventListener("abort",c)});Gm.set(s,e)}let Km={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Gm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||_T.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ar(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Bw(s){Km=s(Km)}function Fw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Im(this),e,...n);return _T.set(r,e.sort?e.sort():[e]),Ar(r)}:Pw().includes(s)?function(...e){return s.apply(Im(this),e),Ar(yT.get(this))}:function(...e){return Ar(s.apply(Im(this),e))}}function qw(s){return typeof s=="function"?Fw(s):(s instanceof IDBTransaction&&jw(s),Lw(s,Uw())?new Proxy(s,Km):s)}function Ar(s){if(s instanceof IDBRequest)return zw(s);if(Cm.has(s))return Cm.get(s);const e=qw(s);return e!==s&&(Cm.set(s,e),Dg.set(e,s)),e}const Im=s=>Dg.get(s);function Hw(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(s,e),m=Ar(c);return r&&c.addEventListener("upgradeneeded",g=>{r(Ar(c.result),g.oldVersion,g.newVersion,Ar(c.transaction),g)}),n&&c.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const Gw=["get","getKey","getAll","getAllKeys","count"],Kw=["put","add","delete","clear"],xm=new Map;function pv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(xm.get(e))return xm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=Kw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Gw.includes(n)))return;const u=async function(c,...m){const g=this.transaction(c,o?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return xm.set(e,u),u}Bw(s=>({...s,get:(e,n,r)=>pv(e,n)||s.get(e,n,r),has:(e,n)=>!!pv(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Yw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Yw(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qm="@firebase/app",yv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new xg("@firebase/app"),Xw="@firebase/app-compat",$w="@firebase/analytics-compat",Ww="@firebase/analytics",Jw="@firebase/app-check-compat",Zw="@firebase/app-check",eR="@firebase/auth",tR="@firebase/auth-compat",nR="@firebase/database",iR="@firebase/data-connect",sR="@firebase/database-compat",rR="@firebase/functions",aR="@firebase/functions-compat",oR="@firebase/installations",lR="@firebase/installations-compat",uR="@firebase/messaging",cR="@firebase/messaging-compat",hR="@firebase/performance",fR="@firebase/performance-compat",dR="@firebase/remote-config",mR="@firebase/remote-config-compat",gR="@firebase/storage",pR="@firebase/storage-compat",yR="@firebase/firestore",_R="@firebase/ai",vR="@firebase/firestore-compat",ER="firebase",TR="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",AR={[Qm]:"fire-core",[Xw]:"fire-core-compat",[Ww]:"fire-analytics",[$w]:"fire-analytics-compat",[Zw]:"fire-app-check",[Jw]:"fire-app-check-compat",[eR]:"fire-auth",[tR]:"fire-auth-compat",[nR]:"fire-rtdb",[iR]:"fire-data-connect",[sR]:"fire-rtdb-compat",[rR]:"fire-fn",[aR]:"fire-fn-compat",[oR]:"fire-iid",[lR]:"fire-iid-compat",[uR]:"fire-fcm",[cR]:"fire-fcm-compat",[hR]:"fire-perf",[fR]:"fire-perf-compat",[dR]:"fire-rc",[mR]:"fire-rc-compat",[gR]:"fire-gcs",[pR]:"fire-gcs-compat",[yR]:"fire-fst",[vR]:"fire-fst-compat",[_R]:"fire-vertex","fire-js":"fire-js",[ER]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,bR=new Map,Xm=new Map;function _v(s,e){try{s.container.addComponent(e)}catch(n){Ds.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Ra(s){const e=s.name;if(Xm.has(e))return Ds.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,s);for(const n of Nh.values())_v(n,s);for(const n of bR.values())_v(n,s);return!0}function Jh(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Cn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Iu("app","Firebase",SR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=TR;function vT(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Ym,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw br.create("bad-app-name",{appName:String(o)});if(n||(n=mT()),!n)throw br.create("no-options");const u=Nh.get(o);if(u){if(wa(n,u.options)&&wa(r,u.config))return u;throw br.create("duplicate-app",{appName:o})}const c=new Nw(o);for(const g of Xm.values())c.addComponent(g);const m=new wR(n,r,c);return Nh.set(o,m),m}function Ng(s=Ym){const e=Nh.get(s);if(!e&&s===Ym&&mT())return vT();if(!e)throw br.create("no-app",{appName:s});return e}function Qi(s,e,n){let r=AR[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ds.warn(c.join(" "));return}Ra(new Cr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firebase-heartbeat-database",CR=1,yu="firebase-heartbeat-store";let Dm=null;function ET(){return Dm||(Dm=Hw(RR,CR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(yu)}catch(n){console.warn(n)}}}}).catch(s=>{throw br.create("idb-open",{originalErrorMessage:s.message})})),Dm}async function IR(s){try{const n=(await ET()).transaction(yu),r=await n.objectStore(yu).get(TT(s));return await n.done,r}catch(e){if(e instanceof ts)Ds.warn(e.message);else{const n=br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ds.warn(n.message)}}}async function vv(s,e){try{const r=(await ET()).transaction(yu,"readwrite");await r.objectStore(yu).put(e,TT(s)),await r.done}catch(n){if(n instanceof ts)Ds.warn(n.message);else{const r=br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ds.warn(r.message)}}}function TT(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=1024,DR=30;class NR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Ev();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>DR){const c=kR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ds.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ev(),{heartbeatsToSend:r,unsentEntries:o}=OR(this._heartbeatsCache.heartbeats),u=Dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ds.warn(n),""}}}function Ev(){return new Date().toISOString().substring(0,10)}function OR(s,e=xR){const n=[];let r=s.slice();for(const o of s){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),Tv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Tv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vw()?Ew().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Tv(s){return Dh(JSON.stringify({version:2,heartbeats:s})).length}function kR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(s){Ra(new Cr("platform-logger",e=>new Qw(e),"PRIVATE")),Ra(new Cr("heartbeat",e=>new NR(e),"PRIVATE")),Qi(Qm,yv,s),Qi(Qm,yv,"esm2020"),Qi("fire-js","")}VR("");var LR="firebase",UR="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qi(LR,UR,"app");function AT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PR=AT,bT=new Iu("auth","Firebase",AT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new xg("@firebase/auth");function zR(s,...e){Oh.logLevel<=He.WARN&&Oh.warn(`Auth (${ka}): ${s}`,...e)}function _h(s,...e){Oh.logLevel<=He.ERROR&&Oh.error(`Auth (${ka}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(s,...e){throw Mg(s,...e)}function Ei(s,...e){return Mg(s,...e)}function Og(s,e,n){const r={...PR(),[e]:n};return new Iu("auth","Firebase",r).create(e,{appName:s.name})}function xs(s){return Og(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jR(s,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ai(s,"argument-error"),Og(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mg(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return bT.create(s,...e)}function be(s,e,...n){if(!s)throw Mg(e,...n)}function Cs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw _h(e),new Error(e)}function Ns(s,e){s||Cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function BR(){return Av()==="http:"||Av()==="https:"}function Av(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BR()||gw()||"connection"in navigator)?navigator.onLine:!0}function qR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ns(n>e,"Short delay should be less than long delay!"),this.isMobile=fw()||pw()}get(){return FR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(s,e){Ns(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KR=new Du(3e4,6e4);function Vr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Lr(s,e,n,r,o={}){return wT(s,o,async()=>{let u={},c={};r&&(e==="GET"?c=r:u={body:JSON.stringify(r)});const m=xu({key:s.config.apiKey,...c}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:g,...u};return mw()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&kr(s.emulatorConfig.host)&&(p.credentials="include"),ST.fetch()(await RT(s,s.config.apiHost,n,m),p)})}async function wT(s,e,n){s._canInitEmulator=!1;const r={...HR,...e};try{const o=new YR(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw uh(s,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(s,"credential-already-in-use",c);if(g==="EMAIL_EXISTS")throw uh(s,"email-already-in-use",c);if(g==="USER_DISABLED")throw uh(s,"user-disabled",c);const v=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Og(s,v,p);ai(s,v)}}catch(o){if(o instanceof ts)throw o;ai(s,"network-request-failed",{message:String(o)})}}async function Nu(s,e,n,r,o={}){const u=await Lr(s,e,n,r,o);return"mfaPendingCredential"in u&&ai(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function RT(s,e,n,r){const o=`${e}${n}?${r}`,u=s,c=u.config.emulator?kg(s.config,o):`${s.config.apiScheme}://${o}`;return GR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function QR(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ei(this.auth,"network-request-failed")),KR.get())})}}function uh(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Ei(s,e,r);return o.customData._tokenResponse=n,o}function bv(s){return s!==void 0&&s.enterprise!==void 0}class XR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $R(s,e){return Lr(s,"GET","/v2/recaptchaConfig",Vr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(s,e){return Lr(s,"POST","/v1/accounts:delete",e)}async function Mh(s,e){return Lr(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JR(s,e=!1){const n=pt(s),r=await n.getIdToken(e),o=Vg(r);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:uu(Nm(o.auth_time)),issuedAtTime:uu(Nm(o.iat)),expirationTime:uu(Nm(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Nm(s){return Number(s)*1e3}function Vg(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const o=hT(n);return o?JSON.parse(o):(_h("Failed to decode base64 JWT payload"),null)}catch(o){return _h("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Sv(s){const e=Vg(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ts&&ZR(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function ZR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(s){var T;const e=s.auth,n=await s.getIdToken(),r=await _u(s,Mh(e,{idToken:n}));be(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?CT(o.providerUserInfo):[],c=nC(s.providerData,u),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!(c!=null&&c.length),p=m?g:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(s,v)}async function tC(s){const e=pt(s);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nC(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function CT(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(s,e){const n=await wT(s,{},async()=>{const r=xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,c=await RT(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&kr(s.emulatorConfig.host)&&(g.credentials="include"),ST.fetch()(c,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sC(s,e){return Lr(s,"POST","/v2/accounts:revokeToken",Vr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=Sv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await iC(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,c=new Mo;return r&&(be(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(be(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return Cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class vi{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new eC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JR(this,e)}reload(){return tC(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(xs(this.auth));const e=await this.getIdToken();return await _u(this,WR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:N,providerData:P,stsTokenManager:K}=n;be(T&&K,e,"internal-error");const G=Mo.fromJSON(this.name,K);be(typeof T=="string",e,"internal-error"),pr(r,e.name),pr(o,e.name),be(typeof A=="boolean",e,"internal-error"),be(typeof N=="boolean",e,"internal-error"),pr(u,e.name),pr(c,e.name),pr(m,e.name),pr(g,e.name),pr(p,e.name),pr(v,e.name);const se=new vi({uid:T,auth:e,email:o,emailVerified:A,displayName:r,isAnonymous:N,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:p,lastLoginAt:v});return P&&Array.isArray(P)&&(se.providerData=P.map(ie=>({...ie}))),g&&(se._redirectEventId=g),se}static async _fromIdTokenResponse(e,n,r=!1){const o=new Mo;o.updateFromServerResponse(n);const u=new vi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await kh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?CT(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Mo;m.updateFromIdToken(r);const g=new vi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=new Map;function Is(s){Ns(s instanceof Function,"Expected a class definition");let e=wv.get(s);return e?(Ns(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,wv.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IT.type="NONE";const Rv=IT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(s,e,n){return`firebase:${s}:${e}:${n}`}class ko{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=vh(this.userKey,o.apiKey,u),this.fullPersistenceKey=vh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mh(this.auth,{idToken:e}).catch(()=>{});return n?vi._fromGetAccountInfoResponse(this.auth,n,e):null}return vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ko(Is(Rv),e,r);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Is(Rv);const c=vh(r,e.config.apiKey,e.name);let m=null;for(const p of n)try{const v=await p._get(c);if(v){let T;if(typeof v=="string"){const A=await Mh(e,{idToken:v}).catch(()=>{});if(!A)break;T=await vi._fromGetAccountInfoResponse(e,A,v)}else T=vi._fromJSON(e,v);p!==u&&(m=T),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new ko(u,e,r):(u=g[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(c)}catch{}})),new ko(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kT(e))return"Blackberry";if(VT(e))return"Webos";if(DT(e))return"Safari";if((e.includes("chrome/")||NT(e))&&!e.includes("edge/"))return"Chrome";if(MT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xT(s=mn()){return/firefox\//i.test(s)}function DT(s=mn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NT(s=mn()){return/crios\//i.test(s)}function OT(s=mn()){return/iemobile/i.test(s)}function MT(s=mn()){return/android/i.test(s)}function kT(s=mn()){return/blackberry/i.test(s)}function VT(s=mn()){return/webos/i.test(s)}function Lg(s=mn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function rC(s=mn()){var e;return Lg(s)&&!!((e=window.navigator)!=null&&e.standalone)}function aC(){return yw()&&document.documentMode===10}function LT(s=mn()){return Lg(s)||MT(s)||VT(s)||kT(s)||/windows phone/i.test(s)||OT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(s,e=[]){let n;switch(s){case"Browser":n=Cv(mn());break;case"Worker":n=`${Cv(mn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ka}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((c,m)=>{try{const g=e(u);c(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(s,e={}){return Lr(s,"GET","/v2/passwordPolicy",Vr(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=6;class cC{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Iv(this),this.idTokenSubscription=new Iv(this),this.beforeStateQueue=new oC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Is(n)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await ko.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mh(this,{idToken:e}),r=await vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Cn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=r==null?void 0:r._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===m)&&(g!=null&&g.user)&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(xs(this));const n=e?pt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lC(this),n=new cC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Iu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Is(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[Is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{c=!0,g()}}else{const g=e.addObserver(n);return()=>{c=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&zR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ur(s){return pt(s)}class Iv{constructor(e){this.auth=e,this.observer=null,this.addObserver=ww(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fC(s){Zh=s}function PT(s){return Zh.loadJS(s)}function dC(){return Zh.recaptchaEnterpriseScript}function mC(){return Zh.gapiScript}function gC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class pC{constructor(){this.enterprise=new yC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class yC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _C="recaptcha-enterprise",zT="NO_RECAPTCHA";class vC{constructor(e){this.type=_C,this.auth=Ur(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{$R(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new XR(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,c(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,c,m){const g=window.grecaptcha;bv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{c(p)}).catch(()=>{c(zT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pC().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(m=>{if(!n&&bv(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let g=dC();g.length!==0&&(g+=m),PT(g).then(()=>{o(m,u,c)}).catch(p=>{c(p)})}}).catch(m=>{c(m)})})}}async function xv(s,e,n,r=!1,o=!1){const u=new vC(s);let c;if(o)c=zT;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Jm(s,e,n,r,o){var u;if((u=s._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await xv(s,e,n,n==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await xv(s,e,n,n==="getOobCode");return r(s,m)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(s,e){const n=Jh(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(wa(u,e??{}))return o;ai(o,"already-initialized")}return n.initialize({options:e})}function TC(s,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Is);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AC(s,e,n){const r=Ur(s);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=jT(e),{host:c,port:m}=bC(e),g=m===null?"":`:${m}`,p={url:`${u}//${c}${g}/`},v=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(wa(p,r.config.emulator)&&wa(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,kr(c)?(Cg(`${u}//${c}${g}`),Ig("Auth",!0)):SC()}function jT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function bC(s){const e=jT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Dv(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:Dv(c)}}}function Dv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function SC(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,n){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}async function wC(s,e){return Lr(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(s,e){return Nu(s,"POST","/v1/accounts:signInWithPassword",Vr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(s,e){return Nu(s,"POST","/v1/accounts:signInWithEmailLink",Vr(s,e))}async function IC(s,e){return Nu(s,"POST","/v1/accounts:signInWithEmailLink",Vr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends Ug{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new vu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,n,"signInWithPassword",RC);case"emailLink":return CC(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,r,"signUpPassword",wC);case"emailLink":return IC(e,{idToken:n,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(s,e){return Nu(s,"POST","/v1/accounts:signInWithIdp",Vr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="http://localhost";class Ca extends Ug{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const c=new Ca(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Vo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vo(e,n)}buildRequest(){const e={requestUri:xC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NC(s){const e=nu(iu(s)).link,n=e?nu(iu(e)).deep_link_id:null,r=nu(iu(s)).deep_link_id;return(r?nu(iu(r)).link:null)||r||n||e||s}class Pg{constructor(e){const n=nu(iu(e)),r=n.apiKey??null,o=n.oobCode??null,u=DC(n.mode??null);be(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=NC(e);try{return new Pg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.providerId=qo.PROVIDER_ID}static credential(e,n){return vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Pg.parseLink(n);return be(r,"argument-error"),vu._fromEmailAndCode(e,r.code,r.tenantId)}}qo.PROVIDER_ID="password";qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends zg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Ou{constructor(){super("facebook.com")}static credential(e){return Ca._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ca._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Rs.credential(n,r)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends Ou{constructor(){super("github.com")}static credential(e){return Ca._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Ou{constructor(){super("twitter.com")}static credential(e,n){return Ca._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(s,e){return Nu(s,"POST","/v1/accounts:signUp",Vr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await vi._fromIdTokenResponse(e,r,o),c=Nv(r);return new Ia({user:u,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=Nv(r);return new Ia({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function Nv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends ts{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Vh(e,n,r,o)}}function BT(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(s,u,e,r):u})}async function MC(s,e,n=!1){const r=await _u(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Ia._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(s,e,n=!1){const{auth:r}=s;if(Cn(r.app))return Promise.reject(xs(r));const o="reauthenticate";try{const u=await _u(s,BT(r,o,e,s),n);be(u.idToken,r,"internal-error");const c=Vg(u.idToken);be(c,r,"internal-error");const{sub:m}=c;return be(s.uid===m,r,"user-mismatch"),Ia._forOperation(s,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ai(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(s,e,n=!1){if(Cn(s.app))return Promise.reject(xs(s));const r="signIn",o=await BT(s,r,e),u=await Ia._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function VC(s,e){return FT(Ur(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qT(s){const e=Ur(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LC(s,e,n){if(Cn(s.app))return Promise.reject(xs(s));const r=Ur(s),c=await Jm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OC).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&qT(s),g}),m=await Ia._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(m.user),m}function UC(s,e,n){return Cn(s.app)?Promise.reject(xs(s)):VC(pt(s),qo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qT(s),r})}function PC(s,e,n,r){return pt(s).onIdTokenChanged(e,n,r)}function zC(s,e,n){return pt(s).beforeAuthStateChanged(e,n)}function jC(s,e,n,r){return pt(s).onAuthStateChanged(e,n,r)}function BC(s){return pt(s).signOut()}const Lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=1e3,qC=10;class GT extends HT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,m,g)=>{this.notifyListeners(c,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);aC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qC):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},FC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GT.type="LOCAL";const HC=GT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT extends HT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KT.type="SESSION";const QT=KT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new ef(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async p=>p(n.origin,u)),g=await GC(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,g)=>{const p=jg("",20);o.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(v),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function QC(s){Yi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function YC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XC(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function $C(){return YT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebaseLocalStorageDb",WC=1,Uh="firebaseLocalStorage",$T="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(s,e){return s.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function JC(){const s=indexedDB.deleteDatabase(XT);return new Mu(s).toPromise()}function Zm(){const s=indexedDB.open(XT,WC);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Uh,{keyPath:$T})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Uh)?e(r):(r.close(),await JC(),e(await Zm()))})})}async function Ov(s,e,n){const r=tf(s,!0).put({[$T]:e,value:n});return new Mu(r).toPromise()}async function ZC(s,e){const n=tf(s,!1).get(e),r=await new Mu(n).toPromise();return r===void 0?null:r.value}function Mv(s,e){const n=tf(s,!0).delete(e);return new Mu(n).toPromise()}const eI=800,tI=3;class WT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance($C()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await YC(),!this.activeServiceWorker)return;this.sender=new KC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zm();return await Ov(e,Lh,"1"),await Mv(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ov(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ZC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=tf(o,!1).getAll();return new Mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WT.type="LOCAL";const nI=WT;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(s,e){return e?Is(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg extends Ug{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iI(s){return FT(s.auth,new Bg(s),s.bypassAuthState)}function sI(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),kC(n,new Bg(s),s.bypassAuthState)}async function rI(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),MC(n,new Bg(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iI;case"linkViaPopup":case"linkViaRedirect":return rI;case"reauthViaPopup":case"reauthViaRedirect":return sI;default:ai(this.auth,"internal-error")}}resolve(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=new Du(2e3,1e4);async function oI(s,e,n){if(Cn(s.app))return Promise.reject(Ei(s,"operation-not-supported-in-this-environment"));const r=Ur(s);jR(s,e,zg);const o=JT(r,n);return new Ea(r,"signInViaPopup",e,o).executeNotNull()}class Ea extends ZT{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const e=jg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aI.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="pendingRedirect",Eh=new Map;class uI extends ZT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{const r=await cI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cI(s,e){const n=dI(e),r=fI(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function hI(s,e){Eh.set(s._key(),e)}function fI(s){return Is(s._redirectPersistence)}function dI(s){return vh(lI,s.config.apiKey,s.name)}async function mI(s,e,n=!1){if(Cn(s.app))return Promise.reject(xs(s));const r=Ur(s),o=JT(r,e),c=await new uI(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=600*1e3;class pI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eA(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ei(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gI&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(e))}saveEventToCache(e){this.cachedEventUids.add(kv(e)),this.lastProcessedEventTime=Date.now()}}function kv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function eA({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eA(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(s,e={}){return Lr(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EI=/^https?/;async function TI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await _I(s);for(const n of e)try{if(AI(n))return}catch{}ai(s,"unauthorized-domain")}function AI(s){const e=$m(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const c=new URL(s);return c.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!EI.test(n))return!1;if(vI.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=new Du(3e4,6e4);function Vv(){const s=Yi().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function SI(s){return new Promise((e,n)=>{var o,u,c;function r(){Vv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vv(),n(Ei(s,"network-request-failed"))},timeout:bI.get()})}if((u=(o=Yi().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((c=Yi().gapi)!=null&&c.load)r();else{const m=gC("iframefcb");return Yi()[m]=()=>{gapi.load?r():n(Ei(s,"network-request-failed"))},PT(`${mC()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Th=null,e})}let Th=null;function wI(s){return Th=Th||SI(s),Th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=new Du(5e3,15e3),CI="__/auth/iframe",II="emulator/auth/iframe",xI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NI(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?kg(e,II):`https://${s.config.authDomain}/${CI}`,r={apiKey:e.apiKey,appName:s.name,v:ka},o=DI.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${xu(r).slice(1)}`}async function OI(s){const e=await wI(s),n=Yi().gapi;return be(n,s,"internal-error"),e.open({where:document.body,url:NI(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xI,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Ei(s,"network-request-failed"),m=Yi().setTimeout(()=>{u(c)},RI.get());function g(){Yi().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kI=500,VI=600,LI="_blank",UI="http://localhost";class Lv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PI(s,e,n,r=kI,o=VI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...MI,width:r.toString(),height:o.toString(),top:u,left:c},p=mn().toLowerCase();n&&(m=NT(p)?LI:n),xT(p)&&(e=e||UI,g.scrollbars="yes");const v=Object.entries(g).reduce((A,[N,P])=>`${A}${N}=${P},`,"");if(rC(p)&&m!=="_self")return zI(e||"",m),new Lv(null);const T=window.open(e||"",m,v);be(T,s,"popup-blocked");try{T.focus()}catch{}return new Lv(T)}function zI(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="__/auth/handler",BI="emulator/auth/handler",FI=encodeURIComponent("fac");async function Uv(s,e,n,r,o,u){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const c={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:ka,eventId:o};if(e instanceof zg){e.setDefaultLanguage(s.languageCode),c.providerId=e.providerId||"",Sw(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof Ou){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}s.tenantId&&(c.tid=s.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const g=await s._getAppCheckToken(),p=g?`#${FI}=${encodeURIComponent(g)}`:"";return`${qI(s)}?${xu(m).slice(1)}${p}`}function qI({config:s}){return s.emulator?kg(s,BI):`https://${s.authDomain}/${jI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class HI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QT,this._completeRedirectFn=mI,this._overrideRedirectResult=hI}async _openPopup(e,n,r,o){var c;Ns((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const u=await Uv(e,n,r,$m(),o);return PI(e,u,jg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await Uv(e,n,r,$m(),o);return QC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ns(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await OI(e),r=new pI(e);return n.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},o=>{var c;const u=(c=o==null?void 0:o[0])==null?void 0:c[Om];u!==void 0&&n(!!u),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LT()||DT()||Lg()}}const GI=HI;var Pv="@firebase/auth",zv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YI(s){Ra(new Cr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;be(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:c,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UT(s)},p=new hC(r,o,u,g);return TC(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ra(new Cr("auth-internal",e=>{const n=Ur(e.getProvider("auth").getImmediate());return(r=>new KI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qi(Pv,zv,QI(s)),Qi(Pv,zv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=300,$I=gT("authIdTokenMaxAge")||XI;let jv=null;const WI=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$I)return;const o=n==null?void 0:n.token;jv!==o&&(jv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function JI(s=Ng()){const e=Jh(s,"auth");if(e.isInitialized())return e.getImmediate();const n=EC(s,{popupRedirectResolver:GI,persistence:[nI,HC,QT]}),r=gT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=WI(u.toString());zC(n,c,()=>c(n.currentUser)),PC(n,m=>c(m))}}const o=fT("auth");return o&&AC(n,`http://${o}`),n}function ZI(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}fC({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=Ei("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",ZI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YI("Browser");var Bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sr,tA;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function w(){}w.prototype=C.prototype,I.F=C.prototype,I.prototype=new w,I.prototype.constructor=I,I.D=function(O,M,L){for(var x=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)x[Ve-2]=arguments[Ve];return C.prototype[M].apply(O,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,C,w){w||(w=0);const O=Array(16);if(typeof C=="string")for(var M=0;M<16;++M)O[M]=C.charCodeAt(w++)|C.charCodeAt(w++)<<8|C.charCodeAt(w++)<<16|C.charCodeAt(w++)<<24;else for(M=0;M<16;++M)O[M]=C[w++]|C[w++]<<8|C[w++]<<16|C[w++]<<24;C=I.g[0],w=I.g[1],M=I.g[2];let L=I.g[3],x;x=C+(L^w&(M^L))+O[0]+3614090360&4294967295,C=w+(x<<7&4294967295|x>>>25),x=L+(M^C&(w^M))+O[1]+3905402710&4294967295,L=C+(x<<12&4294967295|x>>>20),x=M+(w^L&(C^w))+O[2]+606105819&4294967295,M=L+(x<<17&4294967295|x>>>15),x=w+(C^M&(L^C))+O[3]+3250441966&4294967295,w=M+(x<<22&4294967295|x>>>10),x=C+(L^w&(M^L))+O[4]+4118548399&4294967295,C=w+(x<<7&4294967295|x>>>25),x=L+(M^C&(w^M))+O[5]+1200080426&4294967295,L=C+(x<<12&4294967295|x>>>20),x=M+(w^L&(C^w))+O[6]+2821735955&4294967295,M=L+(x<<17&4294967295|x>>>15),x=w+(C^M&(L^C))+O[7]+4249261313&4294967295,w=M+(x<<22&4294967295|x>>>10),x=C+(L^w&(M^L))+O[8]+1770035416&4294967295,C=w+(x<<7&4294967295|x>>>25),x=L+(M^C&(w^M))+O[9]+2336552879&4294967295,L=C+(x<<12&4294967295|x>>>20),x=M+(w^L&(C^w))+O[10]+4294925233&4294967295,M=L+(x<<17&4294967295|x>>>15),x=w+(C^M&(L^C))+O[11]+2304563134&4294967295,w=M+(x<<22&4294967295|x>>>10),x=C+(L^w&(M^L))+O[12]+1804603682&4294967295,C=w+(x<<7&4294967295|x>>>25),x=L+(M^C&(w^M))+O[13]+4254626195&4294967295,L=C+(x<<12&4294967295|x>>>20),x=M+(w^L&(C^w))+O[14]+2792965006&4294967295,M=L+(x<<17&4294967295|x>>>15),x=w+(C^M&(L^C))+O[15]+1236535329&4294967295,w=M+(x<<22&4294967295|x>>>10),x=C+(M^L&(w^M))+O[1]+4129170786&4294967295,C=w+(x<<5&4294967295|x>>>27),x=L+(w^M&(C^w))+O[6]+3225465664&4294967295,L=C+(x<<9&4294967295|x>>>23),x=M+(C^w&(L^C))+O[11]+643717713&4294967295,M=L+(x<<14&4294967295|x>>>18),x=w+(L^C&(M^L))+O[0]+3921069994&4294967295,w=M+(x<<20&4294967295|x>>>12),x=C+(M^L&(w^M))+O[5]+3593408605&4294967295,C=w+(x<<5&4294967295|x>>>27),x=L+(w^M&(C^w))+O[10]+38016083&4294967295,L=C+(x<<9&4294967295|x>>>23),x=M+(C^w&(L^C))+O[15]+3634488961&4294967295,M=L+(x<<14&4294967295|x>>>18),x=w+(L^C&(M^L))+O[4]+3889429448&4294967295,w=M+(x<<20&4294967295|x>>>12),x=C+(M^L&(w^M))+O[9]+568446438&4294967295,C=w+(x<<5&4294967295|x>>>27),x=L+(w^M&(C^w))+O[14]+3275163606&4294967295,L=C+(x<<9&4294967295|x>>>23),x=M+(C^w&(L^C))+O[3]+4107603335&4294967295,M=L+(x<<14&4294967295|x>>>18),x=w+(L^C&(M^L))+O[8]+1163531501&4294967295,w=M+(x<<20&4294967295|x>>>12),x=C+(M^L&(w^M))+O[13]+2850285829&4294967295,C=w+(x<<5&4294967295|x>>>27),x=L+(w^M&(C^w))+O[2]+4243563512&4294967295,L=C+(x<<9&4294967295|x>>>23),x=M+(C^w&(L^C))+O[7]+1735328473&4294967295,M=L+(x<<14&4294967295|x>>>18),x=w+(L^C&(M^L))+O[12]+2368359562&4294967295,w=M+(x<<20&4294967295|x>>>12),x=C+(w^M^L)+O[5]+4294588738&4294967295,C=w+(x<<4&4294967295|x>>>28),x=L+(C^w^M)+O[8]+2272392833&4294967295,L=C+(x<<11&4294967295|x>>>21),x=M+(L^C^w)+O[11]+1839030562&4294967295,M=L+(x<<16&4294967295|x>>>16),x=w+(M^L^C)+O[14]+4259657740&4294967295,w=M+(x<<23&4294967295|x>>>9),x=C+(w^M^L)+O[1]+2763975236&4294967295,C=w+(x<<4&4294967295|x>>>28),x=L+(C^w^M)+O[4]+1272893353&4294967295,L=C+(x<<11&4294967295|x>>>21),x=M+(L^C^w)+O[7]+4139469664&4294967295,M=L+(x<<16&4294967295|x>>>16),x=w+(M^L^C)+O[10]+3200236656&4294967295,w=M+(x<<23&4294967295|x>>>9),x=C+(w^M^L)+O[13]+681279174&4294967295,C=w+(x<<4&4294967295|x>>>28),x=L+(C^w^M)+O[0]+3936430074&4294967295,L=C+(x<<11&4294967295|x>>>21),x=M+(L^C^w)+O[3]+3572445317&4294967295,M=L+(x<<16&4294967295|x>>>16),x=w+(M^L^C)+O[6]+76029189&4294967295,w=M+(x<<23&4294967295|x>>>9),x=C+(w^M^L)+O[9]+3654602809&4294967295,C=w+(x<<4&4294967295|x>>>28),x=L+(C^w^M)+O[12]+3873151461&4294967295,L=C+(x<<11&4294967295|x>>>21),x=M+(L^C^w)+O[15]+530742520&4294967295,M=L+(x<<16&4294967295|x>>>16),x=w+(M^L^C)+O[2]+3299628645&4294967295,w=M+(x<<23&4294967295|x>>>9),x=C+(M^(w|~L))+O[0]+4096336452&4294967295,C=w+(x<<6&4294967295|x>>>26),x=L+(w^(C|~M))+O[7]+1126891415&4294967295,L=C+(x<<10&4294967295|x>>>22),x=M+(C^(L|~w))+O[14]+2878612391&4294967295,M=L+(x<<15&4294967295|x>>>17),x=w+(L^(M|~C))+O[5]+4237533241&4294967295,w=M+(x<<21&4294967295|x>>>11),x=C+(M^(w|~L))+O[12]+1700485571&4294967295,C=w+(x<<6&4294967295|x>>>26),x=L+(w^(C|~M))+O[3]+2399980690&4294967295,L=C+(x<<10&4294967295|x>>>22),x=M+(C^(L|~w))+O[10]+4293915773&4294967295,M=L+(x<<15&4294967295|x>>>17),x=w+(L^(M|~C))+O[1]+2240044497&4294967295,w=M+(x<<21&4294967295|x>>>11),x=C+(M^(w|~L))+O[8]+1873313359&4294967295,C=w+(x<<6&4294967295|x>>>26),x=L+(w^(C|~M))+O[15]+4264355552&4294967295,L=C+(x<<10&4294967295|x>>>22),x=M+(C^(L|~w))+O[6]+2734768916&4294967295,M=L+(x<<15&4294967295|x>>>17),x=w+(L^(M|~C))+O[13]+1309151649&4294967295,w=M+(x<<21&4294967295|x>>>11),x=C+(M^(w|~L))+O[4]+4149444226&4294967295,C=w+(x<<6&4294967295|x>>>26),x=L+(w^(C|~M))+O[11]+3174756917&4294967295,L=C+(x<<10&4294967295|x>>>22),x=M+(C^(L|~w))+O[2]+718787259&4294967295,M=L+(x<<15&4294967295|x>>>17),x=w+(L^(M|~C))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+L&4294967295}r.prototype.v=function(I,C){C===void 0&&(C=I.length);const w=C-this.blockSize,O=this.C;let M=this.h,L=0;for(;L<C;){if(M==0)for(;L<=w;)o(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<C;)if(O[M++]=I.charCodeAt(L++),M==this.blockSize){o(this,O),M=0;break}}else for(;L<C;)if(O[M++]=I[L++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=C},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var w=I.length-8;w<I.length;++w)I[w]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)I[C++]=this.g[w]>>>O&255;return I};function u(I,C){var w=m;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=C(I)}function c(I,C){this.h=C;const w=[];let O=!0;for(let M=I.length-1;M>=0;M--){const L=I[M]|0;O&&L==C||(w[M]=L,O=!1)}this.g=w}var m={};function g(I){return-128<=I&&I<128?u(I,function(C){return new c([C|0],C<0?-1:0)}):new c([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return G(p(-I));const C=[];let w=1;for(let O=0;I>=w;O++)C[O]=I/w|0,w*=4294967296;return new c(C,0)}function v(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return G(v(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=p(Math.pow(C,8));let O=T;for(let L=0;L<I.length;L+=8){var M=Math.min(8,I.length-L);const x=parseInt(I.substring(L,L+M),C);M<8?(M=p(Math.pow(C,M)),O=O.j(M).add(p(x))):(O=O.j(w),O=O.add(p(x)))}return O}var T=g(0),A=g(1),N=g(16777216);s=c.prototype,s.m=function(){if(K(this))return-G(this).m();let I=0,C=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);I+=(O>=0?O:4294967296+O)*C,C*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(P(this))return"0";if(K(this))return"-"+G(this).toString(I);const C=p(Math.pow(I,6));var w=this;let O="";for(;;){const M=re(w,C).g;w=se(w,M.j(C));let L=((w.g.length>0?w.g[0]:w.h)>>>0).toString(I);if(w=M,P(w))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function P(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function K(I){return I.h==-1}s.l=function(I){return I=se(this,I),K(I)?-1:P(I)?0:1};function G(I){const C=I.g.length,w=[];for(let O=0;O<C;O++)w[O]=~I.g[O];return new c(w,~I.h).add(A)}s.abs=function(){return K(this)?G(this):this},s.add=function(I){const C=Math.max(this.g.length,I.g.length),w=[];let O=0;for(let M=0;M<=C;M++){let L=O+(this.i(M)&65535)+(I.i(M)&65535),x=(L>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);O=x>>>16,L&=65535,x&=65535,w[M]=x<<16|L}return new c(w,w[w.length-1]&-2147483648?-1:0)};function se(I,C){return I.add(G(C))}s.j=function(I){if(P(this)||P(I))return T;if(K(this))return K(I)?G(this).j(G(I)):G(G(this).j(I));if(K(I))return G(this.j(G(I)));if(this.l(N)<0&&I.l(N)<0)return p(this.m()*I.m());const C=this.g.length+I.g.length,w=[];for(var O=0;O<2*C;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let M=0;M<I.g.length;M++){const L=this.i(O)>>>16,x=this.i(O)&65535,Ve=I.i(M)>>>16,et=I.i(M)&65535;w[2*O+2*M]+=x*et,ie(w,2*O+2*M),w[2*O+2*M+1]+=L*et,ie(w,2*O+2*M+1),w[2*O+2*M+1]+=x*Ve,ie(w,2*O+2*M+1),w[2*O+2*M+2]+=L*Ve,ie(w,2*O+2*M+2)}for(I=0;I<C;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=C;I<2*C;I++)w[I]=0;return new c(w,0)};function ie(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function oe(I,C){this.g=I,this.h=C}function re(I,C){if(P(C))throw Error("division by zero");if(P(I))return new oe(T,T);if(K(I))return C=re(G(I),C),new oe(G(C.g),G(C.h));if(K(C))return C=re(I,G(C)),new oe(G(C.g),C.h);if(I.g.length>30){if(K(I)||K(C))throw Error("slowDivide_ only works with positive integers.");for(var w=A,O=C;O.l(I)<=0;)w=Re(w),O=Re(O);var M=Ee(w,1),L=Ee(O,1);for(O=Ee(O,2),w=Ee(w,2);!P(O);){var x=L.add(O);x.l(I)<=0&&(M=M.add(w),L=x),O=Ee(O,1),w=Ee(w,1)}return C=se(I,M.j(C)),new oe(M,C)}for(M=T;I.l(C)>=0;){for(w=Math.max(1,Math.floor(I.m()/C.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=p(w),x=L.j(C);K(x)||x.l(I)>0;)w-=O,L=p(w),x=L.j(C);P(L)&&(L=A),M=M.add(L),I=se(I,x)}return new oe(M,I)}s.B=function(I){return re(this,I).h},s.and=function(I){const C=Math.max(this.g.length,I.g.length),w=[];for(let O=0;O<C;O++)w[O]=this.i(O)&I.i(O);return new c(w,this.h&I.h)},s.or=function(I){const C=Math.max(this.g.length,I.g.length),w=[];for(let O=0;O<C;O++)w[O]=this.i(O)|I.i(O);return new c(w,this.h|I.h)},s.xor=function(I){const C=Math.max(this.g.length,I.g.length),w=[];for(let O=0;O<C;O++)w[O]=this.i(O)^I.i(O);return new c(w,this.h^I.h)};function Re(I){const C=I.g.length+1,w=[];for(let O=0;O<C;O++)w[O]=I.i(O)<<1|I.i(O-1)>>>31;return new c(w,I.h)}function Ee(I,C){const w=C>>5;C%=32;const O=I.g.length-w,M=[];for(let L=0;L<O;L++)M[L]=C>0?I.i(L+w)>>>C|I.i(L+w+1)<<32-C:I.i(L+w);return new c(M,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Sr=c}).apply(typeof Bv<"u"?Bv:typeof self<"u"?self:typeof window<"u"?window:{});var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nA,su,iA,Ah,eg,sA,rA,aA;(function(){var s,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ch=="object"&&ch];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function o(h,y){if(y)e:{var E=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var z=h[S];if(!(z in E))break e;E=E[z]}h=h[h.length-1],S=E[h],y=y(S),y!=S&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&E.push([S,y[S]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function g(h,y,E){return h.call.apply(h.bind,arguments)}function p(h,y,E){return p=g,p.apply(null,arguments)}function v(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(S,z,q){for(var ae=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ae[Me-2]=arguments[Me];return y.prototype[z].apply(S,ae)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function N(h){const y=h.length;if(y>0){const E=Array(y);for(let S=0;S<y;S++)E[S]=h[S];return E}return[]}function P(h,y){for(let S=1;S<arguments.length;S++){const z=arguments[S];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=h.length||0;const q=z.length||0;h.length=E+q;for(let ae=0;ae<q;ae++)h[E+ae]=z[ae]}else h.push(z)}}class K{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(h){c.setTimeout(()=>{throw h},0)}function se(){var h=I;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,E){const S=oe.get();S.set(y,E),this.h?this.h.next=S:this.g=S,this.h=S}}var oe=new K(()=>new re,h=>h.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,Ee=!1,I=new ie,C=()=>{const h=Promise.resolve(void 0);Re=()=>{h.then(w)}};function w(){for(var h;h=se();){try{h.h.call(h.g)}catch(E){G(E)}var y=oe;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}Ee=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function x(h){return/^[\s\xa0]*$/.test(h)}function Ve(h,y){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(Ve,M),Ve.prototype.init=function(h,y){const E=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ve.Z.h.call(this)},Ve.prototype.h=function(){Ve.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var et="closure_listenable_"+(Math.random()*1e6|0),Q=0;function te(h,y,E,S,z){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!S,this.ha=z,this.key=++Q,this.da=this.fa=!1}function pe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Pe(h,y,E){for(const S in h)y.call(E,h[S],S,h)}function Be(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function k(h){const y={};for(const E in h)y[E]=h[E];return y}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(h,y){let E,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(E in S)h[E]=S[E];for(let q=0;q<X.length;q++)E=X[q],Object.prototype.hasOwnProperty.call(S,E)&&(h[E]=S[E])}}function le(h){this.src=h,this.g={},this.h=0}le.prototype.add=function(h,y,E,S,z){const q=h.toString();h=this.g[q],h||(h=this.g[q]=[],this.h++);const ae=Ce(h,y,S,z);return ae>-1?(y=h[ae],E||(y.fa=!1)):(y=new te(y,this.src,q,!!S,z),y.fa=E,h.push(y)),y};function Te(h,y){const E=y.type;if(E in h.g){var S=h.g[E],z=Array.prototype.indexOf.call(S,y,void 0),q;(q=z>=0)&&Array.prototype.splice.call(S,z,1),q&&(pe(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ce(h,y,E,S){for(let z=0;z<h.length;++z){const q=h[z];if(!q.da&&q.listener==y&&q.capture==!!E&&q.ha==S)return z}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),yt={};function ht(h,y,E,S,z){if(Array.isArray(y)){for(let q=0;q<y.length;q++)ht(h,y[q],E,S,z);return null}return E=Fr(E),h&&h[et]?h.J(y,E,m(S)?!!S.capture:!1,z):ns(h,y,E,!1,S,z)}function ns(h,y,E,S,z,q){if(!y)throw Error("Invalid event type");const ae=m(z)?!!z.capture:!!z;let Me=ss(h);if(Me||(h[Ue]=Me=new le(h)),E=Me.add(y,E,S,ae,q),E.proxy)return E;if(S=Ls(),E.proxy=S,S.src=h,S.listener=E,h.addEventListener)L||(z=ae),z===void 0&&(z=!1),h.addEventListener(y.toString(),S,z);else if(h.attachEvent)h.attachEvent(qn(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ls(){function h(E){return y.call(h.src,h.listener,E)}const y=is;return h}function Us(h,y,E,S,z){if(Array.isArray(y))for(var q=0;q<y.length;q++)Us(h,y[q],E,S,z);else S=m(S)?!!S.capture:!!S,E=Fr(E),h&&h[et]?(h=h.i,q=String(y).toString(),q in h.g&&(y=h.g[q],E=Ce(y,E,S,z),E>-1&&(pe(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[q],h.h--)))):h&&(h=ss(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ce(y,E,S,z)),(E=h>-1?y[h]:null)&&Ai(E))}function Ai(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[et])Te(y.i,h);else{var E=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(E,S,h.capture):y.detachEvent?y.detachEvent(qn(E),S):y.addListener&&y.removeListener&&y.removeListener(S),(E=ss(y))?(Te(E,h),E.h==0&&(E.src=null,y[Ue]=null)):pe(h)}}}function qn(h){return h in yt?yt[h]:yt[h]="on"+h}function is(h,y){if(h.da)h=!0;else{y=new Ve(y,this);const E=h.listener,S=h.ha||h.src;h.fa&&Ai(h),h=E.call(S,y)}return h}function ss(h){return h=h[Ue],h instanceof le?h:null}var Br="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fr(h){return typeof h=="function"?h:(h[Br]||(h[Br]=function(y){return h.handleEvent(y)}),h[Br])}function St(){O.call(this),this.i=new le(this),this.M=this,this.G=null}T(St,O),St.prototype[et]=!0,St.prototype.removeEventListener=function(h,y,E,S){Us(this,h,y,E,S)};function xt(h,y){var E,S=h.G;if(S)for(E=[];S;S=S.G)E.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new M(y,h);else if(y instanceof M)y.target=y.target||h;else{var z=y;y=new M(S,h),ne(y,z)}z=!0;let q,ae;if(E)for(ae=E.length-1;ae>=0;ae--)q=y.g=E[ae],z=bi(q,S,!0,y)&&z;if(q=y.g=h,z=bi(q,S,!0,y)&&z,z=bi(q,S,!1,y)&&z,E)for(ae=0;ae<E.length;ae++)q=y.g=E[ae],z=bi(q,S,!1,y)&&z}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let S=0;S<E.length;S++)pe(E[S]);delete h.g[y],h.h--}}this.G=null},St.prototype.J=function(h,y,E,S){return this.i.add(String(h),y,!1,E,S)},St.prototype.K=function(h,y,E,S){return this.i.add(String(h),y,!0,E,S)};function bi(h,y,E,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let q=0;q<y.length;++q){const ae=y[q];if(ae&&!ae.da&&ae.capture==E){const Me=ae.listener,Nt=ae.ha||ae.src;ae.fa&&Te(h.i,ae),z=Me.call(Nt,S)!==!1&&z}}return z&&!S.defaultPrevented}function $o(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Ua(h){h.g=$o(()=>{h.g=null,h.i&&(h.i=!1,Ua(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class ce extends O{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ua(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function he(h){O.call(this),this.h=h,this.g={}}T(he,O);var me=[];function Ie(h){Pe(h.g,function(y,E){this.g.hasOwnProperty(E)&&Ai(y)},h),h.g={}}he.prototype.N=function(){he.Z.N.call(this),Ie(this)},he.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ye=c.JSON.stringify,Ye=c.JSON.parse,At=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function _t(){}function Hn(){}var Zt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vt(){M.call(this,"d")}T(vt,M);function Dt(){M.call(this,"c")}T(Dt,M);var ut={},Ps=null;function Gn(){return Ps=Ps||new St}ut.Ia="serverreachability";function Pa(h){M.call(this,ut.Ia,h)}T(Pa,M);function xn(h){const y=Gn();xt(y,new Pa(y))}ut.STAT_EVENT="statevent";function rs(h,y){M.call(this,ut.STAT_EVENT,h),this.stat=y}T(rs,M);function Vt(h){const y=Gn();xt(y,new rs(y,h))}ut.Ja="timingevent";function Si(h,y){M.call(this,ut.Ja,h),this.size=y}T(Si,M);function wi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function oi(){this.g=!0}oi.prototype.ua=function(){this.g=!1};function Sf(h,y,E,S,z,q){h.info(function(){if(h.g)if(q){var ae="",Me=q.split("&");for(let Je=0;Je<Me.length;Je++){var Nt=Me[Je].split("=");if(Nt.length>1){const Et=Nt[0];Nt=Nt[1];const Xn=Et.split("_");ae=Xn.length>=2&&Xn[1]=="type"?ae+(Et+"="+Nt+"&"):ae+(Et+"=redacted&")}}}else ae=null;else ae=q;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+E+`
`+ae})}function ju(h,y,E,S,z,q,ae){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+E+`
`+q+" "+ae})}function Ri(h,y,E,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+wf(h,E)+(S?" "+S:"")})}function qr(h,y){h.info(function(){return"TIMEOUT: "+y})}oi.prototype.info=function(){};function wf(h,y){if(!h.g)return y;if(!y)return null;try{const q=JSON.parse(y);if(q){for(h=0;h<q.length;h++)if(Array.isArray(q[h])){var E=q[h];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ae=1;ae<S.length;ae++)S[ae]=""}}}}return ye(q)}catch{return y}}var Hr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jo;function Gr(){}T(Gr,_t),Gr.prototype.g=function(){return new XMLHttpRequest},Jo=new Gr;function as(h){return encodeURIComponent(String(h))}function Bu(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function li(h,y,E,S){this.j=h,this.i=y,this.l=E,this.S=S||1,this.V=new he(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var Lt={},Xt={};function Ci(h,y,E){h.M=1,h.A=Kr(Pt(y)),h.u=E,h.R=!0,za(h,null)}function za(h,y){h.F=Date.now(),Ii(h),h.B=Pt(h.A);var E=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),qa(E.i,"t",S),h.C=0,E=h.j.L,h.h=new ui,h.g=nc(h.j,E?y:null,!h.u),h.P>0&&(h.O=new ce(p(h.Y,h,h.g),h.P)),y=h.V,E=h.g,S=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(me[0]=z.toString()),z=me);for(let q=0;q<z.length;q++){const ae=ht(E,z[q],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),xn(),Sf(h.i,h.v,h.B,h.l,h.S,h.u)}li.prototype.ba=function(h){h=h.target;const y=this.O;y&&fi(h)==3?y.j():this.Y(h)},li.prototype.Y=function(h){try{if(h==this.g)e:{const Me=fi(this.g),Nt=this.g.ya(),Je=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Me!=4||Nt==7||(Nt==8||Je<=0?xn(3):xn(2)),xi(this);var y=this.g.ca();this.X=y;var E=Rf(this);if(this.o=y==200,ju(this.i,this.v,this.B,this.l,this.S,Me,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var q=S;break t}}q=null}if(h=q)Ri(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Di(this,h);else{this.o=!1,this.m=3,Vt(12),Dn(this),Kn(this);break e}}if(this.R){h=!0;let Et;for(;!this.K&&this.C<E.length;)if(Et=qu(this,E),Et==Xt){Me==4&&(this.m=4,Vt(14),h=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Lt){this.m=4,Vt(15),Ri(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ri(this.i,this.l,Et,null),Di(this,Et);if(Fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||E.length!=0||this.h.h||(this.m=1,Vt(16),h=!1),this.o=this.o&&h,!h)Ri(this.i,this.l,E,"[Invalid Chunked Response]"),Dn(this),Kn(this);else if(E.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),dl(ae),ae.P=!0,Vt(11))}}else Ri(this.i,this.l,E,null),Di(this,E);Me==4&&Dn(this),this.o&&!this.K&&(Me==4?Ju(this.j,this):(this.o=!1,Ii(this)))}else ls(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),Dn(this),Kn(this)}}}catch{}finally{}};function Rf(h){if(!Fu(h))return h.g.la();const y=en(h.g);if(y==="")return"";let E="";const S=y.length,z=fi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Dn(h),Kn(h),"";h.h.i=new c.TextDecoder}for(let q=0;q<S;q++)h.h.h=!0,E+=h.h.i.decode(y[q],{stream:!(z&&q==S-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function Fu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function qu(h,y){var E=h.C,S=y.indexOf(`
`,E);return S==-1?Xt:(E=Number(y.substring(E,S)),isNaN(E)?Lt:(S+=1,S+E>y.length?Xt:(y=y.slice(S,S+E),h.C=S+E,y)))}li.prototype.cancel=function(){this.K=!0,Dn(this)};function Ii(h){h.T=Date.now()+h.H,ja(h,h.H)}function ja(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=wi(p(h.aa,h),y)}function xi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}li.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(qr(this.i,this.B),this.M!=2&&(xn(),Vt(17)),Dn(this),this.m=2,Kn(this)):ja(this,this.T-h)};function Kn(h){h.j.I==0||h.K||Ju(h.j,h)}function Dn(h){xi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Ie(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Di(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Oi(E.h,h))){if(!h.L&&Oi(E.h,h)&&E.I==3){try{var S=E.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ya(E),Ks(E);else break e;Zr(E),Vt(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=wi(p(E.Va,E),6e3));Ni(E.h)<=1&&E.ta&&(E.ta=void 0)}else Pi(E,11)}else if((h.L||E.g==h)&&Ya(E),!x(y))for(z=E.Ba.g.parse(y),y=0;y<z.length;y++){let Je=z[y];const Et=Je[0];if(!(Et<=E.K))if(E.K=Et,Je=Je[1],E.I==2)if(Je[0]=="c"){E.M=Je[1],E.ba=Je[2];const Xn=Je[3];Xn!=null&&(E.ka=Xn,E.j.info("VER="+E.ka));const zi=Je[4];zi!=null&&(E.za=zi,E.j.info("SVER="+E.za));const di=Je[5];di!=null&&typeof di=="number"&&di>0&&(S=1.5*di,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const mi=h.g;if(mi){const ea=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ea){var q=S.h;q.g||ea.indexOf("spdy")==-1&&ea.indexOf("quic")==-1&&ea.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(tl(q,q.h),q.h=null))}if(S.G){const Xa=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(S.wa=Xa,nt(S.J,S.G,Xa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var ae=h;if(S.na=tc(S,S.L?S.ba:null,S.W),ae.L){nl(S.h,ae);var Me=ae,Nt=S.O;Nt&&(Me.H=Nt),Me.D&&(xi(Me),Ii(Me)),S.g=ae}else $u(S);E.i.length>0&&Ui(E)}else Je[0]!="stop"&&Je[0]!="close"||Pi(E,7);else E.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Pi(E,7):hl(E):Je[0]!="noop"&&E.l&&E.l.qa(Je),E.A=0)}}xn(4)}catch{}}var Ut=class{constructor(h,y){this.g=h,this.map=y}};function Zo(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function el(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ni(h){return h.h?1:h.g?h.g.size:0}function Oi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function tl(h,y){h.g?h.g.add(y):h.h=y}function nl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Zo.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function il(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return N(h.i)}var Hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const S=h[E].indexOf("=");let z,q=null;S>=0?(z=h[E].substring(0,S),q=h[E].substring(S+1)):z=h[E],y(z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Nn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Nn?(this.l=h.l,$t(this,h.j),this.o=h.o,this.g=h.g,zs(this,h.u),this.h=h.h,sl(this,Yu(h.i)),this.m=h.m):h&&(y=String(h).match(Hu))?(this.l=!1,$t(this,y[1]||"",!0),this.o=Mi(y[2]||""),this.g=Mi(y[3]||"",!0),zs(this,y[4]),this.h=Mi(y[5]||"",!0),sl(this,y[6]||"",!0),this.m=Mi(y[7]||"")):(this.l=!1,this.i=new Bs(null,this.l))}Nn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Qr(y,Fa,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Qr(y,Fa,!0),"@"),h.push(as(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Qr(E,E.charAt(0)=="/"?rl:Gu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Qr(E,Ku)),h.join("")},Nn.prototype.resolve=function(h){const y=Pt(this);let E=!!h.j;E?$t(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var S=h.h;if(E)zs(y,h.u);else if(E=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=y.h.lastIndexOf("/");z!=-1&&(S=y.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const q=[];for(let ae=0;ae<z.length;){const Me=z[ae++];Me=="."?S&&ae==z.length&&q.push(""):Me==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&ae==z.length&&q.push("")):(q.push(Me),S=!0)}S=q.join("/")}else S=z}return E?y.h=S:E=h.i.toString()!=="",E?sl(y,Yu(h.i)):E=!!h.m,E&&(y.m=h.m),y};function Pt(h){return new Nn(h)}function $t(h,y,E){h.j=E?Mi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function zs(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function sl(h,y,E){y instanceof Bs?(h.i=y,Ha(h.i,h.l)):(E||(y=Qr(y,js)),h.i=new Bs(y,h.l))}function nt(h,y,E){h.i.set(y,E)}function Kr(h){return nt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Mi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Qr(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,vn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function vn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Fa=/[#\/\?@]/g,Gu=/[#\?:]/g,rl=/[#\?]/g,js=/[#\?@]/g,Ku=/#/g;function Bs(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function En(h){h.g||(h.g=new Map,h.h=0,h.i&&Ba(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}s=Bs.prototype,s.add=function(h,y){En(this),this.i=null,h=Fs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function Qu(h,y){En(h),y=Fs(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function al(h,y){return En(h),y=Fs(h,y),h.g.has(y)}s.forEach=function(h,y){En(this),this.g.forEach(function(E,S){E.forEach(function(z){h.call(y,z,S,this)},this)},this)};function ol(h,y){En(h);let E=[];if(typeof y=="string")al(h,y)&&(E=E.concat(h.g.get(Fs(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}s.set=function(h,y){return En(this),this.i=null,h=Fs(this,h),al(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},s.get=function(h,y){return h?(h=ol(this,h),h.length>0?String(h[0]):y):y};function qa(h,y,E){Qu(h,y),E.length>0&&(h.i=null,h.g.set(Fs(h,y),N(E)),h.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var E=y[S];const z=as(E);E=ol(this,E);for(let q=0;q<E.length;q++){let ae=z;E[q]!==""&&(ae+="="+as(E[q])),h.push(ae)}}return this.i=h.join("&")};function Yu(h){const y=new Bs;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Fs(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ha(h,y){y&&!h.j&&(En(h),h.i=null,h.g.forEach(function(E,S){const z=S.toLowerCase();S!=z&&(Qu(this,S),qa(this,z,E))},h)),h.j=y}function ci(h,y){const E=new oi;if(c.Image){const S=new Image;S.onload=v(Qn,E,"TestLoadImage: loaded",!0,y,S),S.onerror=v(Qn,E,"TestLoadImage: error",!1,y,S),S.onabort=v(Qn,E,"TestLoadImage: abort",!1,y,S),S.ontimeout=v(Qn,E,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function ll(h,y){const E=new oi,S=new AbortController,z=setTimeout(()=>{S.abort(),Qn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(q=>{clearTimeout(z),q.ok?Qn(E,"TestPingServer: ok",!0,y):Qn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Qn(E,"TestPingServer: error",!1,y)})}function Qn(h,y,E,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(E)}catch{}}function qs(){this.g=new At}function ki(h){this.i=h.Sb||null,this.h=h.ab||!1}T(ki,_t),ki.prototype.g=function(){return new Yr(this.i,this.h)};function Yr(h,y){St.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Yr,St),s=Yr.prototype,s.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,hi(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Hs(this):hi(this),this.readyState==3&&Ga(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,Hs(this))},s.Na=function(h){this.g&&(this.response=h,Hs(this))},s.ga=function(){this.g&&Hs(this)};function Hs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,hi(h)}s.setRequestHeader=function(h,y){this.A.append(h,y)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function hi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Yn(h){let y="";return Pe(h,function(E,S){y+=S,y+=":",y+=E,y+=`\r
`}),y}function Xr(h,y,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=Yn(E),typeof h=="string"?E!=null&&as(E):nt(h,y,E))}function rt(h){St.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(rt,St);var Vi=/^https?$/i,ul=["POST","PUT"];s=rt.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,y,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jo.g(),this.g.onreadystatechange=A(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(q){$r(this,q);return}if(h=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)E.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())E.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(q=>q.toLowerCase()=="content-type"),z=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(ul,y,void 0)>=0)||S||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ae]of E)this.g.setRequestHeader(q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(q){$r(this,q)}};function $r(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,cl(h),os(h)}function cl(h){h.A||(h.A=!0,xt(h,"complete"),xt(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,xt(this,"complete"),xt(this,"abort"),os(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),rt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Wr(this):this.Xa())},s.Xa=function(){Wr(this)};function Wr(h){if(h.h&&typeof u<"u"){if(h.v&&fi(h)==4)setTimeout(h.Ca.bind(h),0);else if(xt(h,"readystatechange"),fi(h)==4){h.h=!1;try{const q=h.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var S;if(S=q===0){let ae=String(h.D).match(Hu)[1]||null;!ae&&c.self&&c.self.location&&(ae=c.self.location.protocol.slice(0,-1)),S=!Vi.test(ae?ae.toLowerCase():"")}E=S}if(E)xt(h,"complete"),xt(h,"success");else{h.o=6;try{var z=fi(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",cl(h)}}finally{os(h)}}}}function os(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||xt(h,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function fi(h){return h.g?h.g.readyState:0}s.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Ye(y)}};function en(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(h){const y={};h=(h.g&&fi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(x(h[S]))continue;var E=Bu(h[S]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const q=y[z]||[];y[z]=q,q.push(E)}Be(y,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Gs(h){this.za=0,this.i=[],this.j=new oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,h),this.Za=Li("retryDelaySeedMs",1e4,h),this.Ta=Li("forwardChannelMaxRetries",2,h),this.va=Li("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Zo(h&&h.concurrentRequestLimit),this.Ba=new qs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Gs.prototype,s.ka=8,s.I=1,s.connect=function(h,y,E,S){Vt(0),this.W=h,this.H=y||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=tc(this,null,this.W),Ui(this)};function hl(h){if(Ka(h),h.I==3){var y=h.V++,E=Pt(h.J);if(nt(E,"SID",h.M),nt(E,"RID",y),nt(E,"TYPE","terminate"),Jr(h,E),y=new li(h,h.j,y),y.M=2,y.A=Kr(Pt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=nc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ii(y)}ec(h)}function Ks(h){h.g&&(dl(h),h.g.cancel(),h.g=null)}function Ka(h){Ks(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ya(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ui(h){if(!el(h.h)&&!h.m){h.m=!0;var y=h.Ea;Re||C(),Ee||(Re(),Ee=!0),I.add(y,h),h.D=0}}function Qa(h,y){return Ni(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=wi(p(h.Ea,h,y),Zu(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new li(this,this.j,h);let q=this.o;if(this.U&&(q?(q=k(q),ne(q,this.U)):q=this.U),this.u!==null||this.R||(z.J=q,q=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Xu(this,z,y),E=Pt(this.J),nt(E,"RID",h),nt(E,"CVER",22),this.G&&nt(E,"X-HTTP-Session-Id",this.G),Jr(this,E),q&&(this.R?y="headers="+as(Yn(q))+"&"+y:this.u&&Xr(E,this.u,q)),tl(this.h,z),this.Ra&&nt(E,"TYPE","init"),this.S?(nt(E,"$req",y),nt(E,"SID","null"),z.U=!0,Ci(z,E,null)):Ci(z,E,y),this.I=2}}else this.I==3&&(h?fl(this,h):this.i.length==0||el(this.h)||fl(this))};function fl(h,y){var E;y?E=y.l:E=h.V++;const S=Pt(h.J);nt(S,"SID",h.M),nt(S,"RID",E),nt(S,"AID",h.K),Jr(h,S),h.u&&h.o&&Xr(S,h.u,h.o),E=new li(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Xu(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),tl(h.h,E),Ci(E,S,y)}function Jr(h,y){h.H&&Pe(h.H,function(E,S){nt(y,S,E)}),h.l&&Pe({},function(E,S){nt(y,S,E)})}function Xu(h,y,E){E=Math.min(h.i.length,E);const S=h.l?p(h.l.Ka,h.l,h):null;e:{var z=h.i;let Me=-1;for(;;){const Nt=["count="+E];Me==-1?E>0?(Me=z[0].g,Nt.push("ofs="+Me)):Me=0:Nt.push("ofs="+Me);let Je=!0;for(let Et=0;Et<E;Et++){var q=z[Et].g;const Xn=z[Et].map;if(q-=Me,q<0)Me=Math.max(0,z[Et].g-100),Je=!1;else try{q="req"+q+"_"||"";try{var ae=Xn instanceof Map?Xn:Object.entries(Xn);for(const[zi,di]of ae){let mi=di;m(di)&&(mi=ye(di)),Nt.push(q+zi+"="+encodeURIComponent(mi))}}catch(zi){throw Nt.push(q+"type="+encodeURIComponent("_badmap")),zi}}catch{S&&S(Xn)}}if(Je){ae=Nt.join("&");break e}}ae=void 0}return h=h.i.splice(0,E),y.G=h,ae}function $u(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;Re||C(),Ee||(Re(),Ee=!0),I.add(y,h),h.A=0}}function Zr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=wi(p(h.Da,h),Zu(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,Wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=wi(p(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),Ks(this),Wu(this))};function dl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Wu(h){h.g=new li(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Pt(h.na);nt(y,"RID","rpc"),nt(y,"SID",h.M),nt(y,"AID",h.K),nt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&nt(y,"TO",h.ia),nt(y,"TYPE","xmlhttp"),Jr(h,y),h.u&&h.o&&Xr(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Kr(Pt(y)),E.u=null,E.R=!0,za(E,h)}s.Va=function(){this.C!=null&&(this.C=null,Ks(this),Zr(this),Vt(19))};function Ya(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Ju(h,y){var E=null;if(h.g==y){Ya(h),dl(h),h.g=null;var S=2}else if(Oi(h.h,y))E=y.G,nl(h.h,y),S=1;else return;if(h.I!=0){if(y.o)if(S==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var z=h.D;S=Gn(),xt(S,new Si(S,E)),Ui(h)}else $u(h);else if(z=y.m,z==3||z==0&&y.X>0||!(S==1&&Qa(h,y)||S==2&&Zr(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),z){case 1:Pi(h,5);break;case 4:Pi(h,10);break;case 3:Pi(h,6);break;default:Pi(h,2)}}}function Zu(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Pi(h,y){if(h.j.info("Error code "+y),y==2){var E=p(h.bb,h),S=h.Ua;const z=!S;S=new Nn(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$t(S,"https"),Kr(S),z?ci(S.toString(),E):ll(S.toString(),E)}else Vt(2);h.I=0,h.l&&h.l.pa(y),ec(h),Ka(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function ec(h){if(h.I=0,h.ja=[],h.l){const y=il(h.h);(y.length!=0||h.i.length!=0)&&(P(h.ja,y),P(h.ja,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.oa()}}function tc(h,y,E){var S=E instanceof Nn?Pt(E):new Nn(E);if(S.g!="")y&&(S.g=y+"."+S.g),zs(S,S.u);else{var z=c.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const q=new Nn(null);S&&$t(q,S),y&&(q.g=y),z&&zs(q,z),E&&(q.h=E),S=q}return E=h.G,y=h.wa,E&&y&&nt(S,E,y),nt(S,"VER",h.ka),Jr(h,S),S}function nc(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new rt(new ki({ab:E})):new rt(h.ma),y.Fa(h.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ic(){}s=ic.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Qs(){}Qs.prototype.g=function(h,y){return new gn(h,y)};function gn(h,y){St.call(this),this.g=new Gs(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!x(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new us(this)}T(gn,St),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){hl(this.g)},gn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=ye(h),h=E);y.i.push(new Ut(y.Ya++,h)),y.I==3&&Ui(y)},gn.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,gn.Z.N.call(this)};function sc(h){vt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(sc,vt);function rc(){Dt.call(this),this.status=1}T(rc,Dt);function us(h){this.g=h}T(us,ic),us.prototype.ra=function(){xt(this.g,"a")},us.prototype.qa=function(h){xt(this.g,new sc(h))},us.prototype.pa=function(h){xt(this.g,new rc)},us.prototype.oa=function(){xt(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,aA=function(){return new Qs},rA=function(){return Gn()},sA=ut,eg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hr.NO_ERROR=0,Hr.TIMEOUT=8,Hr.HTTP_ERROR=6,Ah=Hr,Wo.COMPLETE="complete",iA=Wo,Hn.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",St.prototype.listen=St.prototype.J,su=Hn,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,nA=rt}).apply(typeof ch<"u"?ch:typeof self<"u"?self:typeof window<"u"?window:{});const Fv="@firebase/firestore",qv="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new xg("@firebase/firestore");function Io(){return xa.logLevel}function fe(s,...e){if(xa.logLevel<=He.DEBUG){const n=e.map(Fg);xa.debug(`Firestore (${Ho}): ${s}`,...n)}}function Os(s,...e){if(xa.logLevel<=He.ERROR){const n=e.map(Fg);xa.error(`Firestore (${Ho}): ${s}`,...n)}}function Uo(s,...e){if(xa.logLevel<=He.WARN){const n=e.map(Fg);xa.warn(`Firestore (${Ho}): ${s}`,...n)}}function Fg(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,oA(s,r,n)}function oA(s,e,n){let r=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Os(r),new Error(r)}function tt(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||oA(e,o,r)}function Oe(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(fn.UNAUTHENTICATED)))}shutdown(){}}class t2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class n2{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new wr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new wr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new lA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class i2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class s2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new i2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Hv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const r=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Hv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Hv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=a2(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Ge(s,e){return s<e?-1:s>e?1:0}function tg(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return Mm(o)===Mm(u)?Ge(o,u):Mm(o)?1:-1}return Ge(s.length,e.length)}const o2=55296,l2=57343;function Mm(s){const e=s.charCodeAt(0);return e>=o2&&e<=l2}function Po(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="__name__";class Hi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Hi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ge(e.length,n.length)}static compareSegments(e,n){const r=Hi.isNumericId(e),o=Hi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Hi.extractNumericId(e).compare(Hi.extractNumericId(n)):tg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class ft extends Hi{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const u2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Hi{construct(e,n,r){return new ln(e,n,r)}static isValidIdentifier(e){return u2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gv}static keyField(){return new ln([Gv])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new ue(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ft.fromString(e))}static fromName(e){return new ve(ft.fromString(e).popFirst(5))}static empty(){return new ve(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(s,e,n){if(!n)throw new ue(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function c2(s,e,n,r){if(e===!0&&r===!0)throw new ue(W.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Kv(s){if(!ve.isDocumentKey(s))throw new ue(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Qv(s){if(ve.isDocumentKey(s))throw new ue(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function cA(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function nf(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function Xi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nf(s);throw new ue(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function h2(s,e){if(e<=0)throw new ue(W.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(s,e){const n={typeString:s};return e&&(n.value=e),n}function ku(s,e){if(!cA(s))throw new ue(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const c=s[r];if(o&&typeof c!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ue(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=-62135596800,Xv=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Xv);return new gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Yv)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xv}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ku(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Yv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Gt("string",gt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new gt(0,0))}static max(){return new De(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=-1;function f2(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=De.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Ir(o,ve.empty(),e)}function d2(s){return new Ir(s.readTime,s.key,Eu)}class Ir{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ir(De.min(),ve.empty(),Eu)}static max(){return new Ir(De.max(),ve.empty(),Eu)}}function m2(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(s.documentKey,e.documentKey),n!==0?n:Ge(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==g2)throw s;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,r)=>{n(e)}))}static reject(e){return new Z(((n,r)=>{r(e)}))}static waitFor(e){return new Z(((n,r)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(g=>r(g)))})),c=!0,u===o&&n()}))}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next((o=>o?Z.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new Z(((r,o)=>{const u=e.length,c=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((v=>{c[p]=v,++m,m===u&&r(c)}),(v=>o(v)))}}))}static doWhile(e,n){return new Z(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function y2(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ko(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=-1;function rf(s){return s==null}function Ph(s){return s===0&&1/s==-1/0}function _2(s){return typeof s=="number"&&Number.isInteger(s)&&!Ph(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="";function v2(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=$v(e)),e=E2(s.get(n),e);return $v(e)}function E2(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case hA:n+="";break;default:n+=u}}return n}function $v(s){return s+hA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Pr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function fA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??on.RED,this.left=o??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new on(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jv(this.data.getIterator())}getIteratorFrom(e){return new Jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class Jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new jn([])}unionWith(e){let n=new Yt(ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new dA("Invalid base64 string: "+u):u}})(e);return new un(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const T2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(s){if(tt(!!s,39018),typeof s=="string"){let e=0;const n=T2.exec(s);if(tt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(s.seconds),nanos:kt(s.nanos)}}function kt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Dr(s){return typeof s=="string"?un.fromBase64String(s):un.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="server_timestamp",gA="__type__",pA="__previous_value__",yA="__local_write_time__";function Gg(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[gA])==null?void 0:r.stringValue)===mA}function af(s){const e=s.mapValue.fields[pA];return Gg(e)?af(e):e}function Tu(s){const e=xr(s.mapValue.fields[yA].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n,r,o,u,c,m,g,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=v}}const zh="(default)";class Au{constructor(e,n){this.projectId=e,this.database=n||zh}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===zh}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="__type__",b2="__max__",fh={mapValue:{}},vA="__vector__",jh="value";function Nr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Gg(s)?4:w2(s)?9007199254740991:S2(s)?10:11:Se(28295,{value:s})}function es(s,e){if(s===e)return!0;const n=Nr(s);if(n!==Nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Tu(s).isEqual(Tu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=xr(o.timestampValue),m=xr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return Dr(o.bytesValue).isEqual(Dr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return kt(o.geoPointValue.latitude)===kt(u.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return kt(o.integerValue)===kt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=kt(o.doubleValue),m=kt(u.doubleValue);return c===m?Ph(c)===Ph(m):isNaN(c)&&isNaN(m)}return!1})(s,e);case 9:return Po(s.arrayValue.values||[],e.arrayValue.values||[],es);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Wv(c)!==Wv(m))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(m[g]===void 0||!es(c[g],m[g])))return!1;return!0})(s,e);default:return Se(52216,{left:s})}}function bu(s,e){return(s.values||[]).find((n=>es(n,e)))!==void 0}function zo(s,e){if(s===e)return 0;const n=Nr(s),r=Nr(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(s.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=kt(u.integerValue||u.doubleValue),g=kt(c.integerValue||c.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,e);case 3:return Zv(s.timestampValue,e.timestampValue);case 4:return Zv(Tu(s),Tu(e));case 5:return tg(s.stringValue,e.stringValue);case 6:return(function(u,c){const m=Dr(u),g=Dr(c);return m.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),g=c.split("/");for(let p=0;p<m.length&&p<g.length;p++){const v=Ge(m[p],g[p]);if(v!==0)return v}return Ge(m.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=Ge(kt(u.latitude),kt(c.latitude));return m!==0?m:Ge(kt(u.longitude),kt(c.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return eE(s.arrayValue,e.arrayValue);case 10:return(function(u,c){var A,N,P,K;const m=u.fields||{},g=c.fields||{},p=(A=m[jh])==null?void 0:A.arrayValue,v=(N=g[jh])==null?void 0:N.arrayValue,T=Ge(((P=p==null?void 0:p.values)==null?void 0:P.length)||0,((K=v==null?void 0:v.values)==null?void 0:K.length)||0);return T!==0?T:eE(p,v)})(s.mapValue,e.mapValue);case 11:return(function(u,c){if(u===fh.mapValue&&c===fh.mapValue)return 0;if(u===fh.mapValue)return 1;if(c===fh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=c.fields||{},v=Object.keys(p);g.sort(),v.sort();for(let T=0;T<g.length&&T<v.length;++T){const A=tg(g[T],v[T]);if(A!==0)return A;const N=zo(m[g[T]],p[v[T]]);if(N!==0)return N}return Ge(g.length,v.length)})(s.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function Zv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ge(s,e);const n=xr(s),r=xr(e),o=Ge(n.seconds,r.seconds);return o!==0?o:Ge(n.nanos,r.nanos)}function eE(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=zo(n[o],r[o]);if(u)return u}return Ge(n.length,r.length)}function jo(s){return ng(s)}function ng(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=xr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Dr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ve.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=ng(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${ng(n.fields[c])}`;return o+"}"})(s.mapValue):Se(61005,{value:s})}function bh(s){switch(Nr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(s);return e?16+bh(e):16;case 5:return 2*s.stringValue.length;case 6:return Dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+bh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Pr(r.fields,((u,c)=>{o+=u.length+bh(c)})),o})(s.mapValue);default:throw Se(13486,{value:s})}}function tE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function ig(s){return!!s&&"integerValue"in s}function Kg(s){return!!s&&"arrayValue"in s}function nE(s){return!!s&&"nullValue"in s}function iE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Sh(s){return!!s&&"mapValue"in s}function S2(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[_A])==null?void 0:r.stringValue)===vA}function cu(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Pr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=cu(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(s.arrayValue.values[n]);return e}return{...s}}function w2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===b2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=ln.emptyPath(),r={},o=[];e.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}c?r[m.lastSegment()]=cu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Pr(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new In(cu(this.value))}}function EA(s){const e=[];return Pr(s.fields,((n,r)=>{const o=new ln([n]);if(Sh(r)){const u=EA(r.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,o,u,c,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new dn(e,0,De.min(),De.min(),De.min(),In.empty(),0)}static newFoundDocument(e,n,r,o){return new dn(e,1,n,De.min(),r,o,0)}static newNoDocument(e,n){return new dn(e,2,n,De.min(),De.min(),In.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,De.min(),De.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.position=e,this.inclusive=n}}function sE(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],c=s.position[o];if(u.field.isKeyField()?r=ve.comparator(ve.fromName(c.referenceValue),n.key):r=zo(c,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function rE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!es(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n="asc"){this.field=e,this.dir=n}}function R2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{}class Ht extends TA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new I2(e,n,r):n==="array-contains"?new N2(e,r):n==="in"?new O2(e,r):n==="not-in"?new M2(e,r):n==="array-contains-any"?new k2(e,r):new Ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new x2(e,r):new D2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zo(n,this.value)):n!==null&&Nr(this.value)===Nr(n)&&this.matchesComparison(zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends TA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ti(e,n)}matches(e){return AA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AA(s){return s.op==="and"}function bA(s){return C2(s)&&AA(s)}function C2(s){for(const e of s.filters)if(e instanceof Ti)return!1;return!0}function sg(s){if(s instanceof Ht)return s.field.canonicalString()+s.op.toString()+jo(s.value);if(bA(s))return s.filters.map((e=>sg(e))).join(",");{const e=s.filters.map((n=>sg(n))).join(",");return`${s.op}(${e})`}}function SA(s,e){return s instanceof Ht?(function(r,o){return o instanceof Ht&&r.op===o.op&&r.field.isEqual(o.field)&&es(r.value,o.value)})(s,e):s instanceof Ti?(function(r,o){return o instanceof Ti&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&SA(c,o.filters[m])),!0):!1})(s,e):void Se(19439)}function wA(s){return s instanceof Ht?(function(n){return`${n.field.canonicalString()} ${n.op} ${jo(n.value)}`})(s):s instanceof Ti?(function(n){return n.op.toString()+" {"+n.getFilters().map(wA).join(" ,")+"}"})(s):"Filter"}class I2 extends Ht{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class x2 extends Ht{constructor(e,n){super(e,"in",n),this.keys=RA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class D2 extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=RA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function RA(s,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ve.fromName(r.referenceValue)))}class N2 extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kg(n)&&bu(n.arrayValue,this.value)}}class O2 extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bu(this.value.arrayValue,n)}}class M2 extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bu(this.value.arrayValue,n)}}class k2 extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>bu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n=null,r=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function aE(s,e=null,n=[],r=[],o=null,u=null,c=null){return new V2(s,e,n,r,o,u,c)}function Qg(s){const e=Oe(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>sg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>jo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>jo(r))).join(",")),e.Te=n}return e.Te}function Yg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!R2(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!SA(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!rE(s.startAt,e.startAt)&&rE(s.endAt,e.endAt)}function rg(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n=null,r=[],o=[],u=null,c="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function L2(s,e,n,r,o,u,c,m){return new Qo(s,e,n,r,o,u,c,m)}function Xg(s){return new Qo(s)}function oE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function CA(s){return s.collectionGroup!==null}function hu(s){const e=Oe(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Yt(ln.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Su(u,r))})),n.has(ln.keyField().canonicalString())||e.Ie.push(new Su(ln.keyField(),r))}return e.Ie}function $i(s){const e=Oe(s);return e.Ee||(e.Ee=U2(e,hu(s))),e.Ee}function U2(s,e){if(s.limitType==="F")return aE(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Su(o.field,u)}));const n=s.endAt?new Bh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Bh(s.startAt.position,s.startAt.inclusive):null;return aE(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function ag(s,e){const n=s.filters.concat([e]);return new Qo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Fh(s,e,n){return new Qo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function of(s,e){return Yg($i(s),$i(e))&&s.limitType===e.limitType}function IA(s){return`${Qg($i(s))}|lt:${s.limitType}`}function xo(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>wA(o))).join(", ")}]`),rf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>jo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>jo(o))).join(",")),`Target(${r})`})($i(s))}; limitType=${s.limitType})`}function lf(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ve.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of hu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(c,m,g){const p=sE(c,m,g);return c.inclusive?p<=0:p<0})(r.startAt,hu(r),o)||r.endAt&&!(function(c,m,g){const p=sE(c,m,g);return c.inclusive?p>=0:p>0})(r.endAt,hu(r),o))})(s,e)}function P2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function xA(s){return(e,n)=>{let r=!1;for(const o of hu(s)){const u=z2(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function z2(s,e,n){const r=s.field.isKeyField()?ve.comparator(e.key,n.key):(function(u,c,m){const g=c.data.field(u),p=m.data.field(u);return g!==null&&p!==null?zo(g,p):Se(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Pr(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return fA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new bt(ve.comparator);function Ms(){return j2}const DA=new bt(ve.comparator);function ru(...s){let e=DA;for(const n of s)e=e.insert(n.key,n);return e}function NA(s){let e=DA;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ta(){return fu()}function OA(){return fu()}function fu(){return new Va((s=>s.toString()),((s,e)=>s.isEqual(e)))}const B2=new bt(ve.comparator),F2=new Yt(ve.comparator);function Ke(...s){let e=F2;for(const n of s)e=e.add(n);return e}const q2=new Yt(Ge);function H2(){return q2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function MA(s){return{integerValue:""+s}}function G2(s,e){return _2(e)?MA(e):$g(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function K2(s,e,n){return s instanceof wu?(function(o,u){const c={fields:{[gA]:{stringValue:mA},[yA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Gg(u)&&(u=af(u)),u&&(c.fields[pA]=u),{mapValue:c}})(n,e):s instanceof Ru?VA(s,e):s instanceof Cu?LA(s,e):(function(o,u){const c=kA(o,u),m=lE(c)+lE(o.Ae);return ig(c)&&ig(o.Ae)?MA(m):$g(o.serializer,m)})(s,e)}function Q2(s,e,n){return s instanceof Ru?VA(s,e):s instanceof Cu?LA(s,e):n}function kA(s,e){return s instanceof qh?(function(r){return ig(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class wu extends uf{}class Ru extends uf{constructor(e){super(),this.elements=e}}function VA(s,e){const n=UA(e);for(const r of s.elements)n.some((o=>es(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Cu extends uf{constructor(e){super(),this.elements=e}}function LA(s,e){let n=UA(e);for(const r of s.elements)n=n.filter((o=>!es(o,r)));return{arrayValue:{values:n}}}class qh extends uf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function lE(s){return kt(s.integerValue||s.doubleValue)}function UA(s){return Kg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n){this.field=e,this.transform=n}}function X2(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Ru&&o instanceof Ru||r instanceof Cu&&o instanceof Cu?Po(r.elements,o.elements,es):r instanceof qh&&o instanceof qh?es(r.Ae,o.Ae):r instanceof wu&&o instanceof wu})(s.transform,e.transform)}class $2{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class cf{}function PA(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new hf(s.key,Fn.none()):new Vu(s.key,s.data,Fn.none());{const n=s.data,r=In.empty();let o=new Yt(ln.comparator);for(let u of e.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new zr(s.key,r,new jn(o.toArray()),Fn.none())}}function W2(s,e,n){s instanceof Vu?(function(o,u,c){const m=o.value.clone(),g=cE(o.fieldTransforms,u,c.transformResults);m.setAll(g),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(s,e,n):s instanceof zr?(function(o,u,c){if(!wh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=cE(o.fieldTransforms,u,c.transformResults),g=u.data;g.setAll(zA(o)),g.setAll(m),u.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(s,e,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function du(s,e,n,r){return s instanceof Vu?(function(u,c,m,g){if(!wh(u.precondition,c))return m;const p=u.value.clone(),v=hE(u.fieldTransforms,g,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(s,e,n,r):s instanceof zr?(function(u,c,m,g){if(!wh(u.precondition,c))return m;const p=hE(u.fieldTransforms,g,c),v=c.data;return v.setAll(zA(u)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(s,e,n,r):(function(u,c,m){return wh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(s,e,n)}function J2(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=kA(r.transform,o||null);u!=null&&(n===null&&(n=In.empty()),n.set(r.field,u))}return n||null}function uE(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Po(r,o,((u,c)=>X2(u,c)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Vu extends cf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zr extends cf{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function zA(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function cE(s,e,n){const r=new Map;tt(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],c=u.transform,m=e.data.field(u.field);r.set(u.field,Q2(c,m,n[o]))}return r}function hE(s,e,n){const r=new Map;for(const o of s){const u=o.transform,c=n.data.field(o.field);r.set(o.field,K2(u,c,e))}return r}class hf extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z2 extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&W2(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=du(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=du(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OA();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const g=PA(c,m);g!==null&&r.set(o.key,g),c.isValidDocument()||c.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,((n,r)=>uE(n,r)))&&Po(this.baseMutations,e.baseMutations,((n,r)=>uE(n,r)))}}class Wg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){tt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return B2})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Wg(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Xe;function ix(s){switch(s){case W.OK:return Se(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function jA(s){if(s===void 0)return Os("GRPC error has no .code"),W.UNKNOWN;switch(s){case qt.OK:return W.OK;case qt.CANCELLED:return W.CANCELLED;case qt.UNKNOWN:return W.UNKNOWN;case qt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case qt.INTERNAL:return W.INTERNAL;case qt.UNAVAILABLE:return W.UNAVAILABLE;case qt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case qt.NOT_FOUND:return W.NOT_FOUND;case qt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case qt.ABORTED:return W.ABORTED;case qt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case qt.DATA_LOSS:return W.DATA_LOSS;default:return Se(39323,{code:s})}}(Xe=qt||(qt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=new Sr([4294967295,4294967295],0);function fE(s){const e=sx().encode(s),n=new tA;return n.update(e),new Uint8Array(n.digest())}function dE(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Sr([n,r],0),new Sr([o,u],0)]}class Jg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new au(`Invalid padding: ${n}`);if(r<0)throw new au(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new au(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Sr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(Sr.fromNumber(r)));return o.compare(rx)===1&&(o=new Sr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=fE(e),[r,o]=dE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new Jg(u,o,n);return r.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const n=fE(e),[r,o]=dE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ff(De.min(),o,new bt(Ge),Ms(),Ke())}}class Lu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lu(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class BA{constructor(e,n){this.targetId=e,this.Ce=n}}class FA{constructor(e,n,r=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class mE{constructor(){this.ve=0,this.Fe=gE(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),r=Ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Se(38017,{changeType:u})}})),new Lu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=gE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ax{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ms(),this.Je=dh(),this.He=dh(),this.Ye=new bt(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(rg(u))if(r===0){const c=new ve(u.path);this.et(n,c,dn.newNoDocument(c,De.min()))}else tt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const m=this.ut(e),g=m?this.ct(m,e,c):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=Dr(r).toUint8Array()}catch(g){if(g instanceof dA)return Uo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Jg(c,o,u)}catch(g){return Uo(g instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&rg(m.target)){const g=new ve(m.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,dn.newNoDocument(g,e))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let r=Ke();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new ff(e,n,this.Ye,this.je,r);return this.je=Ms(),this.Je=dh(),this.He=dh(),this.Ye=new bt(Ge),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new mE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Yt(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Yt(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dh(){return new bt(ve.comparator)}function gE(){return new bt(ve.comparator)}const ox={asc:"ASCENDING",desc:"DESCENDING"},lx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ux={and:"AND",or:"OR"};class cx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function og(s,e){return s.useProto3Json||rf(e)?e:{value:e}}function Hh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qA(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function hx(s,e){return Hh(s,e.toTimestamp())}function Wi(s){return tt(!!s,49232),De.fromTimestamp((function(n){const r=xr(n);return new gt(r.seconds,r.nanos)})(s))}function Zg(s,e){return lg(s,e).canonicalString()}function lg(s,e){const n=(function(o){return new ft(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function HA(s){const e=ft.fromString(s);return tt(XA(e),10190,{key:e.toString()}),e}function ug(s,e){return Zg(s.databaseId,e.path)}function km(s,e){const n=HA(e);if(n.get(1)!==s.databaseId.projectId)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ve(KA(n))}function GA(s,e){return Zg(s.databaseId,e)}function fx(s){const e=HA(s);return e.length===4?ft.emptyPath():KA(e)}function cg(s){return new ft(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function KA(s){return tt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function pE(s,e,n){return{name:ug(s,e),fields:n.value.mapValue.fields}}function dx(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,v){return p.useProto3Json?(tt(v===void 0||typeof v=="string",58123),un.fromBase64String(v||"")):(tt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),un.fromUint8Array(v||new Uint8Array))})(s,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(p){const v=p.code===void 0?W.UNKNOWN:jA(p.code);return new ue(v,p.message||"")})(c);n=new FA(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=km(s,r.document.name),u=Wi(r.document.updateTime),c=r.document.createTime?Wi(r.document.createTime):De.min(),m=new In({mapValue:{fields:r.document.fields}}),g=dn.newFoundDocument(o,u,c,m),p=r.targetIds||[],v=r.removedTargetIds||[];n=new Rh(p,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=km(s,r.document),u=r.readTime?Wi(r.readTime):De.min(),c=dn.newNoDocument(o,u),m=r.removedTargetIds||[];n=new Rh([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=km(s,r.document),u=r.removedTargetIds||[];n=new Rh([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new nx(o,u),m=r.targetId;n=new BA(m,c)}}return n}function mx(s,e){let n;if(e instanceof Vu)n={update:pE(s,e.key,e.value)};else if(e instanceof hf)n={delete:ug(s,e.key)};else if(e instanceof zr)n={update:pE(s,e.key,e.data),updateMask:bx(e.fieldMask)};else{if(!(e instanceof Z2))return Se(16599,{Vt:e.type});n={verify:ug(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof wu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ru)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Cu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof qh)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:hx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(s,e.precondition)),n}function gx(s,e){return s&&s.length>0?(tt(e!==void 0,14353),s.map((n=>(function(o,u){let c=o.updateTime?Wi(o.updateTime):Wi(u);return c.isEqual(De.min())&&(c=Wi(u)),new $2(c,o.transformResults||[])})(n,e)))):[]}function px(s,e){return{documents:[GA(s,e.path)]}}function yx(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=GA(s,o);const u=(function(p){if(p.length!==0)return YA(Ti.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const c=(function(p){if(p.length!==0)return p.map((v=>(function(A){return{field:Do(A.field),direction:Ex(A.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const m=og(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function _x(s){let e=fx(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){tt(r===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(T){const A=QA(T);return A instanceof Ti&&bA(A)?A.getFilters():[A]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((A=>(function(P){return new Su(No(P.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,rf(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(T){const A=!!T.before,N=T.values||[];return new Bh(N,A)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const A=!T.before,N=T.values||[];return new Bh(N,A)})(n.endAt)),L2(e,o,c,u,m,"F",g,p)}function vx(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QA(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=No(n.unaryFilter.field);return Ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=No(n.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=No(n.unaryFilter.field);return Ht.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=No(n.unaryFilter.field);return Ht.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ht.create(No(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Ti.create(n.compositeFilter.filters.map((r=>QA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(s):Se(30097,{filter:s})}function Ex(s){return ox[s]}function Tx(s){return lx[s]}function Ax(s){return ux[s]}function Do(s){return{fieldPath:s.canonicalString()}}function No(s){return ln.fromServerFormat(s.fieldPath)}function YA(s){return s instanceof Ht?(function(n){if(n.op==="=="){if(iE(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NAN"}};if(nE(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iE(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NAN"}};if(nE(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(n.field),op:Tx(n.op),value:n.value}}})(s):s instanceof Ti?(function(n){const r=n.getFilters().map((o=>YA(o)));return r.length===1?r[0]:{compositeFilter:{op:Ax(n.op),filters:r}}})(s):Se(54877,{filter:s})}function bx(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function XA(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,r,o,u=De.min(),c=De.min(),m=un.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.yt=e}}function wx(s){const e=_x({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Fh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.Cn=new Cx}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Ir.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class Cx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Yt(ft.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Yt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$A=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn($A,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bo(0)}static cr(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="LruGarbageCollector",Ix=1048576;function vE([s,e],[n,r]){const o=Ge(s,n);return o===0?Ge(e,r):o}class xx{constructor(e){this.Ir=e,this.buffer=new Yt(vE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Dx{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(_E,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ko(n)?fe(_E,"Ignoring IndexedDB error during garbage collection: ",n):await Go(n)}await this.Vr(3e5)}))}}class Nx{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(sf.ce);const r=new xx(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(yE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,u,c,m,g,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(e,r,n)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(p=Date.now(),Io()<=He.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-v}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function Ox(s,e){return new Nx(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.changes=new Va((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&du(r.mutation,o,jn.empty(),gt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ke()){const o=Ta();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let c=ru();return u.forEach(((m,g)=>{c=c.insert(m,g.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Ta();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ke())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(e,n,r,o){let u=Ms();const c=fu(),m=(function(){return fu()})();return n.forEach(((g,p)=>{const v=r.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof zr)?u=u.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),du(v.mutation,p,v.mutation.getFieldMask(),gt.now())):c.set(p.key,jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>m.set(p,new kx(v,c.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=fu();let o=new bt(((c,m)=>c-m)),u=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const m of c)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let v=r.get(g)||jn.empty();v=m.applyToLocalView(p,v),r.set(g,v);const T=(o.get(m.batchId)||Ke()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,v=g.value,T=OA();v.forEach((A=>{if(!u.has(A)){const N=PA(n.get(A),r.get(A));N!==null&&T.set(A,N),u=u.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,T))}return Z.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):Z.resolve(Ta());let m=Eu,g=u;return c.next((p=>Z.forEach(p,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?Z.resolve():this.remoteDocumentCache.getEntry(e,v).next((A=>{g=g.insert(v,A)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Ke()))).next((v=>({batchId:m,changes:NA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((r=>{let o=ru();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let c=ru();return this.indexManager.getCollectionParents(e,u).next((m=>Z.forEach(m,(g=>{const p=(function(T,A){return new Qo(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((v=>{v.forEach(((T,A)=>{c=c.insert(T,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((c=>{u.forEach(((g,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,dn.newInvalidDocument(v)))}));let m=ru();return c.forEach(((g,p)=>{const v=u.get(g);v!==void 0&&du(v.mutation,p,jn.empty(),gt.now()),lf(n,p)&&(m=m.insert(g,p))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Wi(o.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:wx(o.bundledQuery),readTime:Wi(o.readTime)}})(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.overlays=new bt(ve.comparator),this.qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ta();return Z.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.St(e,n,u)})),Z.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const o=Ta(),u=n.length+1,c=new ve(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new bt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let v=u.get(p.largestBatchId);v===null&&(v=Ta(),u=u.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const m=Ta(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,v)=>m.set(p,v))),!(m.size()>=o)););return Z.resolve(m)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new tx(n,r));let u=this.qr.get(n);u===void 0&&(u=Ke(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this.Qr=new Yt(Jt.$r),this.Ur=new Yt(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Jt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Jt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ve(new ft([])),r=new Jt(n,e),o=new Jt(n,e+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new ft([])),r=new Jt(n,e),o=new Jt(n,e+1);let u=Ke();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const n=new Jt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(Jt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ex(u,n,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(c)}lookupMutationBatch(e,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Hg:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jt(n,0),o=new Jt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yt(Ge);return n.forEach((o=>{const u=new Jt(o,0),c=new Jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;ve.isDocumentKey(u)||(u=u.child(""));const c=new Jt(new ve(u),0);let m=new Yt(Ge);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),c),Z.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){tt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(n.mutations,(o=>{const u=new Jt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Jt(n,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.ri=e,this.docs=(function(){return new bt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=Ms();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():dn.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=Ms();const c=n.path,m=new ve(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:v}}=g.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||m2(d2(v),r)<=0||(o.has(v.key)||lf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,r,o){Se(9500)}ii(e,n){return Z.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Bx(this)}getSize(e){return Z.resolve(this.size)}}class Bx extends Mx{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.persistence=e,this.si=new Va((n=>Qg(n)),Yg),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new ep,this.targetCount=0,this.ai=Bo.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Pr(n),Z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n){this.ui={},this.overlays={},this.ci=new sf(0),this.li=!1,this.li=!0,this.hi=new Px,this.referenceDelegate=e(this),this.Pi=new Fx(this),this.indexManager=new Rx,this.remoteDocumentCache=(function(o){return new jx(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Sx(n),this.Ii=new Lx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ux,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new zx(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const o=new qx(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class qx extends p2{constructor(e){super(),this.currentSequenceNumber=e}}class tp{constructor(e){this.persistence=e,this.Ri=new ep,this.Vi=null}static mi(e){return new tp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=ve.fromPath(r);return this.gi(e,o).next((u=>{u||n.removeEntry(o,De.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Gh{constructor(e,n){this.persistence=e,this.pi=new Va((r=>v2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Ox(this,n)}static mi(e,n){return new Gh(e,n)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Z.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((m=>{m||(r++,u.removeEntry(c,De.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bh(e.data.value)),n}br(e,n,r){return Z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Ke(),o=Ke();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new np(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _w()?8:y2(mn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ys(e,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,n,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new Hx;return this.Ss(e,n,c).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,c,m.size)}))})).next((()=>u.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(Io()<=He.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Io()<=He.DEBUG&&fe("QueryEngine","Query:",xo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Io()<=He.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(n))):Z.resolve())}ys(e,n){if(oE(n))return Z.resolve(null);let r=$i(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Fh(n,null,"F"),r=$i(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const c=Ke(...u);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,c,g.readTime)?this.ys(e,Fh(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,r,o){return oE(n)||o.isEqual(De.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,r,o)?Z.resolve(null):(Io()<=He.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xo(n)),this.vs(e,c,n,f2(o,Eu)).next((m=>m)))}))}Ds(e,n){let r=new Yt(xA(e));return n.forEach(((o,u)=>{lf(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return Io()<=He.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",xo(n)),this.ps.getDocumentsMatchingQuery(e,n,Ir.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="LocalStore",Kx=3e8;class Qx{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new bt(Ge),this.xs=new Va((u=>Qg(u)),Yg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Yx(s,e,n,r){return new Qx(s,e,n,r)}async function JA(s,e){const n=Oe(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let g=Ke();for(const p of o){c.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}for(const p of u){m.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}return n.localDocuments.getDocuments(r,g).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:m})))}))}))}function Xx(s,e){const n=Oe(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,v){const T=p.batch,A=T.keys();let N=Z.resolve();return A.forEach((P=>{N=N.next((()=>v.getEntry(g,P))).next((K=>{const G=p.docVersions.get(P);tt(G!==null,48541),K.version.compareTo(G)<0&&(T.applyToRemoteDocument(K,p),K.isValidDocument()&&(K.setReadTime(p.commitVersion),v.addEntry(K)))}))})),N.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Ke();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function ZA(s){const e=Oe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function $x(s,e){const n=Oe(s),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((v,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,T))));let N=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(un.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,r)),o=o.insert(T,N),(function(K,G,se){return K.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=Kx?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(A,N,v)&&m.push(n.Pi.updateTargetData(u,N))}));let g=Ms(),p=Ke();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(Wx(u,c,e.documentUpdates).next((v=>{g=v.ks,p=v.qs}))),!r.isEqual(De.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(v)}return Z.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function Wx(s,e,n){let r=Ke(),o=Ke();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let c=Ms();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(De.min())?(e.removeEntry(m,g.readTime),c=c.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),c=c.insert(m,g)):fe(ip,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:c,qs:o}}))}function Jx(s,e){const n=Oe(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Hg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Zx(s,e){const n=Oe(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((u=>u?(o=u,Z.resolve(o)):n.Pi.allocateTargetId(r).next((c=>(o=new Tr(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function hg(s,e,n){const r=Oe(s),o=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Ko(c))throw c;fe(ip,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function EE(s,e,n){const r=Oe(s);let o=De.min(),u=Ke();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,p,v){const T=Oe(g),A=T.xs.get(v);return A!==void 0?Z.resolve(T.Ms.get(A)):T.Pi.getTargetData(p,v)})(r,c,$i(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?o:De.min(),n?u:Ke()))).next((m=>(eD(r,P2(e),m),{documents:m,Qs:u})))))}function eD(s,e,n){let r=s.Os.get(e)||De.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class TE{constructor(){this.activeTargetIds=H2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tD{constructor(){this.Mo=new TE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new TE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="ConnectivityMonitor";class bE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(AE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(AE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=null;function fg(){return mh===null?mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():mh++,"0x"+mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="RestConnection",iD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===zh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,u){const c=fg(),m=this.zo(e,n.toUriEncodedString());fe(Vm,`Sending RPC '${e}' ${c}:`,m,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),v=kr(p);return this.Jo(e,m,g,r,v).then((T=>(fe(Vm,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Uo(Vm,`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",r),T}))}Ho(e,n,r,o,u,c){return this.Go(e,n,r,o,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ho})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const r=iD[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class aD extends sD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const c=fg();return new Promise(((m,g)=>{const p=new nA;p.setWithCredentials(!0),p.listenOnce(iA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Ah.NO_ERROR:const T=p.getResponseJson();fe(hn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),m(T);break;case Ah.TIMEOUT:fe(hn,`RPC '${e}' ${c} timed out`),g(new ue(W.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const A=p.getStatus();if(fe(hn,`RPC '${e}' ${c} failed with status:`,A,"response text:",p.getResponseText()),A>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const P=N==null?void 0:N.error;if(P&&P.status&&P.message){const K=(function(se){const ie=se.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ie)>=0?ie:W.UNKNOWN})(P.status);g(new ue(K,P.message))}else g(new ue(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ue(W.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(hn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);fe(hn,`RPC '${e}' ${c} sending request:`,o),p.send(n,"POST",v,r,15)}))}T_(e,n,r){const o=fg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=aA(),m=rA(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const v=u.join("");fe(hn,`Creating RPC '${e}' stream ${o}: ${v}`,g);const T=c.createWebChannel(v,g);this.I_(T);let A=!1,N=!1;const P=new rD({Yo:G=>{N?fe(hn,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(A||(fe(hn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),fe(hn,`RPC '${e}' stream ${o} sending:`,G),T.send(G))},Zo:()=>T.close()}),K=(G,se,ie)=>{G.listen(se,(oe=>{try{ie(oe)}catch(re){setTimeout((()=>{throw re}),0)}}))};return K(T,su.EventType.OPEN,(()=>{N||(fe(hn,`RPC '${e}' stream ${o} transport opened.`),P.o_())})),K(T,su.EventType.CLOSE,(()=>{N||(N=!0,fe(hn,`RPC '${e}' stream ${o} transport closed`),P.a_(),this.E_(T))})),K(T,su.EventType.ERROR,(G=>{N||(N=!0,Uo(hn,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),P.a_(new ue(W.UNAVAILABLE,"The operation could not be completed")))})),K(T,su.EventType.MESSAGE,(G=>{var se;if(!N){const ie=G.data[0];tt(!!ie,16349);const oe=ie,re=(oe==null?void 0:oe.error)||((se=oe[0])==null?void 0:se.error);if(re){fe(hn,`RPC '${e}' stream ${o} received error:`,re);const Re=re.status;let Ee=(function(w){const O=qt[w];if(O!==void 0)return jA(O)})(Re),I=re.message;Ee===void 0&&(Ee=W.INTERNAL,I="Unknown error status: "+Re+" with message "+re.message),N=!0,P.a_(new ue(Ee,I)),T.close()}else fe(hn,`RPC '${e}' stream ${o} received:`,ie),P.u_(ie)}})),K(m,sA.STAT_EVENT,(G=>{G.stat===eg.PROXY?fe(hn,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===eg.NOPROXY&&fe(hn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(s){return new cx(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="PersistentStream";class tb{constructor(e,n,r,o,u,c,m,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Os(n.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new ue(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(SE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oD extends tb{constructor(e,n,r,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=dx(this.serializer,e),r=(function(u){if(!("targetChange"in u))return De.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?De.min():c.readTime?Wi(c.readTime):De.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=cg(this.serializer),n.addTarget=(function(u,c){let m;const g=c.target;if(m=rg(g)?{documents:px(u,g)}:{query:yx(u,g).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=qA(u,c.resumeToken);const p=og(u,c.expectedCount);p!==null&&(m.expectedCount=p)}else if(c.snapshotVersion.compareTo(De.min())>0){m.readTime=Hh(u,c.snapshotVersion.toTimestamp());const p=og(u,c.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const r=vx(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=cg(this.serializer),n.removeTarget=e,this.q_(n)}}class lD extends tb{constructor(e,n,r,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gx(e.writeResults,e.commitTime),r=Wi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=cg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>mx(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{}class cD extends uD{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,lg(n,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(W.UNKNOWN,u.toString())}))}Ho(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,lg(n,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(W.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Os(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class fD{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{La(this)&&(fe(Da,"Restarting streams for network reachability change."),await(async function(g){const p=Oe(g);p.Ea.add(4),await Uu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await mf(p)})(this))}))})),this.Ra=new hD(r,o)}}async function mf(s){if(La(s))for(const e of s.da)await e(!0)}async function Uu(s){for(const e of s.da)await e(!1)}function nb(s,e){const n=Oe(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),op(n)?ap(n):Yo(n).O_()&&rp(n,e))}function sp(s,e){const n=Oe(s),r=Yo(n);n.Ia.delete(e),r.O_()&&ib(n,e),n.Ia.size===0&&(r.O_()?r.L_():La(n)&&n.Ra.set("Unknown"))}function rp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yo(s).Y_(e)}function ib(s,e){s.Va.Ue(e),Yo(s).Z_(e)}function ap(s){s.Va=new ax({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Yo(s).start(),s.Ra.ua()}function op(s){return La(s)&&!Yo(s).x_()&&s.Ia.size>0}function La(s){return Oe(s).Ea.size===0}function sb(s){s.Va=void 0}async function dD(s){s.Ra.set("Online")}async function mD(s){s.Ia.forEach(((e,n)=>{rp(s,e)}))}async function gD(s,e){sb(s),op(s)?(s.Ra.ha(e),ap(s)):s.Ra.set("Unknown")}async function pD(s,e,n){if(s.Ra.set("Online"),e instanceof FA&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(s,e)}catch(r){fe(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kh(s,r)}else if(e instanceof Rh?s.Va.Ze(e):e instanceof BA?s.Va.st(e):s.Va.tt(e),!n.isEqual(De.min()))try{const r=await ZA(s.localStore);n.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const v=u.Ia.get(p);v&&u.Ia.set(p,v.withResumeToken(g.resumeToken,c))}})),m.targetMismatches.forEach(((g,p)=>{const v=u.Ia.get(g);if(!v)return;u.Ia.set(g,v.withResumeToken(un.EMPTY_BYTE_STRING,v.snapshotVersion)),ib(u,g);const T=new Tr(v.target,g,p,v.sequenceNumber);rp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){fe(Da,"Failed to raise snapshot:",r),await Kh(s,r)}}async function Kh(s,e,n){if(!Ko(e))throw e;s.Ea.add(1),await Uu(s),s.Ra.set("Offline"),n||(n=()=>ZA(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{fe(Da,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await mf(s)}))}function rb(s,e){return e().catch((n=>Kh(s,n,e)))}async function gf(s){const e=Oe(s),n=Or(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hg;for(;yD(e);)try{const o=await Jx(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,_D(e,o)}catch(o){await Kh(e,o)}ab(e)&&ob(e)}function yD(s){return La(s)&&s.Ta.length<10}function _D(s,e){s.Ta.push(e);const n=Or(s);n.O_()&&n.X_&&n.ea(e.mutations)}function ab(s){return La(s)&&!Or(s).x_()&&s.Ta.length>0}function ob(s){Or(s).start()}async function vD(s){Or(s).ra()}async function ED(s){const e=Or(s);for(const n of s.Ta)e.ea(n.mutations)}async function TD(s,e,n){const r=s.Ta.shift(),o=Wg.from(r,e,n);await rb(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await gf(s)}async function AD(s,e){e&&Or(s).X_&&await(async function(r,o){if((function(c){return ix(c)&&c!==W.ABORTED})(o.code)){const u=r.Ta.shift();Or(r).B_(),await rb(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await gf(r)}})(s,e),ab(s)&&ob(s)}async function wE(s,e){const n=Oe(s);n.asyncQueue.verifyOperationInProgress(),fe(Da,"RemoteStore received new credentials");const r=La(n);n.Ea.add(3),await Uu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await mf(n)}async function bD(s,e){const n=Oe(s);e?(n.Ea.delete(2),await mf(n)):e||(n.Ea.add(2),await Uu(n),n.Ra.set("Unknown"))}function Yo(s){return s.ma||(s.ma=(function(n,r,o){const u=Oe(n);return u.sa(),new oD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:dD.bind(null,s),t_:mD.bind(null,s),r_:gD.bind(null,s),H_:pD.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),op(s)?ap(s):s.Ra.set("Unknown")):(await s.ma.stop(),sb(s))}))),s.ma}function Or(s){return s.fa||(s.fa=(function(n,r,o){const u=Oe(n);return u.sa(),new lD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:vD.bind(null,s),r_:AD.bind(null,s),ta:ED.bind(null,s),na:TD.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await gf(s)):(await s.fa.stop(),s.Ta.length>0&&(fe(Da,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const c=Date.now()+r,m=new lp(e,n,c,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(s,e){if(Os("AsyncQueue",`${e}: ${s}`),Ko(s))return new ue(W.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=ru(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.ga=new bt(ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Fo{constructor(e,n,r,o,u,c,m,g,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new Fo(e,n,Lo.emptySet(n),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class wD{constructor(){this.queries=CE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Oe(n),u=o.queries;o.queries=CE(),u.forEach(((c,m)=>{for(const g of m.Sa)g.onError(r)}))})(this,new ue(W.ABORTED,"Firestore shutting down"))}}function CE(){return new Va((s=>IA(s)),of)}async function lb(s,e){const n=Oe(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new SD,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=up(c,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&cp(n)}async function ub(s,e){const n=Oe(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RD(s,e){const n=Oe(s);let r=!1;for(const o of e){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&cp(n)}function CD(s,e,n){const r=Oe(s),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function cp(s){s.Ca.forEach((e=>{e.next()}))}var dg,IE;(IE=dg||(dg={})).Ma="default",IE.Cache="cache";class cb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.key=e}}class fb{constructor(e){this.key=e}}class ID{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=xA(e),this.tu=new Lo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new RE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,T)=>{const A=o.get(v),N=lf(this.query,T)?T:null,P=!!A&&this.mutatedKeys.has(A.key),K=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let G=!1;A&&N?A.data.isEqual(N.data)?P!==K&&(r.track({type:3,doc:N}),G=!0):this.su(A,N)||(r.track({type:2,doc:N}),G=!0,(g&&this.eu(N,g)>0||p&&this.eu(N,p)<0)&&(m=!0)):!A&&N?(r.track({type:0,doc:N}),G=!0):A&&!N&&(r.track({type:1,doc:A}),G=!0,(g||p)&&(m=!0)),G&&(N?(c=c.add(N),u=K?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,T)=>(function(N,P){const K=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:G})}};return K(N)-K(P)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,c.length!==0||p?{snapshot:new Fo(this.query,e.tu,u,c,e.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new RE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new fb(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new hb(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hp="SyncEngine";class xD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DD{constructor(e){this.key=e,this.hu=!1}}class ND{constructor(e,n,r,o,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Va((m=>IA(m)),of),this.Iu=new Map,this.Eu=new Set,this.du=new bt(ve.comparator),this.Au=new Map,this.Ru=new ep,this.Vu={},this.mu=new Map,this.fu=Bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OD(s,e,n=!0){const r=_b(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await db(r,e,n,!0),o}async function MD(s,e){const n=_b(s);await db(n,e,!0,!1)}async function db(s,e,n,r){const o=await Zx(s.localStore,$i(e)),u=o.targetId,c=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await kD(s,e,u,c==="current",o.resumeToken)),s.isPrimaryClient&&n&&nb(s.remoteStore,o),m}async function kD(s,e,n,r,o){s.pu=(T,A,N)=>(async function(K,G,se,ie){let oe=G.view.ru(se);oe.Cs&&(oe=await EE(K.localStore,G.query,!1).then((({documents:I})=>G.view.ru(I,oe))));const re=ie&&ie.targetChanges.get(G.targetId),Re=ie&&ie.targetMismatches.get(G.targetId)!=null,Ee=G.view.applyChanges(oe,K.isPrimaryClient,re,Re);return DE(K,G.targetId,Ee.au),Ee.snapshot})(s,T,A,N);const u=await EE(s.localStore,e,!0),c=new ID(e,u.Qs),m=c.ru(u.documents),g=Lu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),p=c.applyChanges(m,s.isPrimaryClient,g);DE(s,n,p.au);const v=new xD(e,n,c);return s.Tu.set(e,v),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),p.snapshot}async function VD(s,e,n){const r=Oe(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!of(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await hg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&sp(r.remoteStore,o.targetId),mg(r,o.targetId)})).catch(Go)):(mg(r,o.targetId),await hg(r.localStore,o.targetId,!0))}async function LD(s,e){const n=Oe(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sp(n.remoteStore,r.targetId))}async function UD(s,e,n){const r=HD(s);try{const o=await(function(c,m){const g=Oe(c),p=gt.now(),v=m.reduce(((N,P)=>N.add(P.key)),Ke());let T,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let P=Ms(),K=Ke();return g.Ns.getEntries(N,v).next((G=>{P=G,P.forEach(((se,ie)=>{ie.isValidDocument()||(K=K.add(se))}))})).next((()=>g.localDocuments.getOverlayedDocuments(N,P))).next((G=>{T=G;const se=[];for(const ie of m){const oe=J2(ie,T.get(ie.key).overlayedDocument);oe!=null&&se.push(new zr(ie.key,oe,EA(oe.value.mapValue),Fn.exists(!0)))}return g.mutationQueue.addMutationBatch(N,p,se,m)})).next((G=>{A=G;const se=G.applyToLocalDocumentSet(T,K);return g.documentOverlayCache.saveOverlays(N,G.batchId,se)}))})).then((()=>({batchId:A.batchId,changes:NA(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,g){let p=c.Vu[c.currentUser.toKey()];p||(p=new bt(Ge)),p=p.insert(m,g),c.Vu[c.currentUser.toKey()]=p})(r,o.batchId,n),await Pu(r,o.changes),await gf(r.remoteStore)}catch(o){const u=up(o,"Failed to persist write");n.reject(u)}}async function mb(s,e){const n=Oe(s);try{const r=await $x(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?tt(c.hu,14607):o.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))})),await Pu(n,r,e)}catch(r){await Go(r)}}function xE(s,e,n){const r=Oe(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const g=Oe(c);g.onlineState=m;let p=!1;g.queries.forEach(((v,T)=>{for(const A of T.Sa)A.va(m)&&(p=!0)})),p&&cp(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function PD(s,e,n){const r=Oe(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let c=new bt(ve.comparator);c=c.insert(u,dn.newNoDocument(u,De.min()));const m=Ke().add(u),g=new ff(De.min(),new Map,new bt(Ge),c,m);await mb(r,g),r.du=r.du.remove(u),r.Au.delete(e),fp(r)}else await hg(r.localStore,e,!1).then((()=>mg(r,e,n))).catch(Go)}async function zD(s,e){const n=Oe(s),r=e.batch.batchId;try{const o=await Xx(n.localStore,e);pb(n,r,null),gb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pu(n,o)}catch(o){await Go(o)}}async function jD(s,e,n){const r=Oe(s);try{const o=await(function(c,m){const g=Oe(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return g.mutationQueue.lookupMutationBatch(p,m).next((T=>(tt(T!==null,37113),v=T.keys(),g.mutationQueue.removeMutationBatch(p,T)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,v,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>g.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);pb(r,e,n),gb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pu(r,o)}catch(o){await Go(o)}}function gb(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function pb(s,e,n){const r=Oe(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function mg(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||yb(s,r)}))}function yb(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(sp(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),fp(s))}function DE(s,e,n){for(const r of n)r instanceof hb?(s.Ru.addReference(r.key,e),BD(s,r)):r instanceof fb?(fe(hp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||yb(s,r.key)):Se(19791,{wu:r})}function BD(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(fe(hp,"New document in limbo: "+n),s.Eu.add(r),fp(s))}function fp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ve(ft.fromString(e)),r=s.fu.next();s.Au.set(r,new DD(n)),s.du=s.du.insert(n,r),nb(s.remoteStore,new Tr($i(Xg(n.path)),r,"TargetPurposeLimboResolution",sf.ce))}}async function Pu(s,e,n){const r=Oe(s),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{c.push(r.pu(g,e,n).then((p=>{var v;if((p||n)&&r.isPrimaryClient){const T=p?!p.fromCache:(v=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:v.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){o.push(p);const T=np.As(g.targetId,p);u.push(T)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(g,p){const v=Oe(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>Z.forEach(p,(A=>Z.forEach(A.Es,(N=>v.persistence.referenceDelegate.addReference(T,A.targetId,N))).next((()=>Z.forEach(A.ds,(N=>v.persistence.referenceDelegate.removeReference(T,A.targetId,N)))))))))}catch(T){if(!Ko(T))throw T;fe(ip,"Failed to update sequence numbers: "+T)}for(const T of p){const A=T.targetId;if(!T.fromCache){const N=v.Ms.get(A),P=N.snapshotVersion,K=N.withLastLimboFreeSnapshotVersion(P);v.Ms=v.Ms.insert(A,K)}}})(r.localStore,u))}async function FD(s,e){const n=Oe(s);if(!n.currentUser.isEqual(e)){fe(hp,"User change. New user:",e.toKey());const r=await JA(n.localStore,e);n.currentUser=e,(function(u,c){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ue(W.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pu(n,r.Ls)}}function qD(s,e){const n=Oe(s),r=n.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let o=Ke();const u=n.Iu.get(e);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function _b(s){const e=Oe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=mb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PD.bind(null,e),e.Pu.H_=RD.bind(null,e.eventManager),e.Pu.yu=CD.bind(null,e.eventManager),e}function HD(s){const e=Oe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jD.bind(null,e),e}class Qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Yx(this.persistence,new Gx,e.initialUser,this.serializer)}Cu(e){return new WA(tp.mi,this.serializer)}Du(e){return new tD}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qh.provider={build:()=>new Qh};class GD extends Qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof Gh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Dx(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new WA((r=>Gh.mi(r,n)),this.serializer)}}class gg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FD.bind(null,this.syncEngine),await bD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wD})()}createDatastore(e){const n=df(e.databaseInfo.databaseId),r=(function(u){return new aD(u)})(e.databaseInfo);return(function(u,c,m,g){return new cD(u,c,m,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,c,m){return new fD(r,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>xE(this.syncEngine,n,0)),(function(){return bE.v()?new bE:new nD})())}createSyncEngine(e,n){return(function(o,u,c,m,g,p,v){const T=new ND(o,u,c,m,g,p);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Oe(o);fe(Da,"RemoteStore shutting down."),u.Ea.add(5),await Uu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}gg.provider={build:()=>new gg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="FirestoreClient";class KD{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=fn.UNAUTHENTICATED,this.clientId=qg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{fe(Mr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(fe(Mr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=up(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Um(s,e){s.asyncQueue.verifyOperationInProgress(),fe(Mr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await JA(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function NE(s,e){s.asyncQueue.verifyOperationInProgress();const n=await QD(s);fe(Mr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>wE(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>wE(e.remoteStore,o))),s._onlineComponents=e}async function QD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){fe(Mr,"Using user provided OfflineComponentProvider");try{await Um(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),await Um(s,new Qh)}}else fe(Mr,"Using default OfflineComponentProvider"),await Um(s,new GD(void 0));return s._offlineComponents}async function Eb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(fe(Mr,"Using user provided OnlineComponentProvider"),await NE(s,s._uninitializedComponentsProvider._online)):(fe(Mr,"Using default OnlineComponentProvider"),await NE(s,new gg))),s._onlineComponents}function YD(s){return Eb(s).then((e=>e.syncEngine))}async function pg(s){const e=await Eb(s),n=e.eventManager;return n.onListen=OD.bind(null,e.syncEngine),n.onUnlisten=VD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LD.bind(null,e.syncEngine),n}function XD(s,e,n={}){const r=new wr;return s.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,g,p){const v=new vb({next:A=>{v.Nu(),c.enqueueAndForget((()=>ub(u,T))),A.fromCache&&g.source==="server"?p.reject(new ue(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new cb(m,v,{includeMetadataChanges:!0,qa:!0});return lb(u,T)})(await pg(s),s.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="firestore.googleapis.com",ME=!0;class kE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ab,this.ssl=ME}else this.host=e.host,this.ssl=e.ssl??ME;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$A;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ix)throw new ue(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new e2;switch(r.type){case"firstParty":return new s2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=OE.get(n);r&&(fe("ComponentProvider","Removing Datastore"),OE.delete(n),r.terminate())})(this),Promise.resolve()}}function $D(s,e,n,r={}){var p;s=Xi(s,pf);const o=kr(e),u=s._getSettings(),c={...u,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(Cg(`https://${m}`),Ig("Firestore",!0)),u.host!==Ab&&u.host!==m&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:r};if(!wa(g,c)&&(s._setSettings(g),r.mockUserToken)){let v,T;if(typeof r.mockUserToken=="string")v=r.mockUserToken,T=fn.MOCK_USER;else{v=pT(r.mockUserToken,(p=s._app)==null?void 0:p.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ue(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new fn(A)}s._authCredentials=new t2(new lA(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vs(this.firestore,e,this._query)}}class Kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ku(n,Kt._jsonSchema))return new Kt(e,r||null,new ve(ft.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Gt("string",Kt._jsonSchemaVersion),referencePath:Gt("string")};class Rr extends Vs{constructor(e,n,r){super(e,n,Xg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new ve(e))}withConverter(e){return new Rr(this.firestore,e,this._path)}}function Jl(s,e,...n){if(s=pt(s),uA("collection","path",e),s instanceof pf){const r=ft.fromString(e,...n);return Qv(r),new Rr(s,null,r)}{if(!(s instanceof Kt||s instanceof Rr))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ft.fromString(e,...n));return Qv(r),new Rr(s.firestore,null,r)}}function ws(s,e,...n){if(s=pt(s),arguments.length===1&&(e=qg.newId()),uA("doc","path",e),s instanceof pf){const r=ft.fromString(e,...n);return Kv(r),new Kt(s,null,new ve(r))}{if(!(s instanceof Kt||s instanceof Rr))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ft.fromString(e,...n));return Kv(r),new Kt(s.firestore,s instanceof Rr?s.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="AsyncQueue";class LE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eb(this,"async_queue_retry"),this._c=()=>{const r=Lm();r&&fe(VE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ko(e))throw e;fe(VE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Os("INTERNAL UNHANDLED ERROR: ",UE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=lp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:UE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function UE(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class Na extends pf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new LE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LE(e),this._firestoreClient=void 0,await e}}}function WD(s,e){const n=typeof s=="object"?s:Ng(),r=typeof s=="string"?s:zh,o=Jh(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=dT("firestore");u&&$D(o,...u)}return o}function yf(s){if(s._terminated)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||JD(s),s._firestoreClient}function JD(s){var r,o,u;const e=s._freezeSettings(),n=(function(m,g,p,v){return new A2(m,g,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Tb(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new KD(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(un.fromBase64String(e))}catch(n){throw new ue(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new si(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ku(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Gt("string",si._jsonSchemaVersion),bytes:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ji._jsonSchemaVersion}}static fromJSON(e){if(ku(e,Ji._jsonSchema))return new Ji(e.latitude,e.longitude)}}Ji._jsonSchemaVersion="firestore/geoPoint/1.0",Ji._jsonSchema={type:Gt("string",Ji._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ku(e,Zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Zi(e.vectorValues);throw new ue(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:Gt("string",Zi._jsonSchemaVersion),vectorValues:Gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=/^__.*__$/;class eN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class bb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Sb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:s})}}class dp{constructor(e,n,r,o,u,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Yh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Sb(this.Ac)&&ZD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||df(e)}Cc(e,n,r,o=!1){return new dp({Ac:e,methodName:n,Dc:r,path:ln.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mp(s){const e=s._freezeSettings(),n=df(s._databaseId);return new tN(s._databaseId,!!e.ignoreUndefinedProperties,n)}function wb(s,e,n,r,o,u={}){const c=s.Cc(u.merge||u.mergeFields?2:0,e,n,o);pp("Data must be an object, but it was:",c,r);const m=Rb(r,c);let g,p;if(u.merge)g=new jn(c.fieldMask),p=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const A=yg(e,T,n);if(!c.contains(A))throw new ue(W.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Ib(v,A)||v.push(A)}g=new jn(v),p=c.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,p=c.fieldTransforms;return new eN(new In(m),g,p)}class Ef extends vf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ef}}class gp extends vf{_toFieldTransform(e){return new Y2(e.path,new wu)}isEqual(e){return e instanceof gp}}function nN(s,e,n,r){const o=s.Cc(1,e,n);pp("Data must be an object, but it was:",o,r);const u=[],c=In.empty();Pr(r,((g,p)=>{const v=yp(e,g,n);p=pt(p);const T=o.yc(v);if(p instanceof Ef)u.push(v);else{const A=zu(p,T);A!=null&&(u.push(v),c.set(v,A))}}));const m=new jn(u);return new bb(c,m,o.fieldTransforms)}function iN(s,e,n,r,o,u){const c=s.Cc(1,e,n),m=[yg(e,r,n)],g=[o];if(u.length%2!=0)throw new ue(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(yg(e,u[A])),g.push(u[A+1]);const p=[],v=In.empty();for(let A=m.length-1;A>=0;--A)if(!Ib(p,m[A])){const N=m[A];let P=g[A];P=pt(P);const K=c.yc(N);if(P instanceof Ef)p.push(N);else{const G=zu(P,K);G!=null&&(p.push(N),v.set(N,G))}}const T=new jn(p);return new bb(v,T,c.fieldTransforms)}function sN(s,e,n,r=!1){return zu(n,s.Cc(r?4:3,e))}function zu(s,e){if(Cb(s=pt(s)))return pp("Unsupported field value:",e,s),Rb(s,e);if(s instanceof vf)return(function(r,o){if(!Sb(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let g=zu(m,o.wc(c));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),c++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return G2(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=gt.fromDate(r);return{timestampValue:Hh(o.serializer,u)}}if(r instanceof gt){const u=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hh(o.serializer,u)}}if(r instanceof Ji)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof si)return{bytesValue:qA(o.serializer,r._byteString)};if(r instanceof Kt){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Zi)return(function(c,m){return{mapValue:{fields:{[_A]:{stringValue:vA},[jh]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return $g(m.serializer,p)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${nf(r)}`)})(s,e)}function Rb(s,e){const n={};return fA(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pr(s,((r,o)=>{const u=zu(o,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function Cb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof gt||s instanceof Ji||s instanceof si||s instanceof Kt||s instanceof vf||s instanceof Zi)}function pp(s,e,n){if(!Cb(n)||!cA(n)){const r=nf(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function yg(s,e,n){if((e=pt(e))instanceof _f)return e._internalPath;if(typeof e=="string")return yp(s,e);throw Yh("Field path arguments must be of type string or ",s,!1,void 0,n)}const rN=new RegExp("[~\\*/\\[\\]]");function yp(s,e,n){if(e.search(rN)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new _f(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Yh(s,e,n,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||c)&&(g+=" (found",u&&(g+=` in field ${r}`),c&&(g+=` in document ${o}`),g+=")"),new ue(W.INVALID_ARGUMENT,m+s+g)}function Ib(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aN extends xb{data(){return super.data()}}function Tf(s,e){return typeof e=="string"?yp(s,e):e instanceof _f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _p{}class vp extends _p{}function pa(s,e,...n){let r=[];e instanceof _p&&r.push(e),r=r.concat(n),(function(u){const c=u.filter((g=>g instanceof Ep)).length,m=u.filter((g=>g instanceof Af)).length;if(c>1||c>0&&m>0)throw new ue(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Af extends vp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Af(e,n,r)}_apply(e){const n=this._parse(e);return Nb(e._query,n),new Vs(e.firestore,e.converter,ag(e._query,n))}_parse(e){const n=mp(e.firestore);return(function(u,c,m,g,p,v,T){let A;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ue(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){BE(T,v);const P=[];for(const K of T)P.push(jE(g,u,K));A={arrayValue:{values:P}}}else A=jE(g,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||BE(T,v),A=sN(m,c,T,v==="in"||v==="not-in");return Ht.create(p,v,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ya(s,e,n){const r=e,o=Tf("where",s);return Af._create(o,r,n)}class Ep extends _p{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ep(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const g of m)Nb(c,g),c=ag(c,g)})(e._query,n),new Vs(e.firestore,e.converter,ag(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tp extends vp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Tp(e,n)}_apply(e){const n=(function(o,u,c){if(o.startAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Su(u,c)})(e._query,this._field,this._direction);return new Vs(e.firestore,e.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new Qo(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Pm(s,e="asc"){const n=e,r=Tf("orderBy",s);return Tp._create(r,n)}class Ap extends vp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ap(e,n,r)}_apply(e){return new Vs(e.firestore,e.converter,Fh(e._query,this._limit,this._limitType))}}function zE(s){return h2("limit",s),Ap._create("limit",s,"F")}function jE(s,e,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new ue(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CA(e)&&n.indexOf("/")!==-1)throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!ve.isDocumentKey(r))throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tE(s,new ve(r))}if(n instanceof Kt)return tE(s,n._key);throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(n)}.`)}function BE(s,e){if(!Array.isArray(s)||s.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Nb(s,e){const n=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oN{convertValue(e,n="none"){switch(Nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Pr(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){var r,o,u;const n=(u=(o=(r=e.fields)==null?void 0:r[jh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((c=>kt(c.doubleValue)));return new Zi(n)}convertGeoPoint(e){return new Ji(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=af(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const n=xr(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);tt(XA(r),9688,{name:e});const o=new Au(r.get(1),r.get(3)),u=new ve(r.popFirst(5));return o.isEqual(n)||Os(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends xb{constructor(e,n,r,o,u,c){super(e,n,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Tf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:Gt("string",Aa._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Ch extends Aa{data(e={}){return super.data(e)}}class ba{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ou(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ch(this._firestore,this._userDataWriter,r.key,r,new ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const g=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return m.type!==0&&(p=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:lN(m.type),doc:g,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ba._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}ba._jsonSchemaVersion="firestore/querySnapshot/1.0",ba._jsonSchema={type:Gt("string",ba._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class bp extends oN{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function Zl(s){s=Xi(s,Vs);const e=Xi(s.firestore,Na),n=yf(e),r=new bp(e);return Db(s._query),XD(n,s._query).then((o=>new ba(e,r,s,o)))}function zm(s,e,n){s=Xi(s,Kt);const r=Xi(s.firestore,Na),o=Ob(s.converter,e,n);return Sp(r,[wb(mp(r),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Fn.none())])}function FE(s){return Sp(Xi(s.firestore,Na),[new hf(s._key,Fn.none())])}function uN(s,...e){var g,p,v;s=pt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||PE(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(PE(e[r])){const T=e[r];e[r]=(g=T.next)==null?void 0:g.bind(T),e[r+1]=(p=T.error)==null?void 0:p.bind(T),e[r+2]=(v=T.complete)==null?void 0:v.bind(T)}let u,c,m;if(s instanceof Kt)c=Xi(s.firestore,Na),m=Xg(s._key.path),u={next:T=>{e[r]&&e[r](cN(c,s,T))},error:e[r+1],complete:e[r+2]};else{const T=Xi(s,Vs);c=Xi(T.firestore,Na),m=T._query;const A=new bp(c);u={next:N=>{e[r]&&e[r](new ba(c,A,T,N))},error:e[r+1],complete:e[r+2]},Db(s._query)}return(function(A,N,P,K){const G=new vb(K),se=new cb(N,G,P);return A.asyncQueue.enqueueAndForget((async()=>lb(await pg(A),se))),()=>{G.Nu(),A.asyncQueue.enqueueAndForget((async()=>ub(await pg(A),se)))}})(yf(c),m,o,u)}function Sp(s,e){return(function(r,o){const u=new wr;return r.asyncQueue.enqueueAndForget((async()=>UD(await YD(r),o,u))),u.promise})(yf(s),e)}function cN(s,e,n){const r=n.docs.get(e._key),o=new bp(s);return new Aa(s,o,e._key,r,new ou(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mp(e)}set(e,n,r){this._verifyNotCommitted();const o=jm(e,this._firestore),u=Ob(o.converter,n,r),c=wb(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,r);return this._mutations.push(c.toMutation(o._key,Fn.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const u=jm(e,this._firestore);let c;return c=typeof(n=pt(n))=="string"||n instanceof _f?iN(this._dataReader,"WriteBatch.update",u._key,n,r,o):nN(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(c.toMutation(u._key,Fn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=jm(e,this._firestore);return this._mutations=this._mutations.concat(new hf(n._key,Fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jm(s,e){if((s=pt(s)).firestore!==e)throw new ue(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function fN(){return new gp("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(s){return yf(s=Xi(s,Na)),new hN(s,(e=>Sp(s,e)))}(function(e,n=!0){(function(o){Ho=o})(ka),Ra(new Cr("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Na(new n2(r.getProvider("auth-internal")),new r2(c,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ue(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(p.options.projectId,v)})(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Qi(Fv,qv,e),Qi(Fv,qv,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="firebasestorage.googleapis.com",kb="storageBucket",dN=120*1e3,mN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It extends ts{constructor(e,n,r=0){super(Fm(e),`Firebase Storage: ${n} (${Fm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ct;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ct||(Ct={}));function Fm(s){return"storage/"+s}function wp(){const s="An unknown error occurred, please check the error payload for server response.";return new It(Ct.UNKNOWN,s)}function gN(s){return new It(Ct.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function pN(s){return new It(Ct.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yN(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new It(Ct.UNAUTHENTICATED,s)}function _N(){return new It(Ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vN(s){return new It(Ct.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function EN(){return new It(Ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TN(){return new It(Ct.CANCELED,"User canceled the upload/download.")}function AN(s){return new It(Ct.INVALID_URL,"Invalid URL '"+s+"'.")}function bN(s){return new It(Ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function SN(){return new It(Ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kb+"' property when initializing the app?")}function wN(){return new It(Ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function RN(){return new It(Ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function CN(s){return new It(Ct.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _g(s){return new It(Ct.INVALID_ARGUMENT,s)}function Vb(){return new It(Ct.APP_DELETED,"The Firebase app was deleted.")}function IN(s){return new It(Ct.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mu(s,e){return new It(Ct.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function eu(s){throw new It(Ct.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(r.path==="")return r;throw bN(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+o+c,"i"),g={bucket:1,path:3};function p(re){re.path_=decodeURIComponent(re.path)}const v="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",N=new RegExp(`^https?://${T}/${v}/b/${o}/o${A}`,"i"),P={bucket:1,path:3},K=n===Mb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,G="([^?#]*)",se=new RegExp(`^https?://${K}/${o}/${G}`,"i"),oe=[{regex:m,indices:g,postModify:u},{regex:N,indices:P,postModify:p},{regex:se,indices:{bucket:1,path:2},postModify:p}];for(let re=0;re<oe.length;re++){const Re=oe[re],Ee=Re.regex.exec(e);if(Ee){const I=Ee[Re.indices.bucket];let C=Ee[Re.indices.path];C||(C=""),r=new Bn(I,C),Re.postModify(r);break}}if(r==null)throw AN(e);return r}}class xN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(s,e,n){let r=1,o=null,u=null,c=!1,m=0;function g(){return m===2}let p=!1;function v(...G){p||(p=!0,e.apply(null,G))}function T(G){o=setTimeout(()=>{o=null,s(N,g())},G)}function A(){u&&clearTimeout(u)}function N(G,...se){if(p){A();return}if(G){A(),v.call(null,G,...se);return}if(g()||c){A(),v.call(null,G,...se);return}r<64&&(r*=2);let oe;m===1?(m=2,oe=0):oe=(r+Math.random())*1e3,T(oe)}let P=!1;function K(G){P||(P=!0,A(),!p&&(o!==null?(G||(m=2),clearTimeout(o),T(0)):G||(m=1)))}return T(0),u=setTimeout(()=>{c=!0,K(!0)},n),K}function NN(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(s){return s!==void 0}function MN(s){return typeof s=="object"&&!Array.isArray(s)}function Rp(s){return typeof s=="string"||s instanceof String}function qE(s){return Cp()&&s instanceof Blob}function Cp(){return typeof Blob<"u"}function HE(s,e,n,r){if(r<e)throw _g(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>n)throw _g(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(s,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${s}`}function Lb(s){const e=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=e(r)+"="+e(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Sa;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Sa||(Sa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(s,e){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=e.indexOf(s)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n,r,o,u,c,m,g,p,v,T,A=!0,N=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=T,this.retry=A,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,K)=>{this.resolve_=P,this.reject_=K,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new gh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const m=u.getErrorCode()===Sa.NO_ERROR,g=u.getStatus();if(!m||kN(g,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===Sa.ABORT;r(!1,new gh(!1,null,v));return}const p=this.successCodes_.indexOf(g)!==-1;r(!0,new gh(p,u))})},n=(r,o)=>{const u=this.resolve_,c=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());ON(g)?u(g):u()}catch(g){c(g)}else if(m!==null){const g=wp();g.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,g)):c(g)}else if(o.canceled){const g=this.appDelete_?Vb():TN();c(g)}else{const g=EN();c(g)}};this.canceled_?n(!1,new gh(!1,null,!0)):this.backoffId_=DN(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function LN(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function UN(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PN(s,e){e&&(s["X-Firebase-GMPID"]=e)}function zN(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function jN(s,e,n,r,o,u,c=!0,m=!1){const g=Lb(s.urlParams),p=s.url+g,v=Object.assign({},s.headers);return PN(v,e),LN(v,n),UN(v,u),zN(v,r),new VN(p,s.method,v,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,c,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function FN(...s){const e=BN();if(e!==void 0){const n=new e;for(let r=0;r<s.length;r++)n.append(s[r]);return n.getBlob()}else{if(Cp())return new Blob(s);throw new It(Ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function qN(s,e,n){return s.webkitSlice?s.webkitSlice(e,n):s.mozSlice?s.mozSlice(e,n):s.slice?s.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(s){if(typeof atob>"u")throw CN("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qm{constructor(e,n){this.data=e,this.contentType=n||null}}function GN(s,e){switch(s){case Gi.RAW:return new qm(Ub(e));case Gi.BASE64:case Gi.BASE64URL:return new qm(Pb(s,e));case Gi.DATA_URL:return new qm(QN(e),YN(e))}throw wp()}function Ub(s){const e=[];for(let n=0;n<s.length;n++){let r=s.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=r,c=s.charCodeAt(++n);r=65536|(u&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function KN(s){let e;try{e=decodeURIComponent(s)}catch{throw mu(Gi.DATA_URL,"Malformed data URL.")}return Ub(e)}function Pb(s,e){switch(s){case Gi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw mu(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Gi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw mu(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=HN(e)}catch(o){throw o.message.includes("polyfill")?o:mu(s,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class zb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw mu(Gi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=XN(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function QN(s){const e=new zb(s);return e.base64?Pb(Gi.BASE64,e.rest):KN(e.rest)}function YN(s){return new zb(s).contentType}function XN(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n){let r=0,o="";qE(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(qE(this.data_)){const r=this.data_,o=qN(r,e,n);return o===null?null:new Er(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Er(r,!0)}}static getBlob(...e){if(Cp()){const n=e.map(r=>r instanceof Er?r.data_:r);return new Er(FN.apply(null,n))}else{const n=e.map(c=>Rp(c)?GN(Gi.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const o=new Uint8Array(r);let u=0;return n.forEach(c=>{for(let m=0;m<c.length;m++)o[u++]=c[m]}),new Er(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(s){let e;try{e=JSON.parse(s)}catch{return null}return MN(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function WN(s,e){const n=e.split("/").filter(r=>r.length>0).join("/");return s.length===0?n:s+"/"+n}function Bb(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(s,e){return e}class yn{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||JN}}let ph=null;function ZN(s){return!Rp(s)||s.length<2?s:Bb(s)}function Fb(){if(ph)return ph;const s=[];s.push(new yn("bucket")),s.push(new yn("generation")),s.push(new yn("metageneration")),s.push(new yn("name","fullPath",!0));function e(u,c){return ZN(c)}const n=new yn("name");n.xform=e,s.push(n);function r(u,c){return c!==void 0?Number(c):c}const o=new yn("size");return o.xform=r,s.push(o),s.push(new yn("timeCreated")),s.push(new yn("updated")),s.push(new yn("md5Hash",null,!0)),s.push(new yn("cacheControl",null,!0)),s.push(new yn("contentDisposition",null,!0)),s.push(new yn("contentEncoding",null,!0)),s.push(new yn("contentLanguage",null,!0)),s.push(new yn("contentType",null,!0)),s.push(new yn("metadata","customMetadata",!0)),ph=s,ph}function eO(s,e){function n(){const r=s.bucket,o=s.fullPath,u=new Bn(r,o);return e._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:n})}function tO(s,e,n){const r={};r.type="file";const o=n.length;for(let u=0;u<o;u++){const c=n[u];r[c.local]=c.xform(r,e[c.server])}return eO(r,s),r}function qb(s,e,n){const r=jb(e);return r===null?null:tO(s,r,n)}function nO(s,e,n,r){const o=jb(e);if(o===null||!Rp(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const c=encodeURIComponent;return u.split(",").map(p=>{const v=s.bucket,T=s.fullPath,A="/b/"+c(v)+"/o/"+c(T),N=bf(A,n,r),P=Lb({alt:"media",token:p});return N+P})[0]}function iO(s,e){const n={},r=e.length;for(let o=0;o<r;o++){const u=e[o];u.writable&&(n[u.server]=s[u.local])}return JSON.stringify(n)}class Ip{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(s){if(!s)throw wp()}function sO(s,e){function n(r,o){const u=qb(s,o,e);return Hb(u!==null),u}return n}function rO(s,e){function n(r,o){const u=qb(s,o,e);return Hb(u!==null),nO(u,o,s.host,s._protocol)}return n}function Gb(s){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=_N():o=yN():n.getStatus()===402?o=pN(s.bucket):n.getStatus()===403?o=vN(s.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function Kb(s){const e=Gb(s);function n(r,o){let u=e(r,o);return r.getStatus()===404&&(u=gN(s.path)),u.serverResponse=o.serverResponse,u}return n}function aO(s,e,n){const r=e.fullServerUrl(),o=bf(r,s.host,s._protocol),u="GET",c=s.maxOperationRetryTime,m=new Ip(o,u,rO(s,n),c);return m.errorHandler=Kb(e),m}function oO(s,e){const n=e.fullServerUrl(),r=bf(n,s.host,s._protocol),o="DELETE",u=s.maxOperationRetryTime;function c(g,p){}const m=new Ip(r,o,c,u);return m.successCodes=[200,204],m.errorHandler=Kb(e),m}function lO(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function uO(s,e,n){const r=Object.assign({},n);return r.fullPath=s.path,r.size=e.size(),r.contentType||(r.contentType=lO(null,e)),r}function cO(s,e,n,r,o){const u=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function m(){let oe="";for(let re=0;re<2;re++)oe=oe+Math.random().toString().slice(2);return oe}const g=m();c["Content-Type"]="multipart/related; boundary="+g;const p=uO(e,r,o),v=iO(p,n),T="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+g+`\r
Content-Type: `+p.contentType+`\r
\r
`,A=`\r
--`+g+"--",N=Er.getBlob(T,r,A);if(N===null)throw wN();const P={name:p.fullPath},K=bf(u,s.host,s._protocol),G="POST",se=s.maxUploadRetryTime,ie=new Ip(K,G,sO(s,n),se);return ie.urlParams=P,ie.headers=c,ie.body=N.uploadData(),ie.errorHandler=Gb(e),ie}class hO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Sa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Sa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o,u){if(this.sent_)throw eu("cannot .send() more than once");if(kr(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const c in u)u.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,u[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw eu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw eu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw eu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw eu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class fO extends hO{initXhr(){this.xhr_.responseType="text"}}function xp(){return new fO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this._service=e,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Oa(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Bb(this._location.path)}get storage(){return this._service}get parent(){const e=$N(this._location.path);if(e===null)return null;const n=new Bn(this._location.bucket,e);return new Oa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw IN(e)}}function dO(s,e,n){s._throwIfRoot("uploadBytes");const r=cO(s.storage,s._location,Fb(),new Er(e,!0),n);return s.storage.makeRequestWithTokens(r,xp).then(o=>({metadata:o,ref:s}))}function mO(s){s._throwIfRoot("getDownloadURL");const e=aO(s.storage,s._location,Fb());return s.storage.makeRequestWithTokens(e,xp).then(n=>{if(n===null)throw RN();return n})}function gO(s){s._throwIfRoot("deleteObject");const e=oO(s.storage,s._location);return s.storage.makeRequestWithTokens(e,xp)}function pO(s,e){const n=WN(s._location.path,e),r=new Bn(s._location.bucket,n);return new Oa(s.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(s){return/^[A-Za-z]+:\/\//.test(s)}function _O(s,e){return new Oa(s,e)}function Qb(s,e){if(s instanceof Dp){const n=s;if(n._bucket==null)throw SN();const r=new Oa(n,n._bucket);return e!=null?Qb(r,e):r}else return e!==void 0?pO(s,e):s}function vO(s,e){if(e&&yO(e)){if(s instanceof Dp)return _O(s,e);throw _g("To use ref(service, url), the first argument must be a Storage instance.")}else return Qb(s,e)}function GE(s,e){const n=e==null?void 0:e[kb];return n==null?null:Bn.makeFromBucketSpec(n,s)}function EO(s,e,n,r={}){s.host=`${e}:${n}`;const o=kr(e);o&&(Cg(`https://${s.host}/b`),Ig("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:pT(u,s.app.options.projectId))}class Dp{constructor(e,n,r,o,u,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=Mb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dN,this._maxUploadRetryTime=mN,this._requests=new Set,o!=null?this._bucket=Bn.makeFromBucketSpec(o,this._host):this._bucket=GE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=GE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oa(this,e)}_makeRequest(e,n,r,o,u=!0){if(this._deleted)return new xN(Vb());{const c=jN(e,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const KE="@firebase/storage",QE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="storage";function S4(s,e,n){return s=pt(s),dO(s,e,n)}function w4(s){return s=pt(s),mO(s)}function R4(s){return s=pt(s),gO(s)}function C4(s,e){return s=pt(s),vO(s,e)}function TO(s=Ng(),e){s=pt(s);const r=Jh(s,Yb).getImmediate({identifier:e}),o=dT("storage");return o&&AO(r,...o),r}function AO(s,e,n,r={}){EO(s,e,n,r)}function bO(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new Dp(n,r,o,e,ka)}function SO(){Ra(new Cr(Yb,bO,"PUBLIC").setMultipleInstances(!0)),Qi(KE,QE,""),Qi(KE,QE,"esm2020")}SO();const wO={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},RO=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"];RO.forEach(s=>{if(!wO[s])throw new Error(`Varivel de ambiente faltando: ${s}`)});const CO={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},Np=vT(CO),gu=JI(Np),IO=new Rs,an=WD(Np),I4=TO(Np),Ro=new Map;class xO{hasStorage(){return typeof window<"u"&&!!window.localStorage}keyFor(e,n){return`${n}_${e}`}syncKey(e,n){return`sync_meta_${e}_${n}`}readJSON(e,n){if(Ro.has(e))return Ro.get(e);if(!this.hasStorage())return n;try{const r=window.localStorage.getItem(e);if(!r)return n;const o=JSON.parse(r);return Ro.set(e,o),o}catch(r){return console.error("Erro ao ler do localStorage:",r),n}}writeJSON(e,n){if(Ro.set(e,n),!!this.hasStorage())try{window.localStorage.setItem(e,JSON.stringify(n))}catch(r){console.error("Erro ao gravar no localStorage:",r)}}removeKey(e){if(Ro.delete(e),!!this.hasStorage())try{window.localStorage.removeItem(e)}catch(n){console.error("Erro ao remover do localStorage:",n)}}async getTransactions(e){const n=this.keyFor(e,"transactions");return this.readJSON(n,[])}async saveTransactions(e,n){const r=this.keyFor(n,"transactions");this.writeJSON(r,e)}async saveTransaction(e,n){const r=this.keyFor(n,"transactions"),o=this.readJSON(r,[]),u=o.findIndex(c=>c.id===e.id);u>=0?o[u]=e:o.push(e),this.writeJSON(r,o)}async deleteTransaction(e,n){if(n){const r=this.keyFor(n,"transactions"),u=this.readJSON(r,[]).filter(c=>c.id!==e);this.writeJSON(r,u);return}if(this.hasStorage())try{for(let r=0;r<window.localStorage.length;r++){const o=window.localStorage.key(r);if(o&&o.startsWith("transactions_")){const u=this.readJSON(o,[]),c=u.filter(m=>m.id!==e);if(c.length!==u.length){this.writeJSON(o,c);break}}}}catch(r){console.error("Erro ao excluir transao do cache:",r)}}async deleteTransactions(e,n){const r=this.keyFor(n,"transactions"),o=this.readJSON(r,[]),u=new Set(e),c=o.filter(m=>!u.has(m.id));this.writeJSON(r,c)}async clearTransactions(e){const n=this.keyFor(e,"transactions");this.writeJSON(n,[])}async getAccounts(e){const n=this.keyFor(e,"accounts");return this.readJSON(n,[]).sort((o,u)=>o.number-u.number)}async saveAccounts(e,n){const r=this.keyFor(n,"accounts");this.writeJSON(r,e)}async clearAccounts(e){const n=this.keyFor(e,"accounts");this.writeJSON(n,[])}async getRecurringTransactions(e){const n=this.keyFor(e,"recurring_transactions");return this.readJSON(n,[])}async saveRecurringTransactions(e,n){const r=this.keyFor(n,"recurring_transactions");this.writeJSON(r,e)}async saveRecurringTransaction(e,n){const r=this.keyFor(n,"recurring_transactions"),o=this.readJSON(r,[]),u=o.findIndex(c=>c.id===e.id);u>=0?o[u]=e:o.push(e),this.writeJSON(r,o)}async deleteRecurringTransaction(e,n){if(n){const r=this.keyFor(n,"recurring_transactions"),u=this.readJSON(r,[]).filter(c=>c.id!==e);this.writeJSON(r,u);return}if(this.hasStorage())try{for(let r=0;r<window.localStorage.length;r++){const o=window.localStorage.key(r);if(o&&o.startsWith("recurring_transactions_")){const u=this.readJSON(o,[]),c=u.filter(m=>m.id!==e);if(c.length!==u.length){this.writeJSON(o,c);break}}}}catch(r){console.error("Erro ao excluir transao recorrente do cache:",r)}}async clearRecurringTransactions(e){const n=this.keyFor(e,"recurring_transactions");this.writeJSON(n,[])}async setSyncMetadata(e,n,r){const o=this.syncKey(e,n),u=await this.getSyncMetadata(e,n)||{},c={lastSync:Date.now(),hash:(r==null?void 0:r.hash)??u.hash,lastWrite:r!=null&&r.preserveLastWrite?u.lastWrite:void 0};this.writeJSON(o,c)}async getSyncMetadata(e,n){const r=this.syncKey(e,n);return this.readJSON(r,null)}async needsSync(e,n,r){const o=await this.getSyncMetadata(e,n);if(!o)return!0;const c=(Date.now()-o.lastSync)/6e4,m=r,g=o.lastWrite?Math.min(m,60):m,p=typeof navigator<"u"&&navigator.onLine===!1&&!o.lastWrite?g*1.5:g;return c>=p}async markLocalWrite(e,n){const r=this.syncKey(e,n),u={...await this.getSyncMetadata(e,n)||{lastSync:0},lastWrite:Date.now()};this.writeJSON(r,u)}async clearAllUserData(e){await this.clearTransactions(e),await this.clearAccounts(e),await this.clearRecurringTransactions(e),["transactions","accounts","recurring_transactions"].forEach(r=>{const o=this.syncKey(e,r);this.removeKey(o)})}clearMemoryCache(){Ro.clear()}async preloadCache(e){await Promise.all([this.getTransactions(e),this.getAccounts(e),this.getRecurringTransactions(e)])}}const xe=new xO,Oo=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Date.now().toString(36)+Math.random().toString(36).substring(2),DO=[{number:101,name:"Sede",type:"Despesa"},{number:102,name:"Administrativas",type:"Despesa"},{number:103,name:"Pr-labore",type:"Despesa"},{number:104,name:"Assessoria",type:"Despesa"},{number:105,name:"Impostos",type:"Despesa"},{number:106,name:"Taxas",type:"Despesa"},{number:107,name:"Juros",type:"Despesa"},{number:108,name:"Folha de pagamento",type:"Despesa"},{number:109,name:"Encargos sociais",type:"Despesa"},{number:110,name:"Defensivos agricolas",type:"Despesa"},{number:111,name:"Servios terceirizados",type:"Despesa"},{number:112,name:"Manutenes de maquinrio",type:"Despesa"},{number:113,name:"Manutenes de instalaes",type:"Despesa"},{number:114,name:"Combustveis",type:"Despesa"},{number:115,name:"Arrendamentos",type:"Despesa"},{number:116,name:"Fretes",type:"Despesa"},{number:117,name:"Comisses",type:"Despesa"},{number:118,name:"Sanidade",type:"Despesa"},{number:119,name:"Reproduo",type:"Despesa"},{number:120,name:"Pastagens",type:"Despesa"},{number:121,name:"Suplementao",type:"Despesa"},{number:122,name:"Despesa Soja",type:"Despesa"},{number:123,name:"Mercado",type:"Despesa"},{number:124,name:"Outras despesas",type:"Despesa"},{number:125,name:"Cavalos",type:"Despesa"},{number:126,name:"Ces",type:"Despesa"},{number:127,name:"Sunos e Aves",type:"Despesa"},{number:128,name:"Veiculos Pessoais",type:"Despesa"},{number:129,name:"Exposies e eventos",type:"Despesa"},{number:130,name:"Ferragem",type:"Despesa"},{number:201,name:"Touros reprodutores",type:"Despesa"},{number:202,name:"Novilhos recria",type:"Despesa"},{number:203,name:"Novilhas recria",type:"Despesa"},{number:204,name:"Novilhas prenhes",type:"Despesa"},{number:205,name:"Vacas de invernar",type:"Despesa"},{number:206,name:"Vacas prenhes",type:"Despesa"},{number:207,name:"Vacas reprodutoras",type:"Despesa"},{number:208,name:"Aquisio de Infra estrutura",type:"Despesa"},{number:209,name:"Aquisio de maquinrios",type:"Despesa"},{number:210,name:"Aquisicao animal cavalar",type:"Despesa"},{number:301,name:"Terneiros",type:"Receita"},{number:302,name:"Terneiras",type:"Receita"},{number:303,name:"Novilhos gordos",type:"Receita"},{number:304,name:"Novilhos recria",type:"Receita"},{number:305,name:"Novilhas gordas",type:"Receita"},{number:306,name:"Novilhas recria",type:"Receita"},{number:307,name:"Novilhas prenhes",type:"Receita"},{number:308,name:"Vacas de invernar",type:"Receita"},{number:309,name:"Vacas gordas",type:"Receita"},{number:310,name:"Vacas prenhes",type:"Receita"},{number:311,name:"Touros reproduo",type:"Receita"},{number:312,name:"Touros descarte",type:"Receita"},{number:313,name:"Arrendamentos",type:"Receita"},{number:314,name:"Soja",type:"Receita"},{number:315,name:"Arroz",type:"Receita"},{number:316,name:"Outras culturas",type:"Receita"},{number:317,name:"Outros produtos",type:"Receita"},{number:318,name:"Receita Financeira",type:"Receita"},{number:319,name:"Embrioes",type:"Receita"}];class NO{constructor(){this.changeListenerUnsubscribe=null,this.currentUserId=null,this.onDataChange=null,this.onSyncStatusChange=null,this.enableRealtime=!1,this.lastSyncTimestamp=0,this.MIN_SYNC_INTERVAL=5e3}async initialize(e,n,r,o){this.currentUserId=e,this.onDataChange=n,this.onSyncStatusChange=r,this.enableRealtime=(o==null?void 0:o.enableRealtimeListener)??!1;let u=await xe.getTransactions(e),c=await xe.getAccounts(e),m=await xe.getRecurringTransactions(e);const g=await xe.needsSync(e,"transactions",240),p=await xe.needsSync(e,"accounts",1440),v=await xe.needsSync(e,"recurring_transactions",1440),T=g||u.length===0,A=p||c.length===0,N=v||m.length===0;return(T||A||N)&&this.syncInBackground(e,T,A,N,o),this.enableRealtime&&this.setupChangeListener(e),{transactions:u,accounts:c,recurringTransactions:m}}async syncInBackground(e,n,r,o,u){this.onSyncStatusChange&&this.onSyncStatusChange(!0);try{r&&await this.syncAccounts(e),n&&await this.syncTransactions(e,u),o&&await this.syncRecurringTransactions(e),this.onDataChange&&this.onDataChange()}catch(c){console.error("Erro na sincronizao em background:",c)}finally{this.onSyncStatusChange&&this.onSyncStatusChange(!1)}}async syncAccounts(e){const n=pa(Jl(an,"accounts"),ya("userId","==",e)),r=await Zl(n);if(r.empty){const u=await this.seedAccounts(e);return await xe.saveAccounts(u,e),await xe.setSyncMetadata(e,"accounts"),u}const o=r.docs.map(u=>({id:u.id,...u.data()}));return await xe.clearAccounts(e),await xe.saveAccounts(o,e),await xe.setSyncMetadata(e,"accounts"),o}async seedAccounts(e){const n=Bm(an),r=[];return DO.forEach(o=>{const u=Oo(),c=ws(an,"accounts",u),m={...o,id:u,userId:e,createdAt:Date.now(),updatedAt:Date.now()};n.set(c,m),r.push(m)}),await n.commit(),await this.updateChangeMarker(e),r}async syncTransactions(e,n){let r=pa(Jl(an,"transactions"),ya("userId","==",e));if(n!=null&&n.transactionLimit)r=pa(r,Pm("date","desc"),zE(n.transactionLimit));else if(n!=null&&n.daysWindow){const v=new Date;v.setDate(v.getDate()-n.daysWindow);const T=v.toISOString().split("T")[0];r=pa(r,ya("date",">=",T),Pm("date","desc"))}const u=(await Zl(r)).docs.map(v=>({id:v.id,...v.data()})),c=await xe.getTransactions(e),m=new Set(u.map(v=>v.id)),p=[...c.filter(v=>!m.has(v.id)),...u];return await xe.saveTransactions(p,e),await xe.setSyncMetadata(e,"transactions"),p}async loadOlderTransactions(e,n){const r=pa(Jl(an,"transactions"),ya("userId","==",e),ya("date","<",n),Pm("date","desc"),zE(100)),u=(await Zl(r)).docs.map(p=>({id:p.id,...p.data()})),c=await xe.getTransactions(e),m=new Set(c.map(p=>p.id)),g=u.filter(p=>!m.has(p.id));return await xe.saveTransactions([...c,...g],e),u}async syncRecurringTransactions(e){const n=pa(Jl(an,"recurring_transactions"),ya("userId","==",e)),o=(await Zl(n)).docs.map(u=>({id:u.id,...u.data()}));return await xe.clearRecurringTransactions(e),await xe.saveRecurringTransactions(o,e),await xe.setSyncMetadata(e,"recurring_transactions"),o}setupChangeListener(e){this.changeListenerUnsubscribe&&(this.changeListenerUnsubscribe(),this.changeListenerUnsubscribe=null);const n=ws(an,"user_sync",e);this.changeListenerUnsubscribe=uN(n,r=>{var o,u;if(r.exists()){const c=r.data(),m=((u=(o=c==null?void 0:c.lastChange)==null?void 0:o.toMillis)==null?void 0:u.call(o))||0;xe.getSyncMetadata(e,"transactions").then(g=>{g&&m>g.lastSync&&this.syncInBackground(e,!0,!1,!0,{transactionLimit:50})}).catch(g=>console.error("Erro ao ler metadata de sync:",g))}},r=>{console.error("Erro no listener de mudanas:",r)})}enableRealtimeUpdates(){!this.currentUserId||this.changeListenerUnsubscribe||(this.enableRealtime=!0,this.setupChangeListener(this.currentUserId))}disableRealtimeUpdates(){this.enableRealtime=!1,this.changeListenerUnsubscribe&&(this.changeListenerUnsubscribe(),this.changeListenerUnsubscribe=null)}async updateChangeMarker(e){const n=ws(an,"user_sync",e);await zm(n,{lastChange:fN(),userId:e},{merge:!0})}async saveTransaction(e,n){const r=Date.now(),o={...e,userId:n,updatedAt:r,createdAt:e.createdAt||r};await zm(ws(an,"transactions",e.id),o),await xe.saveTransaction(o,n),await xe.markLocalWrite(n,"transactions"),await this.updateChangeMarker(n)}async saveTransactionsBatch(e,n){const r=[],o=Date.now();for(let p=0;p<e.length;p+=500)r.push(e.slice(p,p+500));for(const p of r){const v=Bm(an);p.forEach(T=>{const A={...T,userId:n,updatedAt:o,createdAt:T.createdAt||o};v.set(ws(an,"transactions",T.id),A)}),await v.commit()}const u=await xe.getTransactions(n),c=new Set(e.map(p=>p.id)),m=u.filter(p=>!c.has(p.id)),g=e.map(p=>({...p,updatedAt:o,createdAt:p.createdAt||o}));await xe.saveTransactions([...m,...g],n),await xe.markLocalWrite(n,"transactions"),await this.updateChangeMarker(n)}async deleteTransaction(e,n){await FE(ws(an,"transactions",e)),await xe.deleteTransaction(e,n),await xe.markLocalWrite(n,"transactions"),await this.updateChangeMarker(n)}async deleteTransactionsBatch(e,n){for(let r=0;r<e.length;r+=500){const o=Bm(an);e.slice(r,r+500).forEach(u=>{o.delete(ws(an,"transactions",u))}),await o.commit()}await xe.deleteTransactions(e,n),await xe.markLocalWrite(n,"transactions"),await this.updateChangeMarker(n)}async saveRecurringTransaction(e,n){const r=Date.now(),o={...e,userId:n,updatedAt:r,createdAt:e.createdAt||r};await zm(ws(an,"recurring_transactions",e.id),o),await xe.saveRecurringTransaction(o,n),await xe.markLocalWrite(n,"recurring_transactions"),await this.updateChangeMarker(n)}async deleteRecurringTransaction(e,n){await FE(ws(an,"recurring_transactions",e)),await xe.deleteRecurringTransaction(e,n),await xe.markLocalWrite(n,"recurring_transactions"),await this.updateChangeMarker(n)}async syncTransactionsFull(e){const n=pa(Jl(an,"transactions"),ya("userId","==",e)),o=(await Zl(n)).docs.map(u=>({id:u.id,...u.data()}));return await xe.clearTransactions(e),await xe.saveTransactions(o,e),await xe.setSyncMetadata(e,"transactions"),o}async forceFullSync(e,n){const r=Date.now();if(r-this.lastSyncTimestamp<this.MIN_SYNC_INTERVAL)return console.log("Sync throttled"),{transactions:await xe.getTransactions(e),accounts:await xe.getAccounts(e),recurringTransactions:await xe.getRecurringTransactions(e),throttled:!0};this.lastSyncTimestamp=r;const o=await this.syncAccounts(e),u=await this.syncTransactionsFull(e),c=await this.syncRecurringTransactions(e);return{transactions:u,accounts:o,recurringTransactions:c}}cleanup(){this.disableRealtimeUpdates(),this.currentUserId=null,this.onDataChange=null,xe.clearMemoryCache()}}const _n=new NO;function OO(s,e){const[n,r]=ee.useState(s);return ee.useEffect(()=>{const o=setTimeout(()=>{r(s)},e);return()=>{clearTimeout(o)}},[s,e]),n}function MO(s,e={}){const{initialPageSize:n=50,initialPage:r=1}=e,[o,u]=ee.useState(r),[c,m]=ee.useState(n),g=s.length,p=Math.max(1,Math.ceil(g/c)),v=Math.min(o,p);v!==o&&u(v);const T=isNaN((v-1)*c)?0:(v-1)*c,A=Math.min(T+c,g),N=ee.useMemo(()=>s.slice(T,A),[s,T,A]),P=v<p,K=v>1,G=ee.useCallback(re=>{const Re=Math.max(1,Math.min(re,p));u(Re)},[p]),se=ee.useCallback(()=>{P&&u(re=>re+1)},[P]),ie=ee.useCallback(()=>{K&&u(re=>re-1)},[K]),oe=ee.useCallback(re=>{m(re),u(1)},[]);return{currentPage:v,pageSize:c,totalPages:p,totalItems:g,paginatedItems:N,hasNextPage:P,hasPrevPage:K,goToPage:G,nextPage:se,prevPage:ie,setPageSize:oe,startIndex:T,endIndex:A}}const kO="livro_caixa_filters",tu={searchTerm:"",type:"",accountId:"",startDate:"",endDate:"",includeContaTiti:!1,pendingReceipt:!1};function VO(s){const e=`${kO}_${s}`,[n,r]=ee.useState(()=>{if(typeof window>"u")return tu;try{const c=localStorage.getItem(e);if(c)return{...tu,...JSON.parse(c)}}catch(c){console.error("Erro ao carregar filtros:",c)}return tu});ee.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(e,JSON.stringify(n))}catch(c){console.error("Erro ao salvar filtros:",c)}},[n,e]);const o=ee.useCallback(c=>{r(c)},[]),u=ee.useCallback(()=>{r(tu)},[]);return{filters:n,setFilters:o,clearFilters:u,defaultFilters:tu}}function LO(s,e=!0){const n=ee.useCallback(r=>{var c,m,g,p,v,T;const o=r.target;if(o.tagName==="INPUT"||o.tagName==="TEXTAREA"||o.tagName==="SELECT"||o.isContentEditable){r.key==="Escape"&&s.onEscape&&s.onEscape();return}const u=r.ctrlKey||r.metaKey;if(u){switch(r.key.toLowerCase()){case"n":r.preventDefault(),(c=s.onAddTransaction)==null||c.call(s);break;case"e":r.preventDefault(),(m=s.onExport)==null||m.call(s);break;case"s":r.preventDefault(),(g=s.onSync)==null||g.call(s);break}return}switch(r.key){case"Escape":(p=s.onEscape)==null||p.call(s);break;case"1":case"2":case"3":(v=s.onToggleView)==null||v.call(s);break;case"r":u||(T=s.onOpenRecurring)==null||T.call(s);break}},[s]);ee.useEffect(()=>{if(e)return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[n,e])}const UO=[{keys:"Ctrl+N",action:"Novo lanamento"},{keys:"Ctrl+E",action:"Exportar"},{keys:"Ctrl+S",action:"Sincronizar"},{keys:"R",action:"Contas fixas"},{keys:"ESC",action:"Fechar modal"}];function ks(s){return Array.isArray?Array.isArray(s):Wb(s)==="[object Array]"}function PO(s){if(typeof s=="string")return s;let e=s+"";return e=="0"&&1/s==-1/0?"-0":e}function zO(s){return s==null?"":PO(s)}function Ki(s){return typeof s=="string"}function Xb(s){return typeof s=="number"}function jO(s){return s===!0||s===!1||BO(s)&&Wb(s)=="[object Boolean]"}function $b(s){return typeof s=="object"}function BO(s){return $b(s)&&s!==null}function zn(s){return s!=null}function Hm(s){return!s.trim().length}function Wb(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const FO="Incorrect 'index' type",qO=s=>`Invalid value for key ${s}`,HO=s=>`Pattern length exceeds max of ${s}.`,GO=s=>`Missing ${s} property in key`,KO=s=>`Property 'weight' in key '${s}' must be a positive integer`,YE=Object.prototype.hasOwnProperty;class QO{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let o=Jb(r);this._keys.push(o),this._keyMap[o.id]=o,n+=o.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Jb(s){let e=null,n=null,r=null,o=1,u=null;if(Ki(s)||ks(s))r=s,e=XE(s),n=vg(s);else{if(!YE.call(s,"name"))throw new Error(GO("name"));const c=s.name;if(r=c,YE.call(s,"weight")&&(o=s.weight,o<=0))throw new Error(KO(c));e=XE(c),n=vg(c),u=s.getFn}return{path:e,id:n,weight:o,src:r,getFn:u}}function XE(s){return ks(s)?s:s.split(".")}function vg(s){return ks(s)?s.join("."):s}function YO(s,e){let n=[],r=!1;const o=(u,c,m)=>{if(zn(u))if(!c[m])n.push(u);else{let g=c[m];const p=u[g];if(!zn(p))return;if(m===c.length-1&&(Ki(p)||Xb(p)||jO(p)))n.push(zO(p));else if(ks(p)){r=!0;for(let v=0,T=p.length;v<T;v+=1)o(p[v],c,m+1)}else c.length&&o(p,c,m+1)}};return o(s,Ki(e)?e.split("."):e,0),r?n:n[0]}const XO={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},$O={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,e)=>s.score===e.score?s.idx<e.idx?-1:1:s.score<e.score?-1:1},WO={location:0,threshold:.6,distance:100},JO={useExtendedSearch:!1,getFn:YO,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var we={...$O,...XO,...WO,...JO};const ZO=/[^ ]+/g;function eM(s=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(o){const u=o.match(ZO).length;if(n.has(u))return n.get(u);const c=1/Math.pow(u,.5*s),m=parseFloat(Math.round(c*r)/r);return n.set(u,m),m},clear(){n.clear()}}}class Op{constructor({getFn:e=we.getFn,fieldNormWeight:n=we.fieldNormWeight}={}){this.norm=eM(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ki(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();Ki(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!zn(e)||Hm(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((o,u)=>{let c=o.getFn?o.getFn(e):this.getFn(e,o.path);if(zn(c)){if(ks(c)){let m=[];const g=[{nestedArrIndex:-1,value:c}];for(;g.length;){const{nestedArrIndex:p,value:v}=g.pop();if(zn(v))if(Ki(v)&&!Hm(v)){let T={v,i:p,n:this.norm.get(v)};m.push(T)}else ks(v)&&v.forEach((T,A)=>{g.push({nestedArrIndex:A,value:T})})}r.$[u]=m}else if(Ki(c)&&!Hm(c)){let m={v:c,n:this.norm.get(c)};r.$[u]=m}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function Zb(s,e,{getFn:n=we.getFn,fieldNormWeight:r=we.fieldNormWeight}={}){const o=new Op({getFn:n,fieldNormWeight:r});return o.setKeys(s.map(Jb)),o.setSources(e),o.create(),o}function tM(s,{getFn:e=we.getFn,fieldNormWeight:n=we.fieldNormWeight}={}){const{keys:r,records:o}=s,u=new Op({getFn:e,fieldNormWeight:n});return u.setKeys(r),u.setIndexRecords(o),u}function yh(s,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:o=we.distance,ignoreLocation:u=we.ignoreLocation}={}){const c=e/s.length;if(u)return c;const m=Math.abs(r-n);return o?c+m/o:m?1:c}function nM(s=[],e=we.minMatchCharLength){let n=[],r=-1,o=-1,u=0;for(let c=s.length;u<c;u+=1){let m=s[u];m&&r===-1?r=u:!m&&r!==-1&&(o=u-1,o-r+1>=e&&n.push([r,o]),r=-1)}return s[u-1]&&u-r>=e&&n.push([r,u-1]),n}const va=32;function iM(s,e,n,{location:r=we.location,distance:o=we.distance,threshold:u=we.threshold,findAllMatches:c=we.findAllMatches,minMatchCharLength:m=we.minMatchCharLength,includeMatches:g=we.includeMatches,ignoreLocation:p=we.ignoreLocation}={}){if(e.length>va)throw new Error(HO(va));const v=e.length,T=s.length,A=Math.max(0,Math.min(r,T));let N=u,P=A;const K=m>1||g,G=K?Array(T):[];let se;for(;(se=s.indexOf(e,P))>-1;){let I=yh(e,{currentLocation:se,expectedLocation:A,distance:o,ignoreLocation:p});if(N=Math.min(I,N),P=se+v,K){let C=0;for(;C<v;)G[se+C]=1,C+=1}}P=-1;let ie=[],oe=1,re=v+T;const Re=1<<v-1;for(let I=0;I<v;I+=1){let C=0,w=re;for(;C<w;)yh(e,{errors:I,currentLocation:A+w,expectedLocation:A,distance:o,ignoreLocation:p})<=N?C=w:re=w,w=Math.floor((re-C)/2+C);re=w;let O=Math.max(1,A-w+1),M=c?T:Math.min(A+w,T)+v,L=Array(M+2);L[M+1]=(1<<I)-1;for(let Ve=M;Ve>=O;Ve-=1){let et=Ve-1,Q=n[s.charAt(et)];if(K&&(G[et]=+!!Q),L[Ve]=(L[Ve+1]<<1|1)&Q,I&&(L[Ve]|=(ie[Ve+1]|ie[Ve])<<1|1|ie[Ve+1]),L[Ve]&Re&&(oe=yh(e,{errors:I,currentLocation:et,expectedLocation:A,distance:o,ignoreLocation:p}),oe<=N)){if(N=oe,P=et,P<=A)break;O=Math.max(1,2*A-P)}}if(yh(e,{errors:I+1,currentLocation:A,expectedLocation:A,distance:o,ignoreLocation:p})>N)break;ie=L}const Ee={isMatch:P>=0,score:Math.max(.001,oe)};if(K){const I=nM(G,m);I.length?g&&(Ee.indices=I):Ee.isMatch=!1}return Ee}function sM(s){let e={};for(let n=0,r=s.length;n<r;n+=1){const o=s.charAt(n);e[o]=(e[o]||0)|1<<r-n-1}return e}const Xh=String.prototype.normalize?(s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(s=>s);class eS{constructor(e,{location:n=we.location,threshold:r=we.threshold,distance:o=we.distance,includeMatches:u=we.includeMatches,findAllMatches:c=we.findAllMatches,minMatchCharLength:m=we.minMatchCharLength,isCaseSensitive:g=we.isCaseSensitive,ignoreDiacritics:p=we.ignoreDiacritics,ignoreLocation:v=we.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:o,includeMatches:u,findAllMatches:c,minMatchCharLength:m,isCaseSensitive:g,ignoreDiacritics:p,ignoreLocation:v},e=g?e:e.toLowerCase(),e=p?Xh(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const T=(N,P)=>{this.chunks.push({pattern:N,alphabet:sM(N),startIndex:P})},A=this.pattern.length;if(A>va){let N=0;const P=A%va,K=A-P;for(;N<K;)T(this.pattern.substr(N,va),N),N+=va;if(P){const G=A-va;T(this.pattern.substr(G),G)}}else T(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:o}=this.options;if(e=n?e:e.toLowerCase(),e=r?Xh(e):e,this.pattern===e){let K={isMatch:!0,score:0};return o&&(K.indices=[[0,e.length-1]]),K}const{location:u,distance:c,threshold:m,findAllMatches:g,minMatchCharLength:p,ignoreLocation:v}=this.options;let T=[],A=0,N=!1;this.chunks.forEach(({pattern:K,alphabet:G,startIndex:se})=>{const{isMatch:ie,score:oe,indices:re}=iM(e,K,G,{location:u+se,distance:c,threshold:m,findAllMatches:g,minMatchCharLength:p,includeMatches:o,ignoreLocation:v});ie&&(N=!0),A+=oe,ie&&re&&(T=[...T,...re])});let P={isMatch:N,score:N?A/this.chunks.length:1};return N&&o&&(P.indices=T),P}}class jr{constructor(e){this.pattern=e}static isMultiMatch(e){return $E(e,this.multiRegex)}static isSingleMatch(e){return $E(e,this.singleRegex)}search(){}}function $E(s,e){const n=s.match(e);return n?n[1]:null}class rM extends jr{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class aM extends jr{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class oM extends jr{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class lM extends jr{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class uM extends jr{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class cM extends jr{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class tS extends jr{constructor(e,{location:n=we.location,threshold:r=we.threshold,distance:o=we.distance,includeMatches:u=we.includeMatches,findAllMatches:c=we.findAllMatches,minMatchCharLength:m=we.minMatchCharLength,isCaseSensitive:g=we.isCaseSensitive,ignoreDiacritics:p=we.ignoreDiacritics,ignoreLocation:v=we.ignoreLocation}={}){super(e),this._bitapSearch=new eS(e,{location:n,threshold:r,distance:o,includeMatches:u,findAllMatches:c,minMatchCharLength:m,isCaseSensitive:g,ignoreDiacritics:p,ignoreLocation:v})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class nS extends jr{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const o=[],u=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+u,o.push([r,n-1]);const c=!!o.length;return{isMatch:c,score:c?0:1,indices:o}}}const Eg=[rM,nS,oM,lM,cM,uM,aM,tS],WE=Eg.length,hM=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,fM="|";function dM(s,e={}){return s.split(fM).map(n=>{let r=n.trim().split(hM).filter(u=>u&&!!u.trim()),o=[];for(let u=0,c=r.length;u<c;u+=1){const m=r[u];let g=!1,p=-1;for(;!g&&++p<WE;){const v=Eg[p];let T=v.isMultiMatch(m);T&&(o.push(new v(T,e)),g=!0)}if(!g)for(p=-1;++p<WE;){const v=Eg[p];let T=v.isSingleMatch(m);if(T){o.push(new v(T,e));break}}}return o})}const mM=new Set([tS.type,nS.type]);class gM{constructor(e,{isCaseSensitive:n=we.isCaseSensitive,ignoreDiacritics:r=we.ignoreDiacritics,includeMatches:o=we.includeMatches,minMatchCharLength:u=we.minMatchCharLength,ignoreLocation:c=we.ignoreLocation,findAllMatches:m=we.findAllMatches,location:g=we.location,threshold:p=we.threshold,distance:v=we.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:o,minMatchCharLength:u,findAllMatches:m,ignoreLocation:c,location:g,threshold:p,distance:v},e=n?e:e.toLowerCase(),e=r?Xh(e):e,this.pattern=e,this.query=dM(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:o,ignoreDiacritics:u}=this.options;e=o?e:e.toLowerCase(),e=u?Xh(e):e;let c=0,m=[],g=0;for(let p=0,v=n.length;p<v;p+=1){const T=n[p];m.length=0,c=0;for(let A=0,N=T.length;A<N;A+=1){const P=T[A],{isMatch:K,indices:G,score:se}=P.search(e);if(K){if(c+=1,g+=se,r){const ie=P.constructor.type;mM.has(ie)?m=[...m,...G]:m.push(G)}}else{g=0,c=0,m.length=0;break}}if(c){let A={isMatch:!0,score:g/c};return r&&(A.indices=m),A}}return{isMatch:!1,score:1}}}const Tg=[];function pM(...s){Tg.push(...s)}function Ag(s,e){for(let n=0,r=Tg.length;n<r;n+=1){let o=Tg[n];if(o.condition(s,e))return new o(s,e)}return new eS(s,e)}const $h={AND:"$and",OR:"$or"},bg={PATH:"$path",PATTERN:"$val"},Sg=s=>!!(s[$h.AND]||s[$h.OR]),yM=s=>!!s[bg.PATH],_M=s=>!ks(s)&&$b(s)&&!Sg(s),JE=s=>({[$h.AND]:Object.keys(s).map(e=>({[e]:s[e]}))});function iS(s,e,{auto:n=!0}={}){const r=o=>{let u=Object.keys(o);const c=yM(o);if(!c&&u.length>1&&!Sg(o))return r(JE(o));if(_M(o)){const g=c?o[bg.PATH]:u[0],p=c?o[bg.PATTERN]:o[g];if(!Ki(p))throw new Error(qO(g));const v={keyId:vg(g),pattern:p};return n&&(v.searcher=Ag(p,e)),v}let m={children:[],operator:u[0]};return u.forEach(g=>{const p=o[g];ks(p)&&p.forEach(v=>{m.children.push(r(v))})}),m};return Sg(s)||(s=JE(s)),r(s)}function vM(s,{ignoreFieldNorm:e=we.ignoreFieldNorm}){s.forEach(n=>{let r=1;n.matches.forEach(({key:o,norm:u,score:c})=>{const m=o?o.weight:null;r*=Math.pow(c===0&&m?Number.EPSILON:c,(m||1)*(e?1:u))}),n.score=r})}function EM(s,e){const n=s.matches;e.matches=[],zn(n)&&n.forEach(r=>{if(!zn(r.indices)||!r.indices.length)return;const{indices:o,value:u}=r;let c={indices:o,value:u};r.key&&(c.key=r.key.src),r.idx>-1&&(c.refIndex=r.idx),e.matches.push(c)})}function TM(s,e){e.score=s.score}function AM(s,e,{includeMatches:n=we.includeMatches,includeScore:r=we.includeScore}={}){const o=[];return n&&o.push(EM),r&&o.push(TM),s.map(u=>{const{idx:c}=u,m={item:e[c],refIndex:c};return o.length&&o.forEach(g=>{g(u,m)}),m})}class Xo{constructor(e,n={},r){this.options={...we,...n},this.options.useExtendedSearch,this._keyStore=new QO(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof Op))throw new Error(FO);this._myIndex=n||Zb(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){zn(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,o=this._docs.length;r<o;r+=1){const u=this._docs[r];e(u,r)&&(this.removeAt(r),r-=1,o-=1,n.push(u))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:o,shouldSort:u,sortFn:c,ignoreFieldNorm:m}=this.options;let g=Ki(e)?Ki(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return vM(g,{ignoreFieldNorm:m}),u&&g.sort(c),Xb(n)&&n>-1&&(g=g.slice(0,n)),AM(g,this._docs,{includeMatches:r,includeScore:o})}_searchStringList(e){const n=Ag(e,this.options),{records:r}=this._myIndex,o=[];return r.forEach(({v:u,i:c,n:m})=>{if(!zn(u))return;const{isMatch:g,score:p,indices:v}=n.searchIn(u);g&&o.push({item:u,idx:c,matches:[{score:p,value:u,norm:m,indices:v}]})}),o}_searchLogical(e){const n=iS(e,this.options),r=(m,g,p)=>{if(!m.children){const{keyId:T,searcher:A}=m,N=this._findMatches({key:this._keyStore.get(T),value:this._myIndex.getValueForItemAtKeyId(g,T),searcher:A});return N&&N.length?[{idx:p,item:g,matches:N}]:[]}const v=[];for(let T=0,A=m.children.length;T<A;T+=1){const N=m.children[T],P=r(N,g,p);if(P.length)v.push(...P);else if(m.operator===$h.AND)return[]}return v},o=this._myIndex.records,u={},c=[];return o.forEach(({$:m,i:g})=>{if(zn(m)){let p=r(n,m,g);p.length&&(u[g]||(u[g]={idx:g,item:m,matches:[]},c.push(u[g])),p.forEach(({matches:v})=>{u[g].matches.push(...v)}))}}),c}_searchObjectList(e){const n=Ag(e,this.options),{keys:r,records:o}=this._myIndex,u=[];return o.forEach(({$:c,i:m})=>{if(!zn(c))return;let g=[];r.forEach((p,v)=>{g.push(...this._findMatches({key:p,value:c[v],searcher:n}))}),g.length&&u.push({idx:m,item:c,matches:g})}),u}_findMatches({key:e,value:n,searcher:r}){if(!zn(n))return[];let o=[];if(ks(n))n.forEach(({v:u,i:c,n:m})=>{if(!zn(u))return;const{isMatch:g,score:p,indices:v}=r.searchIn(u);g&&o.push({score:p,key:e,value:u,idx:c,norm:m,indices:v})});else{const{v:u,n:c}=n,{isMatch:m,score:g,indices:p}=r.searchIn(u);m&&o.push({score:g,key:e,value:u,norm:c,indices:p})}return o}}Xo.version="7.1.0";Xo.createIndex=Zb;Xo.parseIndex=tM;Xo.config=we;Xo.parseQuery=iS;pM(gM);const bM=[{name:"description",weight:.4},{name:"payee",weight:.3},{name:"accountName",weight:.2},{name:"notes",weight:.1}];function SM(s,e={}){const{threshold:n=.35,minMatchCharLength:r=2,includeScore:o=!1}=e,u=ee.useMemo(()=>new Xo(s,{keys:bM,threshold:n,minMatchCharLength:r,includeScore:o,ignoreLocation:!0,findAllMatches:!0,useExtendedSearch:!0}),[s,n,r,o]),c=ee.useCallback(v=>{if(!v||v.trim().length<r)return s;const T=v.trim();if(/^\d+([.,]\d+)?$/.test(T.replace(/\s/g,""))){parseFloat(T.replace(",","."));const P=s.filter(K=>K.amount.toString().includes(T.replace(",",".")));if(P.length>0)return P}return u.search(T).map(P=>P.item)},[u,s,r]),m=ee.useCallback(v=>{if(!v||v.trim().length<r)return s.map((A,N)=>({item:A,refIndex:N}));const T=v.trim();return u.search(T)},[u,s,r]),g=ee.useCallback(v=>!v||v.trim().length<r?s.length>0:u.search(v.trim()).length>0,[u,s,r]),p=ee.useCallback((v,T=5)=>{if(!v||v.trim().length<2)return[];const A=u.search(v.trim()).slice(0,T),N=new Set;return A.forEach(P=>{N.add(P.item.description),P.item.payee&&N.add(P.item.payee)}),Array.from(N).slice(0,T)},[u]);return{search:c,searchWithScore:m,hasResults:g,getSuggestions:p,totalTransactions:s.length}}const Ih=s=>s.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),pu=s=>{const[e,n,r]=s.split("-").map(Number);return new Date(e,n-1,r,12,0,0)},ZE=s=>{const e=s.getFullYear(),n=String(s.getMonth()+1).padStart(2,"0"),r=String(s.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},wM=s=>pu(s).toLocaleDateString("pt-BR"),RM=(s,e)=>{const n=new Date(s);return n.setMonth(n.getMonth()+e),n};function CM(s,e=[]){var o;const n=[],r=[];if(!s.date)n.push({field:"date",message:"Data  obrigatria",severity:"error"});else{const u=pu(s.date),c=new Date;c.setFullYear(c.getFullYear()-2),u<c&&r.push({field:"date",message:"Data  de mais de 2 anos atrs. Confirma?",severity:"warning"})}return s.amount===void 0||s.amount===null?n.push({field:"amount",message:"Valor  obrigatrio",severity:"error"}):s.amount<0?n.push({field:"amount",message:"Valor no pode ser negativo",severity:"error"}):s.amount===0?r.push({field:"amount",message:"Valor  zero. Confirma?",severity:"warning"}):s.amount>1e6&&r.push({field:"amount",message:"Valor muito alto. Verifique se est correto.",severity:"warning"}),(o=s.description)!=null&&o.trim()||n.push({field:"description",message:"Histrico  obrigatrio",severity:"error"}),s.accountNumber||n.push({field:"accountNumber",message:"Conta  obrigatria",severity:"error"}),s.date&&s.amount&&s.description&&s.accountNumber&&e.some(c=>c.id!==s.id&&c.date===s.date&&c.amount===s.amount&&c.accountNumber===s.accountNumber&&c.description===s.description)&&r.push({field:"duplicate",message:"J existe um lanamento idntico. Pode ser duplicado.",severity:"warning"}),{isValid:n.length===0,errors:n,warnings:r}}const IM=()=>{const s=X1(),[e,n]=ee.useState(null),[r,o]=ee.useState(!0),[u,c]=ee.useState(!1),[m,g]=ee.useState(!1),[p,v]=ee.useState(!1),[T,A]=ee.useState(!1),[N,P]=ee.useState([]),[K,G]=ee.useState([]),[se,ie]=ee.useState([]),[oe,re]=ee.useState(!1),[Re,Ee]=ee.useState(null),[I,C]=ee.useState("dashboard"),[w,O]=ee.useState(!1),[M,L]=ee.useState(!1),[x,Ve]=ee.useState(!1),[et,Q]=ee.useState("desc"),{filters:te,setFilters:pe,clearFilters:Pe}=VO((e==null?void 0:e.uid)||"guest"),Be=OO(te.searchTerm,300),k=ee.useCallback(async()=>{if(!e)return;const[ce,he,me]=await Promise.all([xe.getTransactions(e.uid),xe.getAccounts(e.uid),xe.getRecurringTransactions(e.uid)]);P(ce),G(he.sort((Ie,ye)=>Ie.number-ye.number)),ie(me)},[e]);ee.useEffect(()=>{const ce=jC(gu,he=>{n(he),o(!1),he||xe.clearMemoryCache()});return()=>ce()},[]),ee.useEffect(()=>{if(!e){P([]),G([]),ie([]),_n.cleanup();return}return(async()=>{c(!0);try{const{transactions:he,accounts:me,recurringTransactions:Ie}=await _n.initialize(e.uid,k,ye=>v(ye),{enableRealtimeListener:!1,transactionLimit:150,daysWindow:90});P(he),G(me.sort((ye,Ye)=>ye.number-Ye.number)),ie(Ie)}catch(he){console.error("Erro ao inicializar dados:",he),s.error("Erro ao carregar dados. Verifique sua conexo.")}finally{c(!1)}})(),()=>_n.cleanup()},[e,k,s]),ee.useEffect(()=>{e&&(I==="list"?_n.enableRealtimeUpdates():_n.disableRealtimeUpdates())},[I,e]);const{search:X}=SM(N),ne=ee.useMemo(()=>{let ce=N;return Be&&Be.trim().length>=2&&(ce=X(Be)),ce.filter(he=>{const me=!te.type||he.type===te.type,Ie=!te.accountId||he.accountNumber===parseInt(te.accountId),ye=(!te.startDate||he.date>=te.startDate)&&(!te.endDate||he.date<=te.endDate),Ye=!te.pendingReceipt||he.receiptStatus===ri.HAS_BUT_NOT_ATTACHED;return me&&Ie&&ye&&Ye})},[N,Be,X,te.type,te.accountId,te.startDate,te.endDate,te.pendingReceipt]),le=ee.useMemo(()=>ne.filter(ce=>!ce.isContaTiti||te.includeContaTiti),[ne,te.includeContaTiti]),Te=ee.useMemo(()=>{const ce=[...ne].sort((he,me)=>he.date.localeCompare(me.date));return et==="asc"?ce:ce.reverse()},[ne,et]),Ce=MO(Te,{initialPageSize:50}),{totalEntradas:Ue,totalSaidas:yt,margem:ht}=ee.useMemo(()=>{let ce=0,he=0;for(const me of le)lT(me)?ce+=me.amount:cv(me)&&(he+=me.amount);return{totalEntradas:ce,totalSaidas:he,margem:ce-he}},[le]),ns=ee.useMemo(()=>{const ce=new Map,he=[];return ne.forEach(me=>{const Ie=me.irCategory??"NAO_CLASSIFICADO",ye=me.irCategory&&me.irCategory!==_i.NAO_DEDUTIVEL;if(ye){const At=Ie,_t=ce.get(At)||{categoria:At,total:0,count:0};_t.total+=me.amount,_t.count+=1,ce.set(At,_t)}ye&&cv(me)&&me.receiptStatus!==ri.ATTACHED&&me.receiptStatus!==ri.NOT_REQUIRED&&he.push(me)}),{resumoArray:Array.from(ce.values()).sort((me,Ie)=>Ie.total-me.total),pendentesComprovante:he}},[ne]),Ls=ee.useMemo(()=>{const ce=new Map;return ne.forEach(he=>{if(he.invoiceId){const me=ce.get(he.invoiceId)||[];me.push(he),ce.set(he.invoiceId,me)}}),ce},[ne]),Us=ee.useCallback(async()=>{_n.cleanup(),xe.clearMemoryCache(),await BC(gu)},[]),Ai=ee.useCallback(async()=>{if(!(!e||m)){g(!0);try{const{transactions:ce,accounts:he,recurringTransactions:me,throttled:Ie}=await _n.forceFullSync(e.uid,{transactionLimit:200,daysWindow:120});P(ce),G(he.sort((ye,Ye)=>ye.number-Ye.number)),ie(me),Ie?s.info("Sincronizao muito frequente. Aguarde uns instantes."):s.success("Dados sincronizados!")}catch(ce){console.error("Erro ao sincronizar:",ce),s.error("Erro ao sincronizar. Tente novamente.")}finally{g(!1)}}},[e,m,s]),qn=ee.useCallback(async()=>{if(!e||T)return;const ce=N.map(Ie=>new Date(Ie.date).getTime()).filter(Ie=>!isNaN(Ie));if(ce.length===0)return;const he=Math.min(...ce),me=new Date(he).toISOString().split("T")[0];A(!0);try{const Ie=await _n.loadOlderTransactions(e.uid,me);Ie.length>0?(P(ye=>{const Ye=new Set(ye.map(_t=>_t.id)),At=Ie.filter(_t=>!Ye.has(_t.id));return[...ye,...At]}),s.success(`${Ie.length} lanamentos antigos carregados.`)):s.info("No h mais lanamentos para carregar.")}catch(Ie){console.error("Erro ao carregar mais:",Ie),s.error("Erro ao carregar histrico.")}finally{A(!1)}},[e,N,T,s]),is=ee.useCallback(()=>{Ee(null),re(!0)},[]),ss=ee.useCallback(ce=>{Ee(ce),re(!0)},[]),Br=ee.useCallback(async(ce,he=!1)=>{if(!(!e||ce.length===0))try{let me=[...ce];if(he){const Ie=new Set;if(ce.forEach(ye=>{const Ye=N.find(At=>At.id===ye);Ye!=null&&Ye.seriesId&&Ie.add(Ye.seriesId)}),Ie.size>0){const Ye=N.filter(At=>At.seriesId&&Ie.has(At.seriesId)).map(At=>At.id);me=Array.from(new Set([...me,...Ye]))}}await _n.deleteTransactionsBatch(me,e.uid),P(Ie=>Ie.filter(ye=>!me.includes(ye.id))),s.success(me.length>1?`${me.length} lanamentos excludos!`:"Lanamento excludo!")}catch(me){console.error("Erro ao excluir:",me),s.error("Erro ao excluir.")}},[e,N,s]),Fr=ee.useCallback(async ce=>{var At;if(!e)return;const{transaction:he,installmentsCount:me=1,firstInstallmentDate:Ie,updateScope:ye="single"}=ce,Ye=CM(he,N);if(!Ye.isValid){s.error(((At=Ye.errors[0])==null?void 0:At.message)||"Dados invlidos");return}if(!(Ye.warnings.length>0&&!window.confirm(`Avisos:
${Ye.warnings.map(Hn=>` ${Hn.message}`).join(`
`)}

Deseja continuar?`)))try{const _t=[],Hn=[];if(Re)_t.push({...he,id:Re.id});else if(me>1){const Zt=pu(Ie||he.date),vt=Oo(),Dt=Math.round(he.amount*100),ut=Math.floor(Dt/me),Ps=Dt-ut*me;for(let Gn=0;Gn<me;Gn++){const Pa=RM(Zt,Gn);let xn=ut;Gn===me-1&&(xn+=Ps);const rs=xn/100;_t.push({...he,id:Oo(),seriesId:vt,date:ZE(Pa),description:`${he.description} (${Gn+1}/${me})`,amount:rs})}}else{const Zt=he.id||Oo();_t.push({...he,id:Zt})}Hn.length>0&&await _n.deleteTransactionsBatch(Hn,e.uid),_t.length>0&&await _n.saveTransactionsBatch(_t,e.uid),P(Zt=>{let vt=Zt.filter(Dt=>!Hn.includes(Dt.id));return _t.forEach(Dt=>{const ut=vt.findIndex(Ps=>Ps.id===Dt.id);ut>=0?vt[ut]=Dt:vt.push(Dt)}),vt}),Ee(null),s.success(Re?"Atualizado!":"Salvo!")}catch(_t){console.error("Erro ao salvar:",_t),s.error("Erro ao salvar.")}},[e,Re,N,s]),St=ee.useCallback(async(ce,he)=>{if(!e)return;const me=new Set(N.filter(ye=>{const Ye=pu(ye.date);return Ye.getFullYear()===ce&&Ye.getMonth()===he-1}).map(ye=>`${pu(ye.date).getDate()}-${ye.accountNumber}-${ye.amount}-${ye.description}`)),Ie=[];se.forEach(ye=>{const Ye=new Date(ce,he,0).getDate(),At=Math.min(ye.dayOfMonth,Ye),_t=new Date(ce,he-1,At,12,0,0),Hn=`${At}-${ye.accountNumber}-${ye.amount}-${ye.description}`;me.has(Hn)||Ie.push({id:Oo(),date:ZE(_t),type:ye.type,accountNumber:ye.accountNumber,accountName:ye.accountName,description:ye.description,amount:ye.amount,payee:ye.payee,paymentMethod:ye.paymentMethod,irCategory:ye.irCategory})}),Ie.length>0?(await _n.saveTransactionsBatch(Ie,e.uid),P(ye=>[...ye,...Ie]),s.success(`${Ie.length} lanamento(s) gerado(s)!`)):s.info("Nenhum novo lanamento para gerar.")},[e,N,se,s]),xt=ee.useCallback(async ce=>{if(e)try{const he=ce.id||Oo(),me={...ce,id:he};await _n.saveRecurringTransaction(me,e.uid),ie(Ie=>{const ye=Ie.findIndex(Ye=>Ye.id===he);if(ye>=0){const Ye=[...Ie];return Ye[ye]=me,Ye}return[...Ie,me]}),s.success("Conta fixa salva!")}catch(he){console.error(he),s.error("Erro ao salvar conta fixa.")}},[e,s]),bi=ee.useCallback(async ce=>{if(e)try{await _n.deleteRecurringTransaction(ce,e.uid),ie(he=>he.filter(me=>me.id!==ce)),s.success("Conta fixa excluda!")}catch(he){console.error(he),s.error("Erro ao excluir.")}},[e,s]),$o=ee.useCallback(async ce=>{e&&(await _n.saveTransactionsBatch(ce.transactions,e.uid),P(ce.transactions),G(ce.accounts),ie(ce.recurringTransactions),s.success("Backup restaurado (parcial - verifique sync)!"))},[e,s]),Ua=ee.useMemo(()=>({onAddTransaction:is,onToggleView:()=>{C(ce=>{const he=["dashboard","irpf","list","cashflow"],me=he.indexOf(ce);return he[(me+1)%he.length]})},onOpenRecurring:()=>O(!0),onExport:()=>L(!0),onSync:Ai,onEscape:()=>{re(!1),O(!1),L(!1),Ve(!1)}}),[is,Ai]);return LO(Ua,!oe&&!w),{user:e,authLoading:r,dataLoading:u,isSyncing:m,transactions:N,accounts:K,recurringTransactions:se,setRecurringTransactions:ie,filteredTransactions:ne,sortedTransactions:Te,pagination:Ce,totalEntradas:Ue,totalSaidas:yt,margem:ht,invoiceGroups:Ls,irpfResumo:ns,filters:te,setFilters:pe,clearFilters:Pe,isFormOpen:oe,setIsFormOpen:re,transactionToEdit:Re,setTransactionToEdit:Ee,activeView:I,setActiveView:C,isRecurringModalOpen:w,setIsRecurringModalOpen:O,isExportModalOpen:M,setIsExportModalOpen:L,isBackupModalOpen:x,setIsBackupModalOpen:Ve,sortOrder:et,setSortOrder:Q,handleSignOut:Us,handleForceSync:Ai,handleAddTransaction:is,handleEditTransaction:ss,handleDeleteTransactions:Br,handleSaveTransaction:Fr,handleGenerateRecurring:St,handleSaveRecurring:xt,handleDeleteRecurring:bi,handleRestore:$o,handleLoadMore:qn,isLoadingMore:T,isBackgroundSyncing:p,chartTransactions:le}};class xM extends ee.Component{constructor(e){super(e),this.handleReload=()=>{window.location.reload()},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){this.setState({errorInfo:n}),console.error("ErrorBoundary caught an error:",e,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:R.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center p-4",children:R.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[R.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 dark:bg-red-900/30 rounded-full mb-4",children:R.jsx("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),R.jsx("h1",{className:"text-xl font-semibold text-center text-gray-900 dark:text-white mb-2",children:"Algo deu errado"}),R.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center mb-4",children:"Ocorreu um erro inesperado no aplicativo. Por favor, tente recarregar a pgina."}),!1,R.jsxs("div",{className:"flex gap-3",children:[R.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Tentar novamente"}),R.jsx("button",{onClick:this.handleReload,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors",children:"Recarregar pgina"})]}),R.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 text-center mt-4",children:"Se o problema persistir, entre em contato com o suporte."})]})}):this.props.children}}const DM=({className:s})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),NM=({className:s})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"})}),OM=({className:s})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),MM=({className:s})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),kM=({className:s})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),VM=({className:s})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M19 3v4M17 5h4M14 7l-1.293-1.293a1 1 0 00-1.414 0L10 7l-1.293-1.293a1 1 0 00-1.414 0L6 7m12 10l-1.293 1.293a1 1 0 01-1.414 0L14 17l-1.293 1.293a1 1 0 01-1.414 0L10 17l-1.293 1.293a1 1 0 01-1.414 0L6 17"})}),LM=({className:s})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),UM=({className:s})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),PM=({className:s})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),zM=({className:s})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),jM=()=>{const[s,e]=ee.useState(!1),[n,r]=ee.useState(""),[o,u]=ee.useState(""),[c,m]=ee.useState(!1),[g,p]=ee.useState(""),v=async A=>{A.preventDefault(),m(!0),p("");try{s?await LC(gu,n,o):await UC(gu,n,o)}catch(N){console.error("Erro Auth:",N);let P="Ocorreu um erro. Tente novamente.";N.code==="auth/invalid-email"?P="E-mail invlido.":N.code==="auth/user-disabled"?P="Usurio desativado.":N.code==="auth/user-not-found"?P="Usurio no encontrado.":N.code==="auth/wrong-password"?P="Senha incorreta.":N.code==="auth/email-already-in-use"?P="Este e-mail j est cadastrado.":N.code==="auth/weak-password"?P="A senha deve ter pelo menos 6 caracteres.":N.code==="auth/operation-not-allowed"?P="Login por E-mail/Senha no ativado no Firebase Console.":N.code==="auth/network-request-failed"&&(P="Erro de conexo. Verifique sua internet."),p(P)}finally{m(!1)}},T=async()=>{m(!0);try{await oI(gu,IO)}catch(A){console.error("Erro Google:",A),A.code==="auth/unauthorized-domain"?p("O domnio deste site no est autorizado no Firebase. Use E-mail e Senha."):p(A.message)}finally{m(!1)}};return R.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 p-4",children:R.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-white dark:bg-gray-800 rounded-xl shadow-2xl",children:[R.jsxs("div",{className:"text-center",children:[R.jsx("div",{className:"mx-auto h-12 w-12 text-indigo-600 dark:text-indigo-400 flex justify-center",children:R.jsx(VM,{className:"w-12 h-12"})}),R.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900 dark:text-white",children:s?"Criar Conta":"Acessar Sistema"}),R.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Livro Caixa Inteligente"})]}),R.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[g&&R.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative text-sm",role:"alert",children:R.jsx("span",{className:"block sm:inline",children:g})}),R.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Endereo de Email"}),R.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:A=>r(A.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 dark:border-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white dark:bg-gray-700 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Endereo de Email"})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"password",className:"sr-only",children:"Senha"}),R.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:o,onChange:A=>u(A.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 dark:border-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white dark:bg-gray-700 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Senha"})]})]}),R.jsx("div",{children:R.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400",children:c?"Processando...":s?"Cadastrar":"Entrar"})})]}),R.jsx("div",{className:"mt-4 text-center",children:R.jsx("button",{onClick:()=>e(!s),className:"text-sm font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",children:s?"J tem uma conta? Faa Login":"No tem conta? Cadastre-se"})}),R.jsxs("div",{className:"relative mt-6",children:[R.jsx("div",{className:"absolute inset-0 flex items-center",children:R.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),R.jsx("div",{className:"relative flex justify-center text-sm",children:R.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500",children:"Opes alternativas"})})]}),R.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:R.jsx("button",{onClick:T,className:"w-full flex justify-center py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-sm font-medium text-gray-700 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-600",children:"Tentar com Google"})})]})})},BM=({filters:s,onFilterChange:e,accounts:n,onClear:r})=>{const[o,u]=ee.useState(!1),c=ee.useCallback(p=>{const{name:v,value:T}=p.target;e(A=>({...A,[v]:T}))},[e]),m=ee.useCallback(()=>{r?r():e({searchTerm:"",type:"",accountId:"",startDate:"",endDate:""})},[r,e]),g=[s.searchTerm,s.type,s.accountId,s.startDate,s.endDate,s.includeContaTiti,s.pendingReceipt].filter(Boolean).length;return R.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow mb-6",children:[R.jsxs("div",{className:"flex justify-between items-center md:hidden mb-2",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Filtros"}),g>0&&R.jsx("span",{className:"px-2 py-0.5 text-xs bg-indigo-100 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-300 rounded-full",children:g})]}),R.jsxs("button",{onClick:()=>u(!o),className:"flex items-center text-indigo-600 dark:text-indigo-400 text-sm",children:[R.jsx(PM,{className:"w-4 h-4 mr-1"}),o?"Ocultar":"Mostrar"]})]}),R.jsxs("div",{className:`${o?"block":"hidden"} md:block space-y-4`,children:[R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-3",children:[R.jsxs("div",{className:"relative",children:[R.jsx("input",{type:"text",name:"searchTerm",value:s.searchTerm,onChange:c,placeholder:"Buscar...",className:"w-full p-2 pl-8 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm"}),R.jsx("svg",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),R.jsxs("select",{name:"type",value:s.type,onChange:c,className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm",children:[R.jsx("option",{value:"",children:"Todos os Tipos"}),R.jsx("option",{value:"Entrada",children:"Entrada"}),R.jsx("option",{value:"Saida",children:"Sada"})]}),R.jsxs("select",{name:"accountId",value:s.accountId,onChange:c,className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm",children:[R.jsx("option",{value:"",children:"Todas as Contas"}),n.map(p=>R.jsxs("option",{value:p.number,children:[p.number," - ",p.name]},p.id))]}),R.jsx("input",{type:"date",name:"startDate",value:s.startDate,onChange:c,placeholder:"Data incio",className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm [color-scheme:dark]"}),R.jsx("input",{type:"date",name:"endDate",value:s.endDate,onChange:c,placeholder:"Data fim",className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm [color-scheme:dark]"})]}),R.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[R.jsxs("label",{className:"flex items-center text-sm text-gray-700 dark:text-gray-300",children:[R.jsx("input",{type:"checkbox",name:"includeContaTiti",checked:!!s.includeContaTiti,onChange:p=>e(v=>({...v,includeContaTiti:p.target.checked})),className:"mr-2 rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"}),"Incluir Conta Titi (Grficos/Totais)"]}),R.jsxs("label",{className:"flex items-center text-sm text-gray-700 dark:text-gray-300",children:[R.jsx("input",{type:"checkbox",name:"pendingReceipt",checked:!!s.pendingReceipt,onChange:p=>e(v=>({...v,pendingReceipt:p.target.checked})),className:"mr-2 rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"}),"Pendente Comprovante (Tenho, mas no anexei)"]})]}),R.jsx("div",{className:"flex justify-end",children:R.jsxs("button",{onClick:m,disabled:g===0,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-gray-200 dark:bg-gray-600 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 disabled:opacity-50 disabled:cursor-not-allowed",children:["Limpar Filtros",g>0&&` (${g})`]})})]})]})},FM=({onSignOut:s,onOpenBackup:e,onForceSync:n,isSyncing:r,isBackgroundSyncing:o=!1,onExport:u,activeView:c,setActiveView:m,onOpenRecurring:g,onAddTransaction:p})=>{const[v,T]=ee.useState(!1);return R.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-md sticky top-0 z-40",children:[R.jsxs("div",{className:"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex flex-col sm:flex-row justify-between items-center space-y-3 sm:space-y-0",children:[R.jsxs("div",{className:"flex w-full sm:w-auto justify-between items-center",children:[R.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-indigo-600 dark:text-indigo-400 truncate",children:"Livro Caixa"}),R.jsxs("div",{className:"sm:hidden flex items-center gap-2",children:[R.jsx("button",{onClick:()=>T(!v),className:"text-xs text-gray-500 dark:text-gray-400",title:"Atalhos",children:""}),R.jsx("button",{onClick:s,className:"text-xs text-gray-500 hover:text-red-500",children:"Sair"})]})]}),R.jsxs("div",{className:"flex items-center w-full sm:w-auto justify-around sm:justify-end sm:space-x-2",children:[R.jsx("button",{onClick:s,className:"hidden sm:block text-xs text-gray-500 hover:text-red-500 mr-2",children:"Sair"}),R.jsx("button",{onClick:()=>T(!v),className:"hidden sm:block p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700",title:"Atalhos (?)",children:R.jsx("span",{className:"text-sm",children:""})}),R.jsx("button",{onClick:e,className:"p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700",title:"Backup/Restaurar",children:""}),R.jsx("button",{onClick:n,disabled:r,className:`p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 ${r?"animate-spin":""}`,title:"Sincronizar (Ctrl+S)",children:R.jsx(zM,{className:`w-6 h-6 ${o?"animate-spin text-green-500":""}`})}),R.jsx("button",{onClick:u,className:"p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700",title:"Exportar (Ctrl+E)",children:R.jsx(UM,{className:"w-6 h-6"})}),["dashboard","cashflow","irpf","list"].map(A=>R.jsxs("button",{onClick:()=>m(A),className:`p-2 rounded-md ${c===A?"bg-indigo-100 dark:bg-indigo-900 text-indigo-600":"hover:bg-gray-200 dark:hover:bg-gray-700"}`,title:A==="dashboard"?"Dashboard":A==="cashflow"?"Fluxo de Caixa":A==="irpf"?"IRPF":"Lista",children:[A==="dashboard"&&R.jsx(MM,{className:"w-6 h-6"}),A==="cashflow"&&R.jsx("span",{className:"text-sm",children:""}),A==="irpf"&&R.jsx("span",{className:"text-sm font-medium",children:"IR"}),A==="list"&&R.jsx(kM,{className:"w-6 h-6"})]},A)),R.jsxs("button",{onClick:g,className:"flex items-center bg-gray-600 text-white px-3 py-2 rounded-md shadow hover:bg-gray-700",title:"Contas Fixas (R)",children:[R.jsx(LM,{className:"w-5 h-5 sm:mr-2"}),R.jsx("span",{className:"hidden sm:inline",children:"Fixas"})]}),R.jsxs("button",{onClick:p,className:"flex items-center bg-indigo-600 text-white px-3 py-2 rounded-md shadow hover:bg-indigo-700",title:"Adicionar (Ctrl+N)",children:[R.jsx(DM,{className:"w-5 h-5 sm:mr-2"}),R.jsx("span",{className:"hidden sm:inline",children:"Novo"})]})]})]}),v&&R.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 px-4 py-2",children:R.jsx("div",{className:"max-w-7xl mx-auto flex flex-wrap gap-4 text-xs text-gray-600 dark:text-gray-400",children:UO.map(A=>R.jsxs("span",{children:[R.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-200 dark:bg-gray-700 rounded",children:A.keys})," ",A.action]},A.keys))})})]})},xh=()=>R.jsx("div",{className:"flex justify-center items-center py-10",children:R.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),qM=ee.lazy(()=>Ma(()=>import("./CustomChartView-CvU4ssdc.js"),__vite__mapDeps([0,1,2,3]))),HM=({totalEntradas:s,totalSaidas:e,margem:n,filteredTransactions:r,accounts:o})=>R.jsxs("div",{className:"space-y-4 mt-4",children:[R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[R.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[R.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Entradas"}),R.jsx("p",{className:"mt-2 text-2xl font-bold text-green-600",children:Ih(s)})]}),R.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[R.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Sadas"}),R.jsx("p",{className:"mt-2 text-2xl font-bold text-red-600",children:Ih(e)})]}),R.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[R.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Margem"}),R.jsx("p",{className:`mt-2 text-2xl font-bold ${n>=0?"text-emerald-600":"text-rose-600"}`,children:Ih(n)})]})]}),R.jsx(ee.Suspense,{fallback:R.jsx(xh,{}),children:R.jsx(qM,{transactions:r,accounts:o})})]});var GM=aT();function Co(s,e,n){let r=n.initialDeps??[],o,u=!0;function c(){var m,g,p;let v;n.key&&((m=n.debug)!=null&&m.call(n))&&(v=Date.now());const T=s();if(!(T.length!==r.length||T.some((P,K)=>r[K]!==P)))return o;r=T;let N;if(n.key&&((g=n.debug)!=null&&g.call(n))&&(N=Date.now()),o=e(...T),n.key&&((p=n.debug)!=null&&p.call(n))){const P=Math.round((Date.now()-v)*100)/100,K=Math.round((Date.now()-N)*100)/100,G=K/16,se=(ie,oe)=>{for(ie=String(ie);ie.length<oe;)ie=" "+ie;return ie};console.info(`%c ${se(K,5)} /${se(P,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*G,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(u&&n.skipInitialOnChange)&&n.onChange(o),u=!1,o}return c.updateDeps=m=>{r=m},c}function eT(s,e){if(s===void 0)throw new Error("Unexpected undefined");return s}const KM=(s,e)=>Math.abs(s-e)<1.01,QM=(s,e,n)=>{let r;return function(...o){s.clearTimeout(r),r=s.setTimeout(()=>e.apply(this,o),n)}},tT=s=>{const{offsetWidth:e,offsetHeight:n}=s;return{width:e,height:n}},YM=s=>s,XM=s=>{const e=Math.max(s.startIndex-s.overscan,0),n=Math.min(s.endIndex+s.overscan,s.count-1),r=[];for(let o=e;o<=n;o++)r.push(o);return r},$M=(s,e)=>{const n=s.scrollElement;if(!n)return;const r=s.targetWindow;if(!r)return;const o=c=>{const{width:m,height:g}=c;e({width:Math.round(m),height:Math.round(g)})};if(o(tT(n)),!r.ResizeObserver)return()=>{};const u=new r.ResizeObserver(c=>{const m=()=>{const g=c[0];if(g!=null&&g.borderBoxSize){const p=g.borderBoxSize[0];if(p){o({width:p.inlineSize,height:p.blockSize});return}}o(tT(n))};s.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(m):m()});return u.observe(n,{box:"border-box"}),()=>{u.unobserve(n)}},nT={passive:!0},iT=typeof window>"u"?!0:"onscrollend"in window,WM=(s,e)=>{const n=s.scrollElement;if(!n)return;const r=s.targetWindow;if(!r)return;let o=0;const u=s.options.useScrollendEvent&&iT?()=>{}:QM(r,()=>{e(o,!1)},s.options.isScrollingResetDelay),c=v=>()=>{const{horizontal:T,isRtl:A}=s.options;o=T?n.scrollLeft*(A&&-1||1):n.scrollTop,u(),e(o,v)},m=c(!0),g=c(!1);n.addEventListener("scroll",m,nT);const p=s.options.useScrollendEvent&&iT;return p&&n.addEventListener("scrollend",g,nT),()=>{n.removeEventListener("scroll",m),p&&n.removeEventListener("scrollend",g)}},JM=(s,e,n)=>{if(e!=null&&e.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return s[n.options.horizontal?"offsetWidth":"offsetHeight"]},ZM=(s,{adjustments:e=0,behavior:n},r)=>{var o,u;const c=s+e;(u=(o=r.scrollElement)==null?void 0:o.scrollTo)==null||u.call(o,{[r.options.horizontal?"left":"top"]:c,behavior:n})};class e4{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(o=>{o.forEach(u=>{const c=()=>{this._measureElement(u.target,u)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(c):c()})}));return{disconnect:()=>{var o;(o=r())==null||o.disconnect(),n=null},observe:o=>{var u;return(u=r())==null?void 0:u.observe(o,{box:"border-box"})},unobserve:o=>{var u;return(u=r())==null?void 0:u.unobserve(o)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,o])=>{typeof o>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:YM,rangeExtractor:XM,onChange:()=>{},measureElement:JM,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,o;(o=(r=this.options).onChange)==null||o.call(r,this,n)},this.maybeNotify=Co(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,u)=>{this.scrollAdjustments=0,this.scrollDirection=u?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=u,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const o=new Map,u=new Map;for(let c=r-1;c>=0;c--){const m=n[c];if(o.has(m.lane))continue;const g=u.get(m.lane);if(g==null||m.end>g.end?u.set(m.lane,m):m.end<g.end&&o.set(m.lane,!0),o.size===this.options.lanes)break}return u.size===this.options.lanes?Array.from(u.values()).sort((c,m)=>c.end===m.end?c.index-m.index:c.end-m.end)[0]:void 0},this.getMeasurementOptions=Co(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,o,u,c,m)=>(this.prevLanes!==void 0&&this.prevLanes!==m&&(this.lanesChangedFlag=!0),this.prevLanes=m,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:o,getItemKey:u,enabled:c,lanes:m}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=Co(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:o,getItemKey:u,enabled:c,lanes:m},g)=>{if(!c)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const A of this.laneAssignments.keys())A>=n&&this.laneAssignments.delete(A);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(A=>{this.itemSizeCache.set(A.key,A.size)}));const p=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const v=this.measurementsCache.slice(0,p),T=new Array(m).fill(void 0);for(let A=0;A<p;A++){const N=v[A];N&&(T[N.lane]=A)}for(let A=p;A<n;A++){const N=u(A),P=this.laneAssignments.get(A);let K,G;if(P!==void 0&&this.options.lanes>1){K=P;const re=T[K],Re=re!==void 0?v[re]:void 0;G=Re?Re.end+this.options.gap:r+o}else{const re=this.options.lanes===1?v[A-1]:this.getFurthestMeasurement(v,A);G=re?re.end+this.options.gap:r+o,K=re?re.lane:A%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(A,K)}const se=g.get(N),ie=typeof se=="number"?se:this.options.estimateSize(A),oe=G+ie;v[A]={index:A,start:G,size:ie,end:oe,key:N,lane:K},T[K]=A}return this.measurementsCache=v,v},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Co(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,o,u)=>this.range=n.length>0&&r>0?t4({measurements:n,outerSize:r,scrollOffset:o,lanes:u}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Co(()=>{let n=null,r=null;const o=this.calculateRange();return o&&(n=o.startIndex,r=o.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,o,u,c)=>u===null||c===null?[]:n({startIndex:u,endIndex:c,overscan:r,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,o=n.getAttribute(r);return o?parseInt(o,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const o=this.indexFromElement(n),u=this.measurementsCache[o];if(!u)return;const c=u.key,m=this.elementsCache.get(c);m!==n&&(m&&this.observer.unobserve(m),this.observer.observe(n),this.elementsCache.set(c,n)),n.isConnected&&this.resizeItem(o,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const o=this.measurementsCache[n];if(!o)return;const u=this.itemSizeCache.get(o.key)??o.size,c=r-u;c!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,c,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=c,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,o)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(o))});return}this._measureElement(n,void 0)},this.getVirtualItems=Co(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const o=[];for(let u=0,c=n.length;u<c;u++){const m=n[u],g=r[m];o.push(g)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return eT(r[sS(0,r.length-1,o=>eT(r[o]).start,n)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const n=this.scrollElement.document.documentElement;return this.options.horizontal?n.scrollWidth-this.scrollElement.innerWidth:n.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(n,r,o=0)=>{if(!this.scrollElement)return 0;const u=this.getSize(),c=this.getScrollOffset();r==="auto"&&(r=n>=c+u?"end":"start"),r==="center"?n+=(o-u)/2:r==="end"&&(n-=u);const m=this.getMaxScrollOffset();return Math.max(Math.min(m,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const o=this.measurementsCache[n];if(!o)return;const u=this.getSize(),c=this.getScrollOffset();if(r==="auto")if(o.end>=c+u-this.options.scrollPaddingEnd)r="end";else if(o.start<=c+this.options.scrollPaddingStart)r="start";else return[c,r];if(r==="end"&&n===this.options.count-1)return[this.getMaxScrollOffset(),r];const m=r==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(m,r,o.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:o})},this.scrollToIndex=(n,{align:r="auto",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1)),this.currentScrollToIndex=n;let u=0;const c=10,m=p=>{if(!this.targetWindow)return;const v=this.getOffsetForIndex(n,p);if(!v){console.warn("Failed to get offset for index:",n);return}const[T,A]=v;this._scrollToOffset(T,{adjustments:void 0,behavior:o}),this.targetWindow.requestAnimationFrame(()=>{const N=()=>{if(this.currentScrollToIndex!==n)return;const P=this.getScrollOffset(),K=this.getOffsetForIndex(n,A);if(!K){console.warn("Failed to get offset for index:",n);return}KM(K[0],P)||g(A)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(N):N()})},g=p=>{this.targetWindow&&this.currentScrollToIndex===n&&(u++,u<c?this.targetWindow.requestAnimationFrame(()=>m(p)):console.warn(`Failed to scroll to index ${n} after ${c} attempts.`))};m(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let o;if(r.length===0)o=this.options.paddingStart;else if(this.options.lanes===1)o=((n=r[r.length-1])==null?void 0:n.end)??0;else{const u=Array(this.options.lanes).fill(null);let c=r.length-1;for(;c>=0&&u.some(m=>m===null);){const m=r[c];u[m.lane]===null&&(u[m.lane]=m.end),c--}o=Math.max(...u.filter(m=>m!==null))}return Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:o})=>{this.options.scrollToFn(n,{behavior:o,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(e)}}const sS=(s,e,n,r)=>{for(;s<=e;){const o=(s+e)/2|0,u=n(o);if(u<r)s=o+1;else if(u>r)e=o-1;else return o}return s>0?s-1:0};function t4({measurements:s,outerSize:e,scrollOffset:n,lanes:r}){const o=s.length-1,u=g=>s[g].start;if(s.length<=r)return{startIndex:0,endIndex:o};let c=sS(0,o,u,n),m=c;if(r===1)for(;m<o&&s[m].end<n+e;)m++;else if(r>1){const g=Array(r).fill(0);for(;m<o&&g.some(v=>v<n+e);){const v=s[m];g[v.lane]=v.end,m++}const p=Array(r).fill(n+e);for(;c>=0&&p.some(v=>v>=n);){const v=s[c];p[v.lane]=v.start,c--}c=Math.max(0,c-c%r),m=Math.min(o,m+(r-1-m%r))}return{startIndex:c,endIndex:m}}const sT=typeof document<"u"?ee.useLayoutEffect:ee.useEffect;function n4({useFlushSync:s=!0,...e}){const n=ee.useReducer(()=>({}),{})[1],r={...e,onChange:(u,c)=>{var m;s&&c?GM.flushSync(n):n(),(m=e.onChange)==null||m.call(e,u,c)}},[o]=ee.useState(()=>new e4(r));return o.setOptions(r),sT(()=>o._didMount(),[]),sT(()=>o._willUpdate()),o}function i4(s){return n4({observeElementRect:$M,observeElementOffset:WM,scrollToFn:ZM,...s})}const s4=s=>({[ri.HAS_BUT_NOT_ATTACHED]:"Tenho, mas no anexei",[ri.ATTACHED]:"Comp. anexado",[ri.LOST]:"Perdi o comp.",[ri.NOT_REQUIRED]:"Isento de comp."})[s||""]||"s/ comprovante",r4=s=>({[ri.ATTACHED]:"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-200",[ri.HAS_BUT_NOT_ATTACHED]:"bg-amber-100 text-amber-700 dark:bg-amber-900 dark:text-amber-200",[ri.LOST]:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-200",[ri.NOT_REQUIRED]:"bg-sky-100 text-sky-700 dark:bg-sky-900 dark:text-sky-200"})[s||""]||"bg-gray-100 text-gray-700 dark:bg-gray-900 dark:text-gray-300",a4=s=>({[_i.SAUDE]:"Sade",[_i.EDUCACAO]:"Educao",[_i.LIVRO_CAIXA]:"Livro caixa",[_i.CARNE_LEAO]:"Carn-Leo",[_i.ALUGUEL]:"Aluguel",[_i.BEM_DIREITO]:"Bens e direitos",[_i.ATIVIDADE_RURAL]:"Atividade Rural",[_i.OUTRA]:"Outra",[_i.NAO_DEDUTIVEL]:"No dedutvel / geral"})[s||""]||"No classificado",o4=({currentPage:s,totalPages:e,totalItems:n,startIndex:r,endIndex:o,pageSize:u,onPageChange:c,onPageSizeChange:m,hasNextPage:g,hasPrevPage:p})=>{const v=[25,50,100,200],T=()=>{const A=[];for(let P=1;P<=e;P++)P===1||P===e||P>=s-2&&P<=s+2?A.push(P):A[A.length-1]!=="ellipsis"&&A.push("ellipsis");return A};return n===0?null:R.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 py-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:[R.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[R.jsxs("span",{children:["Mostrando ",r+1,"-",o," de ",n]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("label",{htmlFor:"pageSize",className:"text-xs",children:"Por pgina:"}),R.jsx("select",{id:"pageSize",value:u,onChange:A=>m(Number(A.target.value)),className:"px-2 py-1 text-xs border rounded dark:bg-gray-700 dark:border-gray-600",children:v.map(A=>R.jsx("option",{value:A,children:A},A))})]})]}),R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx("button",{onClick:()=>c(1),disabled:!p,className:"px-2 py-1 text-xs rounded hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",title:"Primeira pgina",children:""}),R.jsx("button",{onClick:()=>c(s-1),disabled:!p,className:"px-2 py-1 text-xs rounded hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",title:"Pgina anterior",children:""}),R.jsx("div",{className:"flex items-center gap-1 mx-2",children:T().map((A,N)=>A==="ellipsis"?R.jsx("span",{className:"px-2 text-gray-400",children:"..."},`ellipsis-${N}`):R.jsx("button",{onClick:()=>c(A),className:`
                  px-3 py-1 text-xs rounded
                  ${A===s?"bg-indigo-600 text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}
                `,children:A},A))}),R.jsx("button",{onClick:()=>c(s+1),disabled:!g,className:"px-2 py-1 text-xs rounded hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",title:"Prxima pgina",children:""}),R.jsx("button",{onClick:()=>c(e),disabled:!g,className:"px-2 py-1 text-xs rounded hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",title:"ltima pgina",children:""})]})]})},l4=({isOpen:s,onClose:e,onConfirm:n,transactionsToDelete:r})=>{if(!s)return null;const o=r.length,u=r.some(p=>!!p.seriesId),c=new Set(r.filter(p=>!!p.seriesId).map(p=>p.seriesId)).size,[m,g]=Rg.useState(!1);return R.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:R.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6 animate-fadeIn",children:[R.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Confirmar Excluso"}),R.jsxs("div",{className:"mb-6 text-gray-700 dark:text-gray-300",children:[R.jsxs("p",{className:"mb-2",children:["Voc est prestes a excluir ",R.jsx("strong",{children:o})," lanamento(s)."]}),u&&R.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/30 p-4 rounded border border-amber-200 dark:border-amber-800 mt-4",children:[R.jsx("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200 mb-2",children:"Ateno: Itens parcelados selecionados"}),R.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300 mb-3",children:["Alguns lanamentos selecionados fazem parte de parcelamentos (",c," srie(s))."]}),R.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[R.jsx("input",{type:"checkbox",className:"mt-1 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",checked:m,onChange:p=>g(p.target.checked)}),R.jsx("span",{className:"text-sm",children:"Excluir tambm todas as outras parcelas relacionadas a estes lanamentos?"})]})]}),!u&&R.jsx("p",{className:"text-sm text-gray-500",children:"Esta ao no pode ser desfeita."})]}),R.jsxs("div",{className:"flex justify-end gap-3",children:[R.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-600",children:"Cancelar"}),R.jsxs("button",{onClick:()=>n(m),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:["Excluir ",o>1?"Selecionados":"Lanamento"]})]})]})})},u4=48,c4=100,h4=({transactions:s,pagination:e,sortOrder:n,setSortOrder:r,onEdit:o,onDelete:u,invoiceGroups:c,onLoadMore:m,isLoadingMore:g=!1})=>{const p=ee.useRef(null),[v,T]=ee.useState(new Set),[A,N]=ee.useState(!1),[P,K]=ee.useState([]),G=s.length>c4,se=i4({count:s.length,getScrollElement:()=>p.current,estimateSize:()=>u4,overscan:10}),ie=w=>{const O=new Set(v);O.has(w)?O.delete(w):O.add(w),T(O)},oe=()=>{v.size===s.length&&s.length>0?T(new Set):T(new Set(s.map(w=>w.id)))},re=ee.useCallback(w=>{if(!w.invoiceId)return"";const O=c.get(w.invoiceId);return!O||O.length<=1?"":"bg-amber-50 dark:bg-amber-900/20 border-l-4 border-l-amber-400"},[c]),Re=w=>{K([w]),N(!0)},Ee=()=>{const w=s.filter(O=>v.has(O.id));K(w),N(!0)},I=async w=>{const O=P.map(M=>M.id);await u(O,w),N(!1),T(new Set),K([])},C=(w,O)=>R.jsxs("tr",{style:O,className:`hover:bg-gray-50 dark:hover:bg-gray-900/40 ${re(w)} ${v.has(w.id)?"bg-indigo-50 dark:bg-indigo-900/10":""}`,children:[R.jsx("td",{className:"px-3 py-2",children:R.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer",checked:v.has(w.id),onChange:()=>ie(w.id)})}),R.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-gray-800 dark:text-gray-200",children:wM(w.date)}),R.jsx("td",{className:"px-3 py-2",children:R.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${lT(w)?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"}`,children:w.type})}),R.jsxs("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-200",children:[w.accountNumber," - ",w.accountName]}),R.jsxs("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-200",children:[w.description,w.isContaTiti&&R.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-[10px] font-medium bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200",children:"Conta Titi"})]}),R.jsx("td",{className:"px-3 py-2 text-gray-600 dark:text-gray-400",children:w.payee}),R.jsx("td",{className:"px-3 py-2",children:R.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-[10px] font-medium ${r4(w.receiptStatus)}`,children:s4(w.receiptStatus)})}),R.jsx("td",{className:"px-3 py-2 text-xs text-gray-600 dark:text-gray-400",children:a4(w.irCategory)}),R.jsx("td",{className:"px-3 py-2 text-right font-semibold text-gray-800 dark:text-gray-200",children:Ih(w.amount)}),R.jsxs("td",{className:"px-3 py-2 text-right whitespace-nowrap",children:[R.jsx("button",{onClick:()=>o(w),className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700 mr-1",title:"Editar",children:R.jsx(NM,{className:"w-4 h-4"})}),R.jsx("button",{onClick:()=>Re(w),className:"p-1 rounded hover:bg-red-100 dark:hover:bg-red-900/60",title:"Excluir",children:R.jsx(OM,{className:"w-4 h-4"})})]})]},w.id);return R.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md mt-4",children:[R.jsx(l4,{isOpen:A,onClose:()=>N(!1),onConfirm:I,transactionsToDelete:P,totalTransactions:s.length}),R.jsx("div",{className:"flex justify-between items-center px-4 py-3 border-b dark:border-gray-700 min-h-[60px]",children:v.size>0?R.jsxs("div",{className:"flex items-center gap-4 w-full animate-fadeIn bg-indigo-50 dark:bg-indigo-900/20 -mx-4 px-4 py-2",children:[R.jsxs("span",{className:"text-sm font-medium text-indigo-700 dark:text-indigo-300",children:[v.size," selecionado(s)"]}),R.jsx("button",{onClick:Ee,className:"ml-auto text-sm bg-red-100 text-red-700 hover:bg-red-200 px-3 py-1.5 rounded-md font-medium transition-colors",children:"Excluir Selecionados"})]}):R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("h2",{className:"text-lg font-semibold",children:"Lanamentos"}),R.jsxs("span",{className:"text-xs text-gray-500",children:["(",e.totalItems,")"]}),G&&R.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300 rounded",children:"Virtual"})]}),R.jsxs("button",{onClick:()=>r(n==="asc"?"desc":"asc"),className:"text-xs text-gray-500",children:["Data (",n==="asc"?"":"",")"]})]})}),R.jsx("div",{className:"overflow-x-auto",children:G?R.jsx("div",{ref:p,className:"max-h-[600px] overflow-auto scrollbar-thin",children:R.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 text-sm",children:[R.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900/60 sticky top-0 z-10",children:R.jsxs("tr",{children:[R.jsx("th",{className:"px-3 py-2 w-10",children:R.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer",checked:s.length>0&&v.size===s.length,onChange:oe})}),R.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Data"}),R.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Tipo"}),R.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Conta"}),R.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Histrico"}),R.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Fornecedor"}),R.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Comprovante"}),R.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Categoria IR"}),R.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-400",children:"Valor"}),R.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-400",children:"Aes"})]})}),R.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700 relative",style:{height:`${se.getTotalSize()}px`},children:se.getVirtualItems().map(w=>{const O=s[w.index];return C(O,{position:"absolute",top:0,left:0,width:"100%",height:`${w.size}px`,transform:`translateY(${w.start}px)`})})})]})}):R.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 text-sm",children:[R.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900/60",children:R.jsxs("tr",{children:[R.jsx("th",{className:"px-3 py-2 w-10",children:R.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer",checked:s.length>0&&v.size===s.length,onChange:oe})}),R.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Data"}),R.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Tipo"}),R.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Conta"}),R.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Histrico"}),R.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Fornecedor"}),R.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Comprovante"}),R.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Categoria IR"}),R.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-400",children:"Valor"}),R.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-400",children:"Aes"})]})}),R.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[s.map(w=>C(w)),s.length===0&&R.jsx("tr",{children:R.jsx("td",{colSpan:10,className:"px-4 py-6 text-center text-gray-500",children:"Nenhum lanamento encontrado."})})]})]})}),R.jsx(o4,{currentPage:e.currentPage,totalPages:e.totalPages,onPageChange:e.goToPage,pageSize:e.pageSize,onPageSizeChange:e.setPageSize,totalItems:e.totalItems,hasNextPage:e.hasNextPage,hasPrevPage:e.hasPrevPage,startIndex:e.startIndex,endIndex:e.endIndex}),m&&R.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/40 text-center",children:R.jsx("button",{onClick:m,disabled:g,className:"text-sm text-indigo-600 dark:text-indigo-400 font-medium hover:underline disabled:opacity-50",children:g?"Carregando...":"Carregar transaes mais antigas"})})]})},f4=ee.lazy(()=>Ma(()=>import("./CashFlowReport-CB_kPfOO.js"),__vite__mapDeps([4,1,3,5]))),d4=ee.lazy(()=>Ma(()=>import("./IrpfView-sidG1m6s.js"),[]).then(s=>({default:s.IrpfView}))),m4=ee.lazy(()=>Ma(()=>import("./EntryForm-CTW9Luey.js"),[])),g4=ee.lazy(()=>Ma(()=>import("./RecurringTransactionsModal-NjDyDhhD.js"),[])),p4=ee.lazy(()=>Ma(()=>import("./ExportModal-CE-ZSKft.js"),__vite__mapDeps([6,1,2,5]))),y4=ee.lazy(()=>Ma(()=>import("./BackupRestore-74qU8GYH.js"),[])),_4=()=>{const{user:s,authLoading:e,dataLoading:n,isSyncing:r,filteredTransactions:o,transactions:u,accounts:c,recurringTransactions:m,setRecurringTransactions:g,irpfResumo:p,totalEntradas:v,totalSaidas:T,margem:A,invoiceGroups:N,filters:P,setFilters:K,clearFilters:G,isFormOpen:se,setIsFormOpen:ie,transactionToEdit:oe,activeView:re,setActiveView:Re,isRecurringModalOpen:Ee,setIsRecurringModalOpen:I,isExportModalOpen:C,setIsExportModalOpen:w,isBackupModalOpen:O,setIsBackupModalOpen:M,sortOrder:L,setSortOrder:x,handleSignOut:Ve,handleForceSync:et,handleAddTransaction:Q,handleEditTransaction:te,handleDeleteTransactions:pe,handleSaveTransaction:Pe,handleGenerateRecurring:Be,handleSaveRecurring:k,handleDeleteRecurring:X,handleRestore:ne,pagination:le,handleLoadMore:Te,isLoadingMore:Ce,isBackgroundSyncing:Ue,chartTransactions:yt}=IM();return e?R.jsx("div",{className:"flex h-screen items-center justify-center text-gray-500 dark:text-gray-400",children:"Carregando..."}):s?R.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[R.jsx(FM,{onSignOut:Ve,onOpenBackup:()=>M(!0),onForceSync:et,isSyncing:r,isBackgroundSyncing:Ue,onExport:()=>w(!0),activeView:re,setActiveView:Re,onOpenRecurring:()=>I(!0),onAddTransaction:Q}),R.jsx("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:n?R.jsx(xh,{}):R.jsxs(R.Fragment,{children:[R.jsx(BM,{filters:P,onFilterChange:K,accounts:c,onClear:G}),re==="dashboard"&&R.jsx(HM,{totalEntradas:v,totalSaidas:T,margem:A,filteredTransactions:yt,accounts:c}),re==="cashflow"&&R.jsx("div",{className:"mt-4",children:R.jsx(ee.Suspense,{fallback:R.jsx(xh,{}),children:R.jsx(f4,{transactions:yt})})}),re==="list"&&R.jsx(h4,{transactions:le.paginatedItems,allTransactionsCount:o.length,pagination:le,sortOrder:L,setSortOrder:x,onEdit:te,onDelete:pe,invoiceGroups:N,onLoadMore:Te,isLoadingMore:Ce}),re==="irpf"&&R.jsx(ee.Suspense,{fallback:R.jsx(xh,{}),children:R.jsx(d4,{irpfResumo:p})})]})}),R.jsx(ee.Suspense,{fallback:null,children:se&&R.jsx(m4,{isOpen:se,onClose:()=>ie(!1),onSave:Pe,transactionToEdit:oe,accounts:c,transactions:u,userId:s==null?void 0:s.uid})}),R.jsx(ee.Suspense,{fallback:null,children:Ee&&R.jsx(g4,{isOpen:Ee,onClose:()=>I(!1),accounts:c,recurringTransactions:m,setRecurringTransactions:g,onGenerate:Be,onSaveItem:k,onDeleteItem:X})}),R.jsx(ee.Suspense,{fallback:null,children:C&&R.jsx(p4,{isOpen:C,onClose:()=>w(!1),transactions:o})}),R.jsx(ee.Suspense,{fallback:null,children:O&&R.jsx(y4,{isOpen:O,onClose:()=>M(!1),transactions:u,accounts:c,recurringTransactions:m,onRestore:ne})})]}):R.jsx(jM,{})},v4=()=>R.jsx(xM,{children:R.jsx(Z1,{children:R.jsx(_4,{})})}),rS=document.getElementById("root");if(!rS)throw new Error("Could not find root element to mount to");const E4=K1.createRoot(rS);E4.render(R.jsx(Rg.StrictMode,{children:R.jsx(v4,{})}));export{_i as I,ri as R,ew as T,wM as a,C4 as b,ZE as c,R4 as d,Oo as e,Ih as f,w4 as g,RM as h,a4 as i,R as j,T4 as k,rT as l,cv as m,lT as n,GM as o,pu as p,wg as q,ee as r,I4 as s,A4 as t,S4 as u};
